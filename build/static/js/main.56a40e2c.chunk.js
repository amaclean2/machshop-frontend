(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(80),o=a.n(l),i=a(4),r=a(5),c=a(8),h=a(6),d=a(7),u=a(1),m=a(18),p=a(19),g=a(86),b=new(a(87).Dispatcher),f=new(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(h.a)(t).call(this))).store={form:{}},e.setMaxListeners(30),e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"setUrl",value:function(){var e;e=-1!==window.location.href.indexOf("localhost")?"http://localhost:3001/api":"https://toolbbe.herokuapp.com/api",this.store=Object(p.a)({},this.store,{url:e})}},{key:"setUserInfo",value:function(e){var t=this;"object"===typeof e?(this.store=Object(p.a)({},this.store,{user:e}),this.populateOrdering(),this.populateUsers(),this.populateCompanies()):fetch("https://toolbbe.herokuapp.com/api/allusers").then(function(e){return e.json()}).then(function(e){t.store=Object(p.a)({},t.store,{user:e.find(function(e){return e._id===sessionStorage.getItem("userId")})}),t.populateOrdering(),t.populateUsers(),t.populateCompanies()})}},{key:"setPasswordReset",value:function(){this.store.limited=!0}},{key:"getPasswordReset",value:function(){return this.store.limited}},{key:"unsetPasswordReset",value:function(){this.store.limited=!1}},{key:"getUserInfo",value:function(){return this.store.user}},{key:"getReady",value:function(e){return this.store[e]}},{key:"getCompanyId",value:function(){return this.store.user.company_id}},{key:"populateOrdering",value:function(){var e=this,t=this.getCompanyId();this.store=Object(p.a)({},this.store,{ordering:this.store.ordering?this.store.ordering:[]}),this.store.t=!1,fetch(this.store.url+"/shopping/mill?company_id="+t).then(function(e){return e.json()}).then(function(a){e.store.ordering=Object(p.a)({},e.store.ordering,{mill:a}),e.emit("millUpdated"),fetch(e.store.url+"/shopping/lathe?company_id="+t).then(function(e){return e.json()}).then(function(a){e.store.ordering=Object(p.a)({},e.store.ordering,{lathe:a}),e.emit("latheUpdated"),fetch(e.store.url+"/shopping/other?company_id="+t).then(function(e){return e.json()}).then(function(t){e.store.ordering=Object(p.a)({},e.store.ordering,{other:t}),e.store.t=!0,e.emit("allUpdated")})})})}},{key:"populateUsers",value:function(){var e=this,t=this.getCompanyId(),a=this.store.url.replace("http://localhost:3001","https://toolbbe.herokuapp.com");a=a+"/users?company_id="+t,this.store.u=!1,fetch(a).then(function(e){return e.json()}).then(function(t){e.store=Object(p.a)({},e.store,{users:t}),e.store.u=!0,e.emit("change")})}},{key:"populateCompanies",value:function(){var e=this,t=this.getCompanyId(),a=this.store.url.replace("http://localhost:3001","https://toolbbe.herokuapp.com");a=a+"/companies/"+t,this.store.c=!1,fetch(a).then(function(e){return e.json()}).then(function(t){Array.isArray(t)||(t=[t]),e.store=Object(p.a)({},e.store,{companies:t}),e.store.c=!0,e.emit("updatedCompanies")})}},{key:"getForm",value:function(e,t,a){var n=JSON.parse(JSON.stringify(this.store[e])),s=(a?n[a]:n).find(function(e){return e._id===t});if(a){for(var l in s.tool_data)s[l]=s.tool_data[l];delete s.tool_data}return this.store.form=s,s}},{key:"viewForm",value:function(){return this.store.form}},{key:"getFormValue",value:function(e){return this.store.form[e]}},{key:"updateFormItem",value:function(e){for(var t in e)this.store.form[t]=e[t];this.emit("changeForm")}},{key:"resetForm",value:function(){this.store.form={}}},{key:"getOrdering",value:function(e){var t=JSON.parse(JSON.stringify(this.store.ordering))[e];return(t=t.filter(function(e){return e.tool_data&&!0===e.tool_data.shopping})).forEach(function(e){for(var t in e.tool_data)e[t]=e.tool_data[t];delete e.tool_data}),t}},{key:"getUsers",value:function(){return this.store.users}},{key:"getCompanies",value:function(){return this.store.companies}},{key:"getPurchased",value:function(e){var t=JSON.parse(JSON.stringify(this.store.ordering))[e];return(t=t.filter(function(e){return e.tool_data&&!e.tool_data.shopping&&e.tool_data.purchased})).forEach(function(e){for(var t in e.tool_data)e[t]=e.tool_data[t];delete e.tool_data}),t}},{key:"getShipped",value:function(e){var t=JSON.parse(JSON.stringify(this.store.ordering))[e];return(t=t.filter(function(e){return e.tool_data&&!e.tool_data.shopping&&!e.tool_data.purchased})).forEach(function(e){for(var t in e.tool_data)e[t]=e.tool_data[t];delete e.tool_data}),t}},{key:"sendOrder",value:function(e,t){var a=this;e.company_id=this.getCompanyId(),e.created_at=(new Date).getTime(),fetch(this.store.url+"/shopping/"+t,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){a.populateOrdering()})}},{key:"editOrder",value:function(e,t){var a=this;e.company_id=e.tool_data.company_id,delete e.tool_data.company_id,e._id=e.tool_data._id,delete e.tool_data._id,e.updated_at=e.tool_data.updated_at,delete e.tool_data.updated_at,e.user=e.tool_data.user,delete e.tool_data.user,e.created_at=e.tool_data.created_at,delete e.tool_data.created_at;var n=this.store.url+"/shopping/"+t+"/"+e._id,s=new Request(n,{method:"PUT",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});fetch(s).then(function(e){return e.json()}).then(function(e){a.populateOrdering()})}},{key:"putUser",value:function(e){var t=this,a=this.store.url+"/users/"+e._id;a=a.replace("http://localhost:3001","https://toolbbe.herokuapp.com");var n=new Request(a,{method:"PUT",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});fetch(n).then(function(e){return e.json()}).then(function(e){t.populateUsers()})}},{key:"postUser",value:function(e){var t=this,a=this.store.url+"/users";a=a.replace("http://localhost:3001","https://toolbbe.herokuapp.com");var n=new Request(a,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});fetch(n).then(function(e){return e.json()}).then(function(e){t.populateUsers()})}},{key:"putCompany",value:function(e){var t=this,a=this.store.url+"/companies/"+e._id;a=a.replace("http://localhost:3001","https://toolbbe.herokuapp.com");var n=new Request(a,{method:"PUT",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});fetch(n).then(function(e){return e.json()}).then(function(e){t.populateCompanies()})}},{key:"postCompany",value:function(e){var t=this,a=this.store.url+"/companies";a=a.replace("http://localhost:3001","https://toolbbe.herokuapp.com");var n=new Request(a,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});fetch(n).then(function(e){return e.json()}).then(function(e){t.populateCompanies()})}},{key:"deleteOrder",value:function(e,t){var a=this;fetch(this.store.url+"/shopping/"+t+"/"+e,{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){a.populateOrdering()})}},{key:"handleActions",value:function(e){switch(e.type){case"SET_INFO":this.setUserInfo(e.position);break;case"SET_PASS_RESET":this.setPasswordReset();break;case"SET_URL":this.setUrl();break;case"NEW_ORDER":this.sendOrder(e.body,e.category);break;case"EDIT_ORDER":this.editOrder(e.body,e.category);break;case"DELETE_ORDER":this.deleteOrder(e.id,e.category);break;case"UPDATE_FORM":this.updateFormItem(e.property);break;case"RESET_FORM":this.resetForm();break;case"EDIT_USER":this.putUser(e.body);break;case"CREATE_USER":this.postUser(e.body);break;case"EDIT_COMPANY":this.putCompany(e.body);break;case"CREATE_COMPANY":this.postCompany(e.body)}}}]),t}(g.EventEmitter));b.register(f.handleActions.bind(f)),window.fluxStore=f,window.dispatcher=b;var v=f,y=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"contentList",value:function(){var e=this;return this.props.tabs.map(function(t,a){return s.a.createElement("li",{key:a},s.a.createElement(m.b,{to:"/"+t.value,onClick:e.props.toggleHideSideNav},t.name))})}},{key:"render",value:function(){var e=this.contentList();return s.a.createElement("div",null,s.a.createElement("div",{className:"sidenav-background "+(this.props.gone?"gone ":"")+(this.props.hidden?"fade-out ":"fade-in "),onClick:this.props.toggleHideSideNav}),s.a.createElement("div",{className:"sidenav-view "+(this.props.hidden?"hide ":"")},s.a.createElement("div",{className:"sidenav-header"},s.a.createElement("button",{className:"button white-button",onClick:this.props.logout},"Logout")),s.a.createElement("div",{className:"sidenav-content"},s.a.createElement("ul",null,e))))}}]),t}(n.Component),E=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(h.a)(t).call(this))).state={hidden:!0,gone:!0,data:[{value:"default",children:"Select User"},{value:"andrew_maclean",children:"Andrew Maclean"}],title:""},e.toggleHideSideNav=e.toggleHideSideNav.bind(Object(u.a)(Object(u.a)(e))),e.selectOutput=e.selectOutput.bind(Object(u.a)(Object(u.a)(e))),e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"selectOutput",value:function(e,t){return[e,t]}},{key:"toggleHideSideNav",value:function(){var e=this;this.setState({hidden:!this.state.hidden}),setTimeout(function(){e.setState({gone:e.state.hidden})},300)}},{key:"componentWillMount",value:function(){var e=this;v.on("millUpdated",function(){var t=v.getUserInfo();e.setState({title:t.company_name})})}},{key:"showFullHeader",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"header-wrapper"},s.a.createElement("h2",null,this.props.title),s.a.createElement("div",{className:"flex-spacer"}),s.a.createElement(m.b,{className:"company-title",to:"/companies"},this.state.title),s.a.createElement("div",{className:"right-content"},s.a.createElement("i",{className:"fa fa-bars hoverable","aria-hidden":"true",onClick:this.toggleHideSideNav}))),s.a.createElement(y,{hidden:this.state.hidden,gone:this.state.gone,toggleHideSideNav:this.toggleHideSideNav,tabs:this.props.tabs,logout:this.props.logout}))}},{key:"render",value:function(){var e=this.showFullHeader();return s.a.createElement("div",null,e)}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={queryText:"",data:e.data,headers:a.props.headers.columns,filterDirection:"forewards"},a.columnNames=a.columnNames.bind(Object(u.a)(Object(u.a)(a))),a.rows=a.rows.bind(Object(u.a)(Object(u.a)(a))),a.updateQuery=a.updateQuery.bind(Object(u.a)(Object(u.a)(a))),a.filterByColumn=a.filterByColumn.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"filterByColumn",value:function(e){var t=this,a=this.state.data;a=a.sort(function(a,n){return"forewards"===t.state.filterDirection?(t.setState({filterDirection:"reverse"}),a[e]<n[e]?-1:a[e]>n[e]?1:0):(t.setState({filterDirection:"forewards"}),n[e]<a[e]?-1:n[e]>a[e]?1:0)}),this.setState({data:a})}},{key:"rows",value:function(){var e=this,t=this.state.data.map(function(t,a){var n=[],l=t,o=e.state.headers.map(function(e){return e.dataPoint});if(e.state.headers.forEach(function(e){e.searchable&&(n+=t[e.dataPoint]?String(t[e.dataPoint]).toLowerCase()+" ":"")}),-1!==n.indexOf(e.state.queryText)){var i=o.map(function(a,n){if(e.state.headers[n].link)return s.a.createElement("td",{key:n,"data-label":e.state.headers[n].title},s.a.createElement("a",{href:"#",className:"large-table-link",onClick:function(){e.props.toggleModal(t._id)}},l[a]),s.a.createElement("span",{className:"small-table-link"},l[a]));var o=e.state.headers[n].formatted?e.state.headers[n].formatted(l[a]):l[a];return s.a.createElement("td",{key:n,"data-label":e.state.headers[n].title},o)});return s.a.createElement("tr",{key:10*a},i,s.a.createElement("td",{className:"small-row-link",onClick:function(){e.props.toggleModal(t._id)}}))}return null});return t}},{key:"updateQuery",value:function(e){this.setState({queryText:e.target.value.toLowerCase()})}},{key:"columnNames",value:function(){var e=this;return this.state.headers.map(function(t,a){return t.sortable?s.a.createElement("th",{className:"clickable-headers",onClick:function(){return e.filterByColumn(t.dataPoint)},key:a},t.title," "):s.a.createElement("th",{key:a},t.title)})}},{key:"render",value:function(){var e=this,t=this.columnNames(),a=this.rows();return s.a.createElement("div",{id:"Main/Table"},s.a.createElement("div",{className:"table-top"},s.a.createElement("div",{className:this.props.noAdd?"gone":""},s.a.createElement("button",{onClick:function(){e.props.toggleModal("0")},className:"button table-button"},this.props.addText?this.props.addText:"add")),s.a.createElement("div",{className:"search-bar "+(this.props.noSearch?"gone":"")},s.a.createElement("input",{type:"text",placeholder:"Search",onChange:this.updateQuery}))),s.a.createElement("table",{className:"important-table"},s.a.createElement("thead",null,s.a.createElement("tr",null,t)),s.a.createElement("tbody",null,a)))}}]),t}(n.Component),k={Parts:[["Part Number","part_number","e"],["Revision","part_revision"],["Part Name","part_name"],["Customer","customer"]],Users:{columns:[{title:"Name",dataPoint:"name",link:!0,sortable:!0,searchable:!0},{title:"Company Name",dataPoint:"company_name",link:!1,sortable:!0,searchable:!0},{title:"Position",dataPoint:"user_position",link:!1,sortable:!0,searchable:!1},{title:"Email",dataPoint:"email",link:!1,sortable:!0,searchable:!0}]},Companies:{columns:[{title:"Name",dataPoint:"name",link:!0,sortable:!1,searchable:!0},{title:"Id",dataPoint:"_id",link:!1,sortable:!1,searchable:!0},{title:"Location",dataPoint:"street_address",link:!1,sortable:!1,searchable:!0}]},UsersWidget:[["Name","name","e"],["Hours","hours"]],MiniJobs:[["Job Number","job_number","e"],["Start Date","date_to_start"]],Jobs:[["Job Number","job_number","e"],["Part Number","part_number"],["Description","description"],["Date to Start","date_to_start"],["Date Started","date_started"]],JobsWidget:[["Job Number","job_number","e"],["Part Number","part_number"],["Due Date","date_to_start"]],MillTools:{columns:[{title:"Type",dataPoint:"tool_type",link:!0,sortable:!0,searchable:!0},{title:"Diameter",dataPoint:"diameter",sortable:!0,link:!1,searchable:!0},{title:"Material",dataPoint:"material",sortable:!0,link:!1,searchable:!0},{title:"EDP Number",dataPoint:"edp",sortable:!0,link:!1,searchable:!0},{title:"Location",dataPoint:"location",sortable:!0,link:!1,searchable:!0},{title:"Quantity",dataPoint:"count",sortable:!0,searchable:!0,link:!1},{title:"Added",dataPoint:"created_at",sortable:!0,link:!1,formatted:function(e){if(e){var t=new Date(e),a=t.getFullYear();return t.getMonth()+1+"-"+t.getDate()+"-"+a}return"-"}}]},LatheTools:{columns:[{title:"Type",dataPoint:"tool_type",link:!0,sortable:!0,searchable:!0},{title:"Description",dataPoint:"description",sortable:!0,link:!1,searchable:!0},{title:"Material",dataPoint:"material",sortable:!0,link:!1,searchable:!0},{title:"Location",dataPoint:"location",sortable:!0,link:!1},{title:"Quantity",dataPoint:"count",sortable:!0,link:!1,searchable:!0},{title:"Added",dataPoint:"created_at",sortable:!0,link:!1,formatted:function(e){if(e){var t=new Date(e),a=t.getFullYear();return t.getMonth()+1+"-"+t.getDate()+"-"+a}return"-"}}]},OtherTools:{columns:[{title:"Name",dataPoint:"name",link:!0,sortable:!0,searchable:!0},{title:"Description",dataPoint:"description",sortable:!0,link:!1,searchable:!0},{title:"Location",dataPoint:"location",sortable:!0,link:!1,searchable:!0},{title:"Quantity",dataPoint:"count",sortable:!0,link:!1,searchable:!0},{title:"Added",dataPoint:"created_at",sortable:!0,link:!1,formatted:function(e){if(e){var t=new Date(e),a=t.getFullYear();return t.getMonth()+1+"-"+t.getDate()+"-"+a}return"-"}}]},OrderMill:{columns:[{title:"Type",dataPoint:"tool_type",link:!0,sortable:!0,searchable:!0},{title:"Diameter",dataPoint:"diameter",sortable:!0,link:!1,searchable:!0},{title:"Material",dataPoint:"material",sortable:!0,link:!1,searchable:!0},{title:"EDP Number",dataPoint:"edp",sortable:!0,link:!1,searchable:!0},{title:"Price per Tool",dataPoint:"price",sortable:!0,link:!1,searchable:!0,formatted:function(e){return"$ "+(e=e||"-")}},{title:"Quantity",dataPoint:"count",sortable:!0,link:!1,searchable:!0},{title:"Added",dataPoint:"created_at",sortable:!0,link:!1,formatted:function(e){if(e){var t=new Date(e),a=t.getFullYear();return t.getMonth()+1+"-"+t.getDate()+"-"+a}return"-"}}]},OrderLathe:{columns:[{title:"Type",dataPoint:"tool_type",link:!0,sortable:!0,searchable:!0},{title:"Description",dataPoint:"description",link:!1,sortable:!0,searchable:!0},{title:"Material",dataPoint:"material",link:!1,sortable:!0,searchable:!0},{title:"Price per Tool",dataPoint:"price",link:!1,sortable:!0,searchable:!0,formatted:function(e){return"$ "+(e=e||"-")}},{title:"Quantity",dataPoint:"count",link:!1,sortable:!0,searchable:!0},{title:"Added",dataPoint:"created_at",sortable:!0,link:!1,formatted:function(e){if(e){var t=new Date(e),a=t.getFullYear();return t.getMonth()+1+"-"+t.getDate()+"-"+a}return"-"}}]},OrderOther:{columns:[{title:"Name",dataPoint:"name",link:!0,sortable:!0,searchable:!0},{title:"Description",dataPoint:"description",link:!1,sortable:!0,searchable:!0},{title:"Price per Part",dataPoint:"price",link:!1,sortable:!0,searchable:!0,formatted:function(e){return"$ "+(e=e||"-")}},{title:"Quantity",dataPoint:"count",link:!1,sortable:!0,searchable:!0},{title:"Added",dataPoint:"created_at",sortable:!0,link:!1,formatted:function(e){if(e){var t=new Date(e),a=t.getFullYear();return t.getMonth()+1+"-"+t.getDate()+"-"+a}return"-"}}]}},O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={data:e.data},a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"render",value:function(){return s.a.createElement("div",{className:"order-mill",id:"Pages/Ordering/OrderMill"},s.a.createElement(_,{addText:"stock"===this.props.source?"add a new tool":"request a new tool",noAdd:this.props.noAdd,data:this.state.data,headers:"stock"===this.props.source?k.MillTools:k.OrderMill,toggleModal:this.props.toggleModal}))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={data:e.data},a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"render",value:function(){return s.a.createElement("div",{className:"order-lathe",id:"Pages/Ordering/OrderLathe"},s.a.createElement(_,{addText:"stock"===this.props.source?"add a new tool":"request a new tool",noAdd:this.props.noAdd,data:this.state.data,headers:"stock"===this.props.source?k.LatheTools:k.OrderLathe,toggleModal:this.props.toggleModal}))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={data:e.data},a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"render",value:function(){return s.a.createElement("div",{className:"other-tools",id:"Pages/Ordering/OrderOther"},s.a.createElement(_,{addText:"stock"===this.props.source?"add a new tool":"request a new tool",noAdd:this.props.noAdd,data:this.state.data,headers:"stock"===this.props.source?k.OtherTools:k.OrderOther,toggleModal:this.props.toggleModal}))}}]),t}(n.Component),C=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=v.getFormValue(this.props.value);return s.a.createElement("span",{className:"line-item description "+this.props.classes},s.a.createElement("span",{className:"display "+(this.props.disabled?"disabled":"")},this.props.header),s.a.createElement("div",null,s.a.createElement("span",{className:this.props.classes&&-1!==this.props.classes.indexOf("price")?"":"gone"},"$"),s.a.createElement("span",{className:"value"},e),s.a.createElement("span",{className:"input-hard-text "+(this.props.value&&this.props.units?"units-space":"gone")},this.props.units)))}}]),t}(n.Component),N=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(h.a)(t).call(this))).state={shown:!1,data:[],chosen:{},classes:""},e.makeSelect=e.makeSelect.bind(Object(u.a)(Object(u.a)(e))),e.toggleShown=e.toggleShown.bind(Object(u.a)(Object(u.a)(e))),e.selectItem=e.selectItem.bind(Object(u.a)(Object(u.a)(e))),e.getClasses=e.getClasses.bind(Object(u.a)(Object(u.a)(e))),e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"getClasses",value:function(){if(this.props.children&&this.props.children.props.className){var e=this.state.classes;e+=this.props.children.props.className+" ",this.setState({classes:e})}if(this.props.classes){var t=this.state.classes;t+=this.props.classes+" ",this.setState({classes:t})}}},{key:"makeSelect",value:function(e){var t;t=e.data?e.data:e.children.props.children.map(function(e){return e.props}),this.setState({data:t,chosen:e.value?{value:e.value,children:e.value}:t[0]})}},{key:"componentDidMount",value:function(){this.getClasses(),this.makeSelect(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.makeSelect(e)}},{key:"selectItem",value:function(e){this.props.output({target:{value:e.value,name:this.props.name}}),this.setState({chosen:e}),this.toggleShown()}},{key:"showList",value:function(){var e=this;return this.state.data.map(function(t,a){return s.a.createElement("li",{key:a,onClick:function(){e.selectItem(t)},value:t.value},t.children)})}},{key:"toggleShown",value:function(){this.setState({shown:!this.state.shown})}},{key:"render",value:function(){var e=this.showList();return s.a.createElement("div",{className:"ms-select "+this.state.classes,id:"Select"},s.a.createElement("div",{className:"screen-cover "+(this.state.shown?"":"gone"),onClick:this.toggleShown}),s.a.createElement("div",{className:"shown-box",onClick:this.toggleShown},s.a.createElement("span",{className:"view"},this.state.chosen.children),s.a.createElement("i",{className:"fa fa-caret-up select-icon "+(this.state.shown?"spun-back":"spun down"),"aria-hidden":"true"})),s.a.createElement("ul",{className:"drop-list "+(this.state.shown?"":"gone")},e))}}]),t}(n.Component),M=[{size:"107",diameter:"0.0019",flute_length:"",oal_length:""},{size:"106",diameter:"0.0023",flute_length:"",oal_length:""},{size:"105",diameter:"0.0027",flute_length:"",oal_length:""},{size:"104",diameter:"0.0031",flute_length:"",oal_length:""},{size:"103",diameter:"0.0035",flute_length:"",oal_length:""},{size:"102",diameter:"0.0039",flute_length:"",oal_length:""},{size:"101",diameter:"0.0043",flute_length:"",oal_length:""},{size:"100",diameter:"0.0047",flute_length:"",oal_length:""},{size:"99",diameter:"0.0051",flute_length:"",oal_length:""},{size:"98",diameter:"0.0055",flute_length:"",oal_length:""},{size:"97",diameter:"0.0059",flute_length:"",oal_length:""},{size:"96",diameter:"0.0063",flute_length:"",oal_length:""},{size:"95",diameter:"0.0067",flute_length:"",oal_length:""},{size:"94",diameter:"0.0071",flute_length:"",oal_length:""},{size:"93",diameter:"0.0075",flute_length:"",oal_length:""},{size:"92",diameter:"0.0079",flute_length:"",oal_length:""},{size:"91",diameter:"0.0083",flute_length:"",oal_length:""},{size:"90",diameter:"0.0087",flute_length:"",oal_length:""},{size:"89",diameter:"0.0091",flute_length:"",oal_length:""},{size:"88",diameter:"0.0095",flute_length:"",oal_length:""},{size:"87",diameter:"0.01",flute_length:"",oal_length:""},{size:"86",diameter:"0.0105",flute_length:"",oal_length:""},{size:"85",diameter:"0.011",flute_length:"",oal_length:""},{size:"84",diameter:"0.0115",flute_length:"",oal_length:""},{size:"83",diameter:"0.012",flute_length:"",oal_length:""},{size:"82",diameter:"0.0125",flute_length:"",oal_length:""},{size:"81",diameter:"0.013",flute_length:"",oal_length:""},{size:"1/64",diameter:".0156",flute_length:"0.1875",oal_length:"0.75"},{size:"80",diameter:"0.0135",flute_length:"0.125",oal_length:"0.75"},{size:"79",diameter:"0.0145",flute_length:"0.125",oal_length:"0.75"},{size:"78",diameter:"0.016",flute_length:"0.1875",oal_length:"0.875"},{size:"77",diameter:"0.018",flute_length:"0.1875",oal_length:"0.875"},{size:"76",diameter:"0.020",flute_length:"0.1875",oal_length:"0.875"},{size:"75",diameter:"0.021",flute_length:"0.25",oal_length:"1.0"},{size:"74",diameter:"0.0225",flute_length:"0.25",oal_length:"1.0"},{size:"73",diameter:"0.024",flute_length:"0.3125",oal_length:"1.125"},{size:"72",diameter:"0.025",flute_length:"0.3125",oal_length:"1.125"},{size:"71",diameter:"0.026",flute_length:"0.375",oal_length:"1.25"},{size:"70",diameter:"0.028",flute_length:"0.375",oal_length:"1.25"},{size:"69",diameter:"0.0292",flute_length:"0.5",oal_length:"1.375"},{size:"68",diameter:"0.031",flute_length:"0.5",oal_length:"1.375"},{size:"67",diameter:"0.032",flute_length:"0.5",oal_length:"1.375"},{size:"66",diameter:"0.033",flute_length:"0.5",oal_length:"1.375"},{size:"65",diameter:"0.035",flute_length:"0.625",oal_length:"1.5"},{size:"64",diameter:"0.036",flute_length:"0.625",oal_length:"1.5"},{size:"63",diameter:"0.037",flute_length:"0.625",oal_length:"1.5"},{size:"62",diameter:"0.038",flute_length:"0.625",oal_length:"1.5"},{size:"61",diameter:"0.039",flute_length:"0.6875",oal_length:"1.625"},{size:"60",diameter:"0.04",flute_length:"0.6875",oal_length:"1.625"},{size:"59",diameter:"0.041",flute_length:"0.6875",oal_length:"1.625"},{size:"58",diameter:"0.042",flute_length:"0.6875",oal_length:"1.625"},{size:"57",diameter:"0.043",flute_length:"0.75",oal_length:"1.75"},{size:"56",diameter:"0.0465",flute_length:"0.75",oal_length:"1.75"},{size:"55",diameter:"0.052",flute_length:"0.875",oal_length:"1.875"},{size:"54",diameter:"0.055",flute_length:"0.875",oal_length:"1.875"},{size:"53",diameter:"0.0595",flute_length:"0.875",oal_length:"1.875"},{size:"52",diameter:"0.0635",flute_length:"0.875",oal_length:"1.875"},{size:"51",diameter:"0.067",flute_length:"1.0",oal_length:"2.0"},{size:"50",diameter:"0.07",flute_length:"1.0",oal_length:"2.0"},{size:"49",diameter:"0.073",flute_length:"1.0",oal_length:"2.0"},{size:"48",diameter:"0.076",flute_length:"1.0",oal_length:"2.0"},{size:"47",diameter:"0.0785",flute_length:"1.0",oal_length:"2.0"},{size:"46",diameter:"0.081",flute_length:"1.125",oal_length:"2.125"},{size:"45",diameter:"0.082",flute_length:"1.125",oal_length:"2.125"},{size:"44",diameter:"0.086",flute_length:"1.125",oal_length:"2.125"},{size:"43",diameter:"0.089",flute_length:"1.25",oal_length:"2.25"},{size:"42",diameter:"0.0935",flute_length:"1.25",oal_length:"2.25"},{size:"41",diameter:"0.096",flute_length:"1.375",oal_length:"1.375"},{size:"40",diameter:"0.098",flute_length:"1.375",oal_length:"1.375"},{size:"39",diameter:"0.0995",flute_length:"1.375",oal_length:"1.375"},{size:"38",diameter:"0.1015",flute_length:"1.4375",oal_length:"2.5"},{size:"37",diameter:"0.104",flute_length:"1.4375",oal_length:"2.5"},{size:"36",diameter:"0.1065",flute_length:"1.4375",oal_length:"2.5"},{size:"35",diameter:"0.11",flute_length:"1.5",oal_length:"2.625"},{size:"34",diameter:"0.111",flute_length:"1.5",oal_length:"2.625"},{size:"33",diameter:"0.113",flute_length:"1.5",oal_length:"2.625"},{size:"32",diameter:"0.116",flute_length:"1.625",oal_length:"2.75"},{size:"31",diameter:"0.12",flute_length:"1.625",oal_length:"2.75"},{size:"30",diameter:"0.1285",flute_length:"1.625",oal_length:"2.75"},{size:"29",diameter:"0.136",flute_length:"1.75",oal_length:"2.875"},{size:"28",diameter:"0.1405",flute_length:"1.75",oal_length:"2.875"},{size:"27",diameter:"0.144",flute_length:"1.875",oal_length:"3.0"},{size:"26",diameter:"0.147",flute_length:"1.875",oal_length:"3.0"},{size:"25",diameter:"0.1495",flute_length:"1.875",oal_length:"3.0"},{size:"24",diameter:"0.152",flute_length:"2.0",oal_length:"3.125"},{size:"23",diameter:"0.154",flute_length:"2.0",oal_length:"3.125"},{size:"22",diameter:"0.157",flute_length:"2.0",oal_length:"3.125"},{size:"21",diameter:"0.159",flute_length:"2.125",oal_length:"3.25"},{size:"20",diameter:"0.161",flute_length:"2.125",oal_length:"3.25"},{size:"19",diameter:"0.166",flute_length:"2.125",oal_length:"3.25"},{size:"18",diameter:"0.1695",flute_length:"2.125",oal_length:"3.25"},{size:"17",diameter:"0.173",flute_length:"2.1875",oal_length:"3.375"},{size:"16",diameter:"0.177",flute_length:"2.1875",oal_length:"3.375"},{size:"15",diameter:"0.18",flute_length:"2.1875",oal_length:"3.375"},{size:"14",diameter:"0.182",flute_length:"2.1875",oal_length:"3.375"},{size:"13",diameter:"0.185",flute_length:"2.3125",oal_length:"3.5"},{size:"12",diameter:"0.189",flute_length:"2.3125",oal_length:"3.5"},{size:"11",diameter:"0.191",flute_length:"2.3125",oal_length:"3.5"},{size:"10",diameter:"0.1935",flute_length:"2.4375",oal_length:"3.625"},{size:"9",diameter:"0.196",flute_length:"2.4375",oal_length:"3.625"},{size:"8",diameter:"0.199",flute_length:"2.4375",oal_length:"3.625"},{size:"7",diameter:"0.201",flute_length:"2.4375",oal_length:"3.625"},{size:"6",diameter:"0.204",flute_length:"2.5",oal_length:"3.75"},{size:"5",diameter:"0.2055",flute_length:"2.5",oal_length:"3.75"},{size:"4",diameter:"0.209",flute_length:"2.5",oal_length:"3.75"},{size:"3",diameter:"0.213",flute_length:"2.5",oal_length:"3.75"},{size:"2",diameter:"0.221",flute_length:"2.625",oal_length:"3.875"},{size:"1",diameter:"0.228",flute_length:"2.625",oal_length:"3.875"},{size:"A",diameter:"0.234",flute_length:"2.625",oal_length:"3.875"},{size:"B",diameter:"0.238",flute_length:"2.75",oal_length:"4.0"},{size:"C",diameter:"0.242",flute_length:"2.75",oal_length:"4.0"},{size:"D",diameter:"0.246",flute_length:"2.75",oal_length:"4.0"},{size:"E",diameter:"0.25",flute_length:"2.875",oal_length:"4.125"},{size:"F",diameter:"0.257",flute_length:"2.875",oal_length:"4.125"},{size:"G",diameter:"0.261",flute_length:"2.875",oal_length:"4.125"},{size:"H",diameter:"0.266",flute_length:"2.875",oal_length:"4.125"},{size:"I",diameter:"0.272",flute_length:"2.875",oal_length:"4.125"},{size:"J",diameter:"0.277",flute_length:"2.875",oal_length:"4.125"},{size:"K",diameter:"0.281",flute_length:"2.9375",oal_length:"4.25"},{size:"L",diameter:"0.29",flute_length:"2.9375",oal_length:"4.25"},{size:"M",diameter:"0.295",flute_length:"3.0625",oal_length:"4.375"},{size:"N",diameter:"0.302",flute_length:"3.0625",oal_length:"4.375"},{size:"O",diameter:"0.316",flute_length:"3.1875",oal_length:"4.5"},{size:"P",diameter:"0.323",flute_length:"3.3125",oal_length:"4.625"},{size:"Q",diameter:"0.332",flute_length:"3.4375",oal_length:"4.75"},{size:"R",diameter:"0.339",flute_length:"3.4375",oal_length:"4.75"},{size:"S",diameter:"0.348",flute_length:"3.5",oal_length:"4.875"},{size:"T",diameter:"0.358",flute_length:"3.5",oal_length:"4.875"},{size:"U",diameter:"0.368",flute_length:"3.625",oal_length:"4.0"},{size:"V",diameter:"0.377",flute_length:"3.625",oal_length:"4.0"},{size:"W",diameter:"0.386",flute_length:"3.75",oal_length:"5.125"},{size:"X",diameter:"0.397",flute_length:"3.75",oal_length:"5.125"},{size:"Y",diameter:"0.404",flute_length:"3.875",oal_length:"5.25"},{size:"Z",diameter:"0.413",flute_length:"3.875",oal_length:"5.25"}],S=[{size:"8",diameter:"0.75",flute_length:"0.3125",oal_length:"3.500"},{size:"7",diameter:"0.625",flute_length:"0.250",oal_length:"3.250"},{size:"6",diameter:"0.500",flute_length:"0.219",oal_length:"3.000"},{size:"5",diameter:"0.438",flute_length:"0.188",oal_length:"2.750"},{size:"4",diameter:"0.313",flute_length:"0.125",oal_length:"2.125"},{size:"3",diameter:"0.250",flute_length:"0.109",oal_length:"2.000"},{size:"2",diameter:"0.188",flute_length:"0.078",oal_length:"1.875"},{size:"1",diameter:"0.125",flute_length:"0.047",oal_length:"1.125"},{size:"0",diameter:"0.125",flute_length:"0.038",oal_length:"1.125"},{size:"00",diameter:"0.125",flute_length:"0.030",oal_length:"1.125"}];function T(e){b.dispatch({type:"SET_INFO",position:e})}function I(e,t){b.dispatch({type:"NEW_ORDER",body:e,category:t})}function P(e,t){b.dispatch({type:"EDIT_ORDER",body:e,category:t})}function D(e,t){b.dispatch({type:"DELETE_ORDER",id:e,category:t})}function L(){b.dispatch({type:"RESET_FORM"})}var z={number:{format:function(e){var t=e.target.value;(t=t.replace(/[^0-9.]/g,"")).split(".").length>2&&(t=t.substr(0,t.length-1)),e.target.value=t,U(e)}},math:{format:function(e){var t=e.target.value,a=(t=(t=t.toString()).replace(/[^0-9\/*+\-.^]/g,"")).split("+"),n="";a.forEach(function(e,t){e.split("-").forEach(function(t,a){t.split("*").forEach(function(e,a){e.split("/").forEach(function(t,a){t=Number(t),0===a?e=t:e/=t}),e=Number(e),0===a?t=e:t*=e}),t=Number(t),0===a?e=t:e-=t}),e=Number(e),0===t?n=e:n+=e}),n=(n=Math.round(1e5*n)/1e5).toString(),e.target.value=n,U(e)}},phone:{format:function(e){console.log("here");var t=e.target.value;(t=t.replace(/[^0-9()\- ]/g,""))&&3===t.match(/[0-9]/g).length?t="("+t+") ":t&&6===t.match(/[0-9]/g).length?t+="-":t&&t.match(/[0-9]/g).length>10&&(t=t.substr(0,t.length-1)),e.target.value=t,U(e)}},textOnly:{format:function(e){e.target.value=e.target.value.replace(/[^A-z`' ]/g,""),U(e)}},makeMoney:{format:function(e){var t=Number(e.target.value);e.target.value=t.toFixed(2),U(e)}},checkSize:{format:function(e){var t,a=e.target.value;"Center Drill"===v.getFormValue("tool_type")?t=S:"Drill"===v.getFormValue("tool_type")&&(t=M);var n=t.find(function(t){return t.diameter===e.target.value});e.target.value=n?n.size:a,U(e)}},fields:function(e){var t,a={};switch(a[e.target.name]=e.target.value,e.target.name){case"tool_type":switch(e.target.value){case"Groove Tool":case"Dove Mill":case"Inserts":a.material="Carbide",a.corner_radius="0";break;case"Endmill":a.material="Carbide",a.undercut_width="0",a.undercut_length="0",a.corner_radius="0",a.flutes="4";break;case"Drill":a.material="Cobalt",a.tip_angle="118",a.undercut_width="0",a.undercut_length="0";break;case"Center Drill":a.tip_angle="60",a.material="High Speed Steel";break;case"Spot Drill":a.flutes="2";break;case"Reamer":a.material="High Speed Steel",a.flutes="6";break;case"Cutoff Tool":case"Tap":a.material="High Speed Steel"}a.count="1";break;case"diameter":""!==v.getFormValue("diameter")&&(a.undercut_width=a.diameter);break;case"size":var n;"Center Drill"===v.getFormValue("tool_type")?n=S:"Drill"===v.getFormValue("tool_type")&&(n=M);var s=n.find(function(t){return t.size===e.target.value});s&&(a.diameter=s.diameter,a.flute_length=s.flute_length,a.tool_length=s.oal_length)}t=a,b.dispatch({type:"UPDATE_FORM",property:t})}},U=function(e){z.fields(e)},A=z,F=function(e){function t(e){var a;Object(i.a)(this,t),a=Object(c.a)(this,Object(h.a)(t).call(this,e));var n=void 0!==v.getFormValue(a.props.name)?v.getFormValue(a.props.name):"";return a.state={loaded:!1,value:n,thisValue:a.props.properties&&a.props.properties[a.props.name]},a.makeSelect=a.makeSelect.bind(Object(u.a)(Object(u.a)(a))),a.makeMath=a.makeMath.bind(Object(u.a)(Object(u.a)(a))),a.change=a.change.bind(Object(u.a)(Object(u.a)(a))),a.makeMoney=a.makeMoney.bind(Object(u.a)(Object(u.a)(a))),a.makePhone=a.makePhone.bind(Object(u.a)(Object(u.a)(a))),a.changeNumber=a.changeNumber.bind(Object(u.a)(Object(u.a)(a))),a.changeText=a.changeText.bind(Object(u.a)(Object(u.a)(a))),a.checkSize=a.checkSize.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"makeSelect",value:function(){if(this.props.properties){var e=this.props.properties;return s.a.createElement(N,{output:this.change,name:this.props.name,value:this.state.value,classes:"form-select",data:e})}return null}},{key:"checkSize",value:function(e){e=A.checkSize.format(e)}},{key:"changeText",value:function(e){e=A.textOnly.format(e)}},{key:"changeNumber",value:function(e){e=A.number.format(e)}},{key:"makePhone",value:function(e){e=A.phone.format(e)}},{key:"makeMath",value:function(e){e=A.math.format(e)}},{key:"makeMoney",value:function(e){e=A.makeMoney.format(e)}},{key:"change",value:function(e){A.fields(e),this.setState({value:v.getFormValue(this.props.name)})}},{key:"componentWillMount",value:function(){var e=this;v.on("changeForm",function(){var t=v.getFormValue(e.props.name);e.setState({value:void 0===t?"":t,loaded:!0})})}},{key:"showType",value:function(){switch(this.props.type){case"number":return s.a.createElement("input",{type:"text",className:"editable-input",onChange:this.change,onBlur:this.changeNumber,placeholder:this.props.header.slice(0,-2),value:this.state.value,name:this.props.name});case"math":return s.a.createElement("div",{className:"math-box form-select"},s.a.createElement("input",{type:"text",placeholder:this.props.header.slice(0,-2),onBlur:this.makeMath,name:this.props.name,value:this.state.value,onChange:this.change}),s.a.createElement("span",{className:"input-hard-text"},this.props.units));case"phone":return s.a.createElement("input",{type:"text",placeholder:this.props.header.slice(0,-2),onChange:this.makePhone,value:this.state.value,name:this.props.name});case"textOnly":return s.a.createElement("input",{type:"text",placeholder:this.props.header.slice(0,-2),name:this.props.name,value:this.state.value,onChange:this.change});case"date":return s.a.createElement("input",{type:"date",className:"editable-input",onChange:this.change,value:this.state.value,placeholder:this.props.header.slice(0,-2),name:this.props.name});case"select":return this.makeSelect();case"price":return s.a.createElement("div",{className:"price-box form-select"},s.a.createElement("span",{className:"input-hard-text"},"$"),s.a.createElement("input",{type:"text",placeholder:"Price",onBlur:this.makeMoney,name:this.props.name,value:this.state.value,onChange:this.change}));case"size":return s.a.createElement("input",{type:"text",className:"editable-input",onChange:this.change,onBlur:this.checkSize,value:this.state.value,placeholder:this.props.header.slice(0,-2),name:this.props.name});case"textArea":return s.a.createElement("textarea",{className:"editable-input",onChange:this.change,value:this.state.value,placeholder:this.props.header.slice(0,-2),name:this.props.name});default:return s.a.createElement("input",{type:"text",className:"editable-input",onChange:this.change,value:this.state.value,placeholder:this.props.header.slice(0,-2),name:this.props.name})}}},{key:"render",value:function(){var e=this.showType();return s.a.createElement("span",{className:"line-item editable "+this.props.classes,onClick:this.props.onClick,onFocus:this.props.onClick,id:"EditableItem"},s.a.createElement("span",{className:"display"},this.props.header),e)}}]),t}(n.Component),B=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("svg",{height:"100%",width:"100%",viewBox:"0 0 500 50",version:"1.1",id:"Endmill",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("defs",null,s.a.createElement("linearGradient",{id:"shadow1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},s.a.createElement("stop",{offset:"0%",style:{stopOpacity:0}}),s.a.createElement("stop",{offset:"100%",style:{stopColor:"rgb(0,0,0)",stopOpacity:.2}})),s.a.createElement("linearGradient",{id:"shadow2",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},s.a.createElement("stop",{offset:"0%",style:{stopColor:"rgb(0,0,0)",stopOpacity:.4}}),s.a.createElement("stop",{offset:"100%",style:{stopOpacity:0}})),s.a.createElement("linearGradient",{id:"shadow3",x1:"100%",y1:"0%",x2:"0%",y2:"0%"},s.a.createElement("stop",{offset:"0%",style:{stopColor:"rgb(0,0,0,)",stopOpacity:.4}}),s.a.createElement("stop",{offset:"100%",style:{stopOpacity:0}}))),s.a.createElement("path",{d:"M 300 0 L 500 0 L 500 50 L 300 50 Z",fill:this.props.fluteLength?"#FC9":"#89A"}),s.a.createElement("path",{d:"M 480 0 q 15 0 20 10 L 500 0",fill:this.props.radius?"#FC9":"transparent"}),s.a.createElement("path",{d:"M 480 50 q 15 0 20 -10 L 500 50",fill:this.props.radius?"#FC9":"transparent"}),s.a.createElement("path",{d:"M 250 0 c 40 0 50 50 100 50 L 400 50 c -50 0 -50 -50 -100 -50",fill:"url(#shadow3)"}),s.a.createElement("path",{d:"M 300 0 c 40 0 50 50 100 50 L 450 50 c -50 0 -50 -50 -100 -50",fill:"url(#shadow3)"}),s.a.createElement("path",{d:"M 350 0 c 40 0 50 50 100 50 L 500 50 c -50 0 -50 -50 -100 -50",fill:"url(#shadow3)"}),s.a.createElement("path",{d:"M 400 0 c 40 0 50 50 100 50 L 550 50 c -50 0 -50 -50 -100 -50",fill:"url(#shadow3)"}),s.a.createElement("path",{d:"M 450 0 c 40 0 50 50 100 50 L 600 50 c -50 0 -50 -50 -100 -50",fill:"url(#shadow3)"}),s.a.createElement("path",{d:"M 290 0 c 40 0 50 50 100 50 L 400 50 c -50 0 -50 -50 -100 -50",fill:"#89A"}),s.a.createElement("path",{d:"M 340 0 c 40 0 50 50 100 50 L 450 50 c -50 0 -50 -50 -100 -50",fill:"#89A"}),s.a.createElement("path",{d:"M 390 0 c 40 0 50 50 100 50 L 500 50 c -50 0 -50 -50 -100 -50",fill:"#89A"}),s.a.createElement("path",{d:"M 440 0 c 40 0 50 50 100 50 L 550 50 c -50 0 -50 -50 -100 -50",fill:"#89A"}),s.a.createElement("path",{d:"M 490 0 c 40 0 50 50 100 50 L 600 50 c -50 0 -50 -50 -100 -50",fill:"#89A"}),s.a.createElement("path",{d:"M 0 0 L 300 0 L 300 50 L0 50",fill:"#EEE"}),s.a.createElement("path",{d:"M 300 0 L 320 0 L 320 50 L 300 50",fill:"#89A"}),s.a.createElement("path",{d:"M 0 0 L 500 0 L 500 50 L 0 50",fill:this.props.toolLength?"#FC9":"transparent"}),s.a.createElement("path",{d:"M 150 5 L 290 5 L 290 45 L 150 45",fill:this.props.undercut?"#FC9":"transparent"}),s.a.createElement("path",{d:"M 490 0 L 500 0 L 500 50 L 490 50",fill:this.props.diameter?"#FC9":"transparent"}),s.a.createElement("path",{d:"M 0 20 L 500 20 L 500 30 L 0 30",fill:"url(#shadow1)"}),s.a.createElement("path",{d:"M 0 30 L 500 30 L 500 50 L 0 50",fill:"url(#shadow2)"}),s.a.createElement("path",{d:"M 0 50 L 500 50 L 500 50 L 0 50",fill:"url(#shadow1)"}),s.a.createElement("path",{d:"M 150 0 L 290 0 L 290 5 L 150 5",fill:this.props.undercut?"#FFF":"transparent"}),s.a.createElement("path",{d:"M 150 50 L 290 50 L 290 45 L 150 45",fill:this.props.undercut?"#FFF":"transparent"}))}}]),t}(n.Component),R=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("svg",{height:"100%",width:"100%",viewBox:"0 0 500 30",version:"1.1",id:"Endmill",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("defs",null,s.a.createElement("linearGradient",{id:"shadow1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},s.a.createElement("stop",{offset:"0%",style:{stopOpacity:0}}),s.a.createElement("stop",{offset:"100%",style:{stopColor:"rgba(0,0,0,0.2)"}})),s.a.createElement("linearGradient",{id:"shadow2",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},s.a.createElement("stop",{offset:"0%",style:{stopColor:"rgba(0,0,0,0.2)"}}),s.a.createElement("stop",{offset:"100%",style:{stopOpacity:0}})),s.a.createElement("linearGradient",{id:"shadow3",x1:"100%",y1:"0%",x2:"0%",y2:"0%"},s.a.createElement("stop",{offset:"0%",style:{stopColor:"rgba(0,0,0,0.2)"}}),s.a.createElement("stop",{offset:"100%",style:{stopOpacity:0}}))),s.a.createElement("path",{d:"M 0 0 L 300 0 L 300 30 L0 30",fill:"#AAA"}),s.a.createElement("path",{d:"M 250 0 L 500 0 L 500 30 L 250 30 Z",fill:this.props.fluteLength?"#FC9":"#AAA"}),s.a.createElement("path",{d:"M 480 0 q 15 0 20 10 L 500 0",fill:this.props.radius?"#FC9":"transparent"}),s.a.createElement("path",{d:"M 480 50 q 15 0 20 -10 L 500 50",fill:this.props.radius?"#FC9":"transparent"}),s.a.createElement("path",{d:"M 250 0 c 40 0 50 30 100 30 L 400 30 c -50 0 -50 -30 -100 -30",fill:"url(#shadow3)"}),s.a.createElement("path",{d:"M 300 0 c 40 0 50 30 100 30 L 450 30 c -50 0 -50 -30 -100 -30",fill:"url(#shadow3)"}),s.a.createElement("path",{d:"M 350 0 c 40 0 50 30 100 30 L 500 30 c -50 0 -50 -30 -100 -30",fill:"url(#shadow3)"}),s.a.createElement("path",{d:"M 400 0 c 40 0 50 30 100 30 L 550 30 c -50 0 -50 -30 -100 -30",fill:"url(#shadow3)"}),s.a.createElement("path",{d:"M 450 0 c 40 0 50 30 100 30 L 600 30 c -50 0 -50 -30 -100 -30",fill:"url(#shadow3)"}),s.a.createElement("path",{d:"M 290 0 c 40 0 50 30 100 30 L 400 30 c -50 0 -50 -30 -100 -30",fill:"#AAA"}),s.a.createElement("path",{d:"M 340 0 c 40 0 50 30 100 30 L 450 30 c -50 0 -50 -30 -100 -30",fill:"#AAA"}),s.a.createElement("path",{d:"M 390 0 c 40 0 50 30 100 30 L 500 30 c -50 0 -50 -30 -100 -30",fill:"#AAA"}),s.a.createElement("path",{d:"M 440 0 c 40 0 50 30 100 30 L 550 30 c -50 0 -50 -30 -100 -30",fill:"#AAA"}),s.a.createElement("path",{d:"M 490 0 c 40 0 50 30 100 30 L 600 30 c -50 0 -50 -30 -100 -30",fill:"#AAA"}),s.a.createElement("path",{d:"M 0 0 L 500 0 L 500 30 L 0 30",fill:this.props.toolLength?"#FC9":"transparent"}),s.a.createElement("path",{d:"M 490 0 L 500 0 L 500 30 L 490 30",fill:this.props.diameter?"#FC9":"transparent"}),s.a.createElement("path",{d:"M 0 20 L 500 20 L 500 30 L 0 30",fill:"url(#shadow1)"}),s.a.createElement("path",{d:"M 0 30 L 500 30 L 500 30 L 0 30",fill:"url(#shadow2)"}),s.a.createElement("path",{d:"M 0 30 L 500 30 L 500 30 L 0 30",fill:"url(#shadow1)"}),s.a.createElement("path",{d:"M 490 0 L 500 0 L 500 15",fill:"#FFF"}),s.a.createElement("path",{d:"M 490 30 L 500 30 L 500 15",fill:"#FFF"}))}}]),t}(n.Component),x=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(h.a)(t).call(this))).toolChoices=[{value:"Tool Type",children:"Tool Type"},{value:"Endmill",children:"Endmill"},{value:"Drill",children:"Drill"},{value:"Spot Drill",children:"Spot Drill"},{value:"Chamfer Mill",children:"Chamfer Mill"},{value:"Center Drill",children:"Center Drill"},{value:"Reamer",children:"Reamer"},{value:"Key Cutter",children:"Key Cutter"},{value:"Face Mill",children:"Face Mill"},{value:"Dove Mill",children:"Dove Mill"},{value:"Tap",children:"Tap"},{value:"Inserts",children:"Inserts"},{value:"Other",children:"Other"}],e.materialChoices=[{value:"Tool Material",children:"Tool Material"},{value:"Carbide",children:"Carbide"},{value:"Cobalt",children:"Cobalt"},{value:"High Speed Steel",children:"High Speed Steel"},{value:"Coated Carbide",children:"Coated Carbide"},{value:"Other",children:"Other"}],e.state={diameter:!1,editable:!1,fluteLength:!1,radius:!1,toolLength:!1,undercut:!1,cfmMsg:"Save"},e.toggleEdit=e.toggleEdit.bind(Object(u.a)(Object(u.a)(e))),e.showTool=e.showTool.bind(Object(u.a)(Object(u.a)(e))),e.save=e.save.bind(Object(u.a)(Object(u.a)(e))),e.toolProps=e.toolProps.bind(Object(u.a)(Object(u.a)(e))),e.cancel=e.cancel.bind(Object(u.a)(Object(u.a)(e))),e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"cancel",value:function(){this.toggleEdit(),"Confirm"===this.state.cfmMsg&&this.props.cancel()}},{key:"save",value:function(){this.toggleEdit(),"Confirm"===this.state.cfmMsg?this.props.buyTool():this.props.save()}},{key:"componentWillReceiveProps",value:function(e){e.readyToBuy&&this.setState({editable:!0,cfmMsg:"Confirm"})}},{key:"toolProps",value:function(e){switch(e){case"material":return["Endmill","Drill","Spot Drill","Chamfer Mill","Reamer","Face Mill","Tap","Center Drill","Key Cutter","Dove Mill","Inserts"];case"tool_length":return["Endmill","Drill","Spot Drill","Chamfer Mill","Reamer","Tap","Center Drill","Key Cutter","Dove Mill"];case"diameter":return["Endmill","Drill","Spot Drill","Chamfer Mill","Reamer","Face Mill","Key Cutter","Dove Mill"];case"flutes":return["Endmill","Spot Drill","Chamfer Mill","Reamer","Face Mill","Tap","Key Cutter","Dove Mill"];case"tip_angle":return["Drill","Spot Drill","Chamfer Mill","Tap","Dove Mill","Center Drill","Inserts"];case"flute_length":return["Endmill","Drill","Spot Drill","Chamfer Mill","Reamer","Tap"];case"corner_radius":return["Endmill","Key Cutter","Dove Mill","Inserts"];case"relief_length":case"relief_width":return["Endmill","Key Cutter","Dove Mill"];case"size":return["Drill","Center Drill","Tap"];case"cutting_height":return["Key Cutter","Inserts"];case"description":return["Inserts","Other"];case"pitch":return["Tap"];default:return["Endmill","Drill","Spot Drill","Chamfer Mill","Reamer","Face Mill","Tap","Center Drill","Key Cutter","Dove Mill","Inserts"]}}},{key:"showTool",value:function(e){switch(e.target.name){case"tip_angle":case"diameter":this.setState({diameter:!0,fluteLength:!1,radius:!1,toolLength:!1,undercut:!1});break;case"flute_length":this.setState({diameter:!1,fluteLength:!0,radius:!1,toolLength:!1,undercut:!1});break;case"corner_radius":this.setState({fluteLength:!1,diameter:!1,radius:!0,toolLength:!1,undercut:!1});break;case"tool_length":this.setState({fluteLength:!1,radius:!1,diameter:!1,toolLength:!0,undercut:!1});break;case"undercut_width":case"undercut_length":this.setState({fluteLength:!1,radius:!1,diameter:!1,toolLength:!1,undercut:!0});break;default:this.setState({fluteLength:!1,radius:!1,diameter:!1,toolLength:!1,undercut:!1})}}},{key:"toggleEdit",value:function(){this.setState({editable:!this.state.editable})}},{key:"millImage",value:function(){switch(this.props.toolData.tool_type){case"Endmill":return s.a.createElement(B,{fluteLength:this.state.fluteLength,radius:this.state.radius,toolLength:this.state.toolLength,undercut:this.state.undercut,diameter:this.state.diameter});case"Drill":return s.a.createElement(R,{fluteLength:this.state.fluteLength,radius:this.state.radius,toolLength:this.state.toolLength,diameter:this.state.diameter});default:return""}}},{key:"showItem",value:function(e){return-1!==this.toolProps(e).indexOf(v.getFormValue("tool_type"))?"":"gone"}},{key:"viewInfo",value:function(){return this.state.editable?s.a.createElement("div",{className:"tool-data"},s.a.createElement(F,{header:"Tool Type: ",type:"select",name:"tool_type",properties:this.toolChoices,onClick:this.showTool}),s.a.createElement(F,{header:"Description: ",classes:this.showItem("description"),name:"description"}),s.a.createElement(F,{header:"Size: ",classes:this.showItem("size"),name:"size",type:"size",onClick:this.showTool}),s.a.createElement(F,{type:"math",units:"inches",header:"Diameter: ",classes:this.showItem("diameter"),name:"diameter",onClick:this.showTool}),s.a.createElement(F,{header:"Material: ",type:"select",output:this.props.output,classes:this.showItem("material"),name:"material",properties:this.materialChoices,onClick:this.showTool}),s.a.createElement(F,{header:"Flutes: ",classes:this.showItem("flutes"),name:"flutes",type:"number",onClick:this.showTool}),s.a.createElement(F,{classes:this.showItem("tip_angle"),header:"Dove Mill"===this.props.toolData.tool_type?"Angle: ":"Tip Angle: ",name:"tip_angle",units:"degrees",type:"math",onClick:this.showTool}),s.a.createElement(F,{header:"Flute Length: ",classes:this.showItem("flute_length"),name:"flute_length",type:"math",units:"inches",onClick:this.showTool}),s.a.createElement(F,{header:"Corner Radius: ",classes:this.showItem("corner_radius"),name:"corner_radius",type:"math",units:"inches",onClick:this.showTool}),s.a.createElement(F,{header:"Tool Length: ",classes:this.showItem("tool_length"),name:"tool_length",type:"math",units:"inches",onClick:this.showTool}),s.a.createElement(F,{header:"Inserts"===this.props.toolData.tool_type?"Thickness: ":"Cutting Height: ",classes:this.showItem("cutting_height"),name:"cutting_height",type:"math",units:"inches"}),s.a.createElement(F,{header:"Relief Width: ",classes:this.showItem("relief_width"),name:"undercut_width",type:"math",units:"inches",onClick:this.showTool}),s.a.createElement(F,{header:"Relief Length: ",classes:this.showItem("relief_length"),name:"undercut_length",units:"inches",onClick:this.showTool,type:"math"}),s.a.createElement(F,{header:"EDP Number: ",name:"edp",onClick:this.showTool}),s.a.createElement(F,{header:"Quantity: ",name:"count",onClick:this.showTool,type:"number",classes:0!==this.props.count?"":"gone"}),s.a.createElement(F,{header:"Price: ",name:"price",onClick:this.showTool,type:"price",classes:this.props.order?"":"gone"}),s.a.createElement(F,{header:"Location: ",name:"location",onClick:this.showTool,classes:this.props.order?"gone":""}),s.a.createElement(F,{header:"Notes: ",name:"notes",onClick:this.showTool,type:"textArea"}),s.a.createElement("span",{className:"submit-button-line"},s.a.createElement("button",{onClick:this.cancel,className:"button white-button"},"Cancel"),s.a.createElement("button",{onClick:this.save,className:"button save-button"},this.state.cfmMsg))):s.a.createElement("div",{onClick:this.toggleEdit,className:"tool-data"},s.a.createElement(C,{header:"Tool Type: ",value:"tool_type"}),s.a.createElement(C,{header:"Description: ",value:"description",classes:this.showItem("description")}),s.a.createElement(C,{header:"Size: ",value:"size",classes:this.showItem("size")}),s.a.createElement(C,{header:"Diameter: ",value:"diameter",classes:this.showItem("diameter"),units:"inches"}),s.a.createElement(C,{header:"Material: ",classes:this.showItem("material"),value:"material"}),s.a.createElement(C,{header:"Flutes: ",value:"flutes",classes:this.showItem("flutes")}),s.a.createElement(C,{header:"Dove Mill"===this.props.toolData.tool_type?"Angle: ":"Tip Angle: ",value:"tip_angle",classes:this.showItem("tip_angle"),units:"degrees"}),s.a.createElement(C,{header:"Flute Length: ",value:"flute_length",classes:this.showItem("flute_length"),units:"inches"}),s.a.createElement(C,{header:"Corner Radius: ",value:"corner_radius",units:"inches",classes:this.showItem("corner_radius")}),s.a.createElement(C,{header:"Tool Length: ",value:"tool_length",classes:this.showItem("tool_length"),units:"inches"}),s.a.createElement(C,{header:"Inserts"===this.props.toolData.tool_type?"Thickness: ":"Cutting Height: ",value:"cutting_height",classes:this.showItem("cutting_height"),units:"inches"}),s.a.createElement(C,{header:"Relief Width: ",value:"undercut_width",units:"inches",classes:this.showItem("relief_width")}),s.a.createElement(C,{header:"Relief Length: ",value:"undercut_length",units:"inches",classes:this.showItem("relief_length")}),s.a.createElement(C,{header:"EDP Number: ",value:"edp"}),s.a.createElement(C,{header:"Quantity: ",value:"count",classes:this.props.order?"":"gone"}),s.a.createElement(C,{header:"Price: ",value:"price",classes:"price "+(this.props.order?"":"gone")}),s.a.createElement(C,{header:"Location: ",value:"location",classes:this.props.order?"gone":""}),s.a.createElement(C,{header:"Notes: ",value:"notes",classes:"notes"}))}},{key:"componentDidMount",value:function(){"0"===this.props.toolId&&this.setState({editable:!0})}},{key:"render",value:function(){var e=this.viewInfo(),t=this.millImage();return s.a.createElement("div",{className:"editor-content",id:"Pages/Tools/MillToolEditor"},s.a.createElement("div",{className:"tool-image"},t),s.a.createElement("div",{className:"edit-page"},e))}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).toolChoices=[{value:"Tool Type",children:"Tool Type"},{value:"Boring Bar",children:"Boring Bar"},{value:"Inserts",children:"Inserts"},{value:"Center Drill",children:"Center Drill"},{value:"OD Tool",children:"OD Tool"},{value:"Groove Tool",children:"Groove Tool"},{value:"Drill",children:"Drill"},{value:"Cutoff Tool",children:"Cutoff Tool"},{value:"Other",children:"Other"}],a.materialChoices=[{value:"Tool Material",children:"Tool Material"},{value:"Carbide",children:"Carbide"},{value:"Cobalt",children:"Cobalt"},{value:"High Speed Steel",children:"High Speed Steel"},{value:"Coated Carbide",children:"Coated Carbide"},{value:"Other",children:"Other"}],a.state={diameter:!1,editable:!1,fluteLength:!1,radius:!1,toolLength:!1,undercut:!1,cfmMsg:"Save"},a.toggleEdit=a.toggleEdit.bind(Object(u.a)(Object(u.a)(a))),a.showTool=a.showTool.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.cancel=a.cancel.bind(Object(u.a)(Object(u.a)(a))),a.toolProps=a.toolProps.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"cancel",value:function(){this.toggleEdit(),"Confirm"===this.state.cfmMsg&&this.props.cancel()}},{key:"save",value:function(){this.toggleEdit(),"Confirm"===this.state.cfmMsg?this.props.buyTool():this.props.save()}},{key:"toolProps",value:function(e){switch(e){case"size":return["Center Drill","Drill"];case"diameter":return["Boring Bar","Center Drill","Groove Tool","Drill"];case"material":return["Boring Bar","Inserts","Center Drill","OD Tool","Groove Tool","Drill","Cutoff Tool","Other"];case"tip_angle":return["Inserts","Center Drill","OD Tool","Groove Tool","Drill"];case"corner_radius":return["Inserts","Groove Tool"];case"flute_length":return["Center Drill","Drill"];case"tool_length":return["Boring Bar","Center Drill","OD Tool","Groove Tool","Drill","Cutoff Tool"];case"cutting_height":return["Inserts","Groove Tool"];case"insert":return["Inserts"];case"description":return["Inserts","Groove Tool","OD Tool","Other"];default:return["Boring Bar","Inserts","Center Drill","OD Tool","Groove Tool","Drill","Cutoff Tool","Other"]}}},{key:"componentWillReceiveProps",value:function(e){e.readyToBuy&&this.setState({editable:!0,cfmMsg:"Confirm"})}},{key:"showTool",value:function(e){switch(e.target.name){case"tip_angle":case"diameter":this.setState({diameter:!0,fluteLength:!1,radius:!1,toolLength:!1,undercut:!1});break;case"flute_length":this.setState({diameter:!1,fluteLength:!0,radius:!1,toolLength:!1,undercut:!1});break;case"corner_radius":this.setState({fluteLength:!1,diameter:!1,radius:!0,toolLength:!1,undercut:!1});break;case"tool_length":this.setState({fluteLength:!1,radius:!1,diameter:!1,toolLength:!0,undercut:!1});break;default:this.setState({fluteLength:!1,radius:!1,diameter:!1,toolLength:!1,undercut:!1})}}},{key:"toggleEdit",value:function(){this.setState({editable:!this.state.editable})}},{key:"millImage",value:function(){switch(this.props.toolData.tool_type){case"Drill":return s.a.createElement(R,{fluteLength:this.state.fluteLength,radius:this.state.radius,toolLength:this.state.toolLength,diameter:this.state.diameter});default:return""}}},{key:"showItem",value:function(e){return-1!==this.toolProps(e).indexOf(v.getFormValue("tool_type"))?"":"gone"}},{key:"viewInfo",value:function(){return this.state.editable?s.a.createElement("div",{className:"tool-data"},s.a.createElement(F,{header:"Tool Type: ",type:"select",name:"tool_type",properties:this.toolChoices,onClick:this.showTool}),s.a.createElement(F,{header:"Size: ",type:"size",name:"size",classes:this.showItem("size"),onClick:this.showTool}),s.a.createElement(F,{classes:this.showItem("diameter"),type:"math",header:"Diameter: ",name:"diameter",units:"inches",onClick:this.showTool}),s.a.createElement(F,{header:"Material: ",type:"select",name:"material",properties:this.materialChoices,classes:this.showItem("material"),onClick:this.showTool}),s.a.createElement(F,{classes:this.showItem("tip_angle"),header:"Tip Angle: ",name:"tip_angle",units:"degrees",type:"math",onClick:this.showTool}),s.a.createElement(F,{header:"Corner Radius: ",classes:this.showItem("corner_radius"),name:"corner_radius",type:"math",units:"inches",onClick:this.showTool}),s.a.createElement(F,{classes:this.showItem("flute_length"),header:"Flute Length: ",name:"flute_length",units:"inches",type:"math",onClick:this.showTool}),s.a.createElement(F,{header:"Tool Length: ",name:"tool_length",units:"inches",type:"math",classes:this.showItem("tool_length"),onClick:this.showTool}),s.a.createElement(F,{header:"Thickness: ",classes:this.showItem("cutting_height"),name:"cutting_height",type:"math",units:"inches",onClick:this.showTool}),s.a.createElement(F,{header:"Description: ",name:"description",classes:this.showItem("description"),onClick:this.showTool}),s.a.createElement(F,{header:"Insert Code: ",name:"insert",classes:this.showItem("insert"),onClick:this.showTool}),s.a.createElement(F,{header:"Quantity: ",type:"number",name:"count",onClick:this.showTool,classes:0!==this.props.count?"":"gone"}),s.a.createElement(F,{header:"Price: ",name:"price",onClick:this.showTool,type:"price",classes:this.props.order?"":"gone"}),s.a.createElement(F,{header:"Location: ",name:"location",onClick:this.showTool,classes:this.props.order?"gone":""}),s.a.createElement(F,{header:"Notes: ",name:"notes",onClick:this.showTool,type:"textArea"}),s.a.createElement("span",{className:"submit-button-line"},s.a.createElement("button",{onClick:this.cancel,className:"button white-button"},"Cancel"),s.a.createElement("button",{onClick:this.save,className:"button save-button"},this.state.cfmMsg))):s.a.createElement("div",{onClick:this.toggleEdit,className:"tool-data"},s.a.createElement(C,{header:"Tool Type: ",value:"tool_type"}),s.a.createElement(C,{header:"Size: ",value:"size",classes:this.showItem("size")}),s.a.createElement(C,{header:"Diameter: ",value:"diameter",units:"inches",classes:this.showItem("diameter")}),s.a.createElement(C,{header:"Material: ",value:"material"}),s.a.createElement(C,{header:"Tip Angle: ",value:"tip_angle",units:"degrees",classes:this.showItem("tip_angle")}),s.a.createElement(C,{header:"Corner Radius: ",units:"inches",classes:this.showItem("corner_radius"),value:"corner_radius"}),s.a.createElement(C,{header:"Flute Length: ",value:"flute_length",units:"inches",classes:this.showItem("flute_length")}),s.a.createElement(C,{header:"Thickness: ",value:"cutting_height",classes:this.showItem("cutting_height"),units:"inches"}),s.a.createElement(C,{header:"Tool Length: ",units:"inches",value:"tool_length"}),s.a.createElement(C,{header:"Description: ",classes:this.showItem("description"),value:"description"}),s.a.createElement(C,{header:"Insert Code: ",value:"insert"}),s.a.createElement(C,{header:"Quantity: ",value:"count",classes:this.props.order?"":"gone"}),s.a.createElement(C,{header:"Price: ",value:"price",classes:"price "+(this.props.order?"":"gone")}),s.a.createElement(C,{header:"Location: ",value:"location",classes:this.props.order?"gone":""}),s.a.createElement(C,{header:"Notes: ",value:"notes",classes:"notes"}))}},{key:"componentDidMount",value:function(){"0"===this.props.toolId&&this.setState({editable:!0})}},{key:"render",value:function(){var e=this.viewInfo(),t=this.millImage();return s.a.createElement("div",{className:"editor-content",id:"Pages/Tools/LatheToolEditor"},s.a.createElement("div",{className:"tool-image"},t),s.a.createElement("div",{className:"edit-page"},e))}}]),t}(n.Component),W=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={diameter:!1,editable:!1,fluteLength:!1,radius:!1,toolLength:!1,undercut:!1,cfmMsg:"Save"},a.toggleEdit=a.toggleEdit.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.cancel=a.cancel.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"cancel",value:function(){this.toggleEdit(),"Confirm"===this.state.cfmMsg&&this.props.cancel()}},{key:"save",value:function(){this.toggleEdit(),"Confirm"===this.state.cfmMsg?this.props.buyTool():this.props.save()}},{key:"componentWillReceiveProps",value:function(e){e.readyToBuy&&this.setState({editable:!0,cfmMsg:"Confirm"})}},{key:"toggleEdit",value:function(){this.setState({editable:!this.state.editable})}},{key:"viewInfo",value:function(){return this.state.editable?s.a.createElement("div",null,s.a.createElement(F,{header:"Name: ",value:this.props.toolData.name,change:this.props.change,name:"name",onClick:this.showTool}),s.a.createElement(F,{header:"Description: ",change:this.props.change,name:"description",onClick:this.showTool}),s.a.createElement(F,{header:"Quantity: ",change:this.props.change,type:"number",name:"count",onClick:this.showTool,classes:0!==this.props.count?"":"gone"}),s.a.createElement(F,{header:"Price: ",change:this.props.change,name:"price",onClick:this.showTool,type:"price",classes:this.props.order?"":"gone"}),s.a.createElement(F,{header:"Location: ",change:this.props.change,name:"location",onClick:this.showTool,classes:this.props.order?"gone":""}),s.a.createElement(F,{header:"Notes: ",change:this.props.change,name:"notes",onClick:this.showTool,type:"textArea"}),s.a.createElement("span",{className:"submit-button-line"},s.a.createElement("button",{onClick:this.cancel,className:"button white-button"},"Cancel"),s.a.createElement("button",{onClick:this.save,className:"button save-button"},this.state.cfmMsg))):s.a.createElement("div",{onClick:this.toggleEdit},s.a.createElement(C,{header:"Name: ",value:"name"}),s.a.createElement(C,{header:"Description: ",value:"description"}),s.a.createElement(C,{header:"Quantity: ",value:"count",classes:this.props.order?"":"gone"}),s.a.createElement(C,{header:"Price: ",value:"price",classes:"price "+(this.props.order?"":"gone")}),s.a.createElement(C,{header:"Location: ",value:"location",classes:this.props.order?"gone":""}),s.a.createElement(C,{header:"Notes: ",value:"notes",classes:"notes"}))}},{key:"componentDidMount",value:function(){"0"===this.props.toolId&&this.setState({editable:!0})}},{key:"render",value:function(){var e=this.viewInfo();return s.a.createElement("div",{className:"editor-content"},s.a.createElement("div",{className:"edit-page"},e))}}]),t}(n.Component),V=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"sidenav-background",onClick:this.props.reject}),s.a.createElement("div",{className:"modal-container"},s.a.createElement("div",{className:"modal-content delete-modal"},s.a.createElement("span",null,"Are you sure you want to delete this"),s.a.createElement("div",{className:"delete-modal-button-container"},s.a.createElement("button",{onClick:this.props.delete,className:"button delete-modal-button accept"},"Yes"),s.a.createElement("button",{onClick:this.props.reject,className:"button delete-modal-button reject"},"No")))))}}]),t}(n.Component),J=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={data:{toolData:{}},viewerMode:"Endmill",toolId:a.props.id,machine:a.props.machine,loaded:!1,modalHide:!0,redirect:!1,readyToBuy:!1},a.delete=a.delete.bind(Object(u.a)(Object(u.a)(a))),a.get=a.get.bind(Object(u.a)(Object(u.a)(a))),a.put=a.put.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.setViewerMode=a.setViewerMode.bind(Object(u.a)(Object(u.a)(a))),a.stationSelector=a.stationSelector.bind(Object(u.a)(Object(u.a)(a))),a.toggleDeleteModal=a.toggleDeleteModal.bind(Object(u.a)(Object(u.a)(a))),a.receiveTool=a.receiveTool.bind(Object(u.a)(Object(u.a)(a))),a.confirmPurchase=a.confirmPurchase.bind(Object(u.a)(Object(u.a)(a))),a.cancelPurchase=a.cancelPurchase.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"confirmPurchase",value:function(){this.setState({readyToBuy:!0})}},{key:"cancelPurchase",value:function(){this.setState({readyToBuy:!1})}},{key:"get",value:function(){this.setState({data:v.getForm("ordering",this.props.id,this.props.machine),loaded:!0})}},{key:"receiveTool",value:function(){var e=v.viewForm();e.shopping=!1,e.purchased=!1,P({tool_data:e},this.state.machine),this.props.toggleModal(),this.props.toggleBig({target:{id:"shipped"}})}},{key:"componentWillMount",value:function(){L()}},{key:"delete",value:function(){D(this.props.id,this.props.machine),this.toggleDeleteModal(),this.props.toggleModal()}},{key:"put",value:function(){var e=v.viewForm();e.shopping=!1,e.purchased=!0,P({tool_data:e},this.state.machine)}},{key:"save",value:function(){this.put()}},{key:"setViewerMode",value:function(){if(this.state.data.tool_data.tool_type)switch(this.state.data.tool_data.tool_type){case"Endmill":this.setState({viewerMode:"Endmill"});break;case"Drill":case"Spot Drill":case"Center Drill":this.setState({viewerMode:"Drill"});break;default:this.setState({viewerMode:""})}}},{key:"stationSelector",value:function(){if(this.state.loaded){if("mill"===this.state.machine)return s.a.createElement(x,{readyToBuy:this.state.readyToBuy,count:this.state.count,viewerMode:this.state.viewerMode,toolData:this.state.data,toolId:this.state.toolId,save:this.save,order:!0,buyTool:this.receiveTool,cancel:this.cancelPurchase});if("lathe"===this.state.machine)return s.a.createElement(H,{readyToBuy:this.state.readyToBuy,count:this.state.count,toolData:this.state.data,viewerMode:this.state.viewerMode,toolId:this.state.toolId,save:this.save,order:!0,buyTool:this.receiveTool,cancel:this.cancelPurchase});if("other"===this.state.machine)return s.a.createElement(W,{readyToBuy:this.state.readyToBuy,count:this.state.count,toolData:this.state.data,viewerMode:this.state.viewerMode,toolId:this.state.toolId,save:this.save,order:!0,buyTool:this.receiveTool,cancel:this.cancelPurchase})}}},{key:"toggleDeleteModal",value:function(){this.setState({modalHide:!this.state.modalHide})}},{key:"componentDidMount",value:function(){"0"!==this.state.toolId?this.get():this.setState({loaded:!0})}},{key:"render",value:function(){var e=this,t=this.stationSelector();return s.a.createElement("div",null,s.a.createElement("div",{className:"sidenav-background",onClick:this.props.toggleModal}),s.a.createElement("div",{className:"modal-container"},s.a.createElement("div",{className:"modal-content editor"},s.a.createElement("div",{className:"modal-top"},s.a.createElement("h3",null,"Tool Editor"),s.a.createElement("div",{className:this.state.modalHide?"gone":""},s.a.createElement(V,{delete:this.delete,reject:this.toggleDeleteModal,link:""})),s.a.createElement("div",{className:"modal-corner-buttons"},s.a.createElement("button",{className:"button table-button delete-button "+("0"===this.state.toolId||this.state.readyToBuy?"gone":""),onClick:this.toggleDeleteModal},s.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})),s.a.createElement("button",{className:"button table-button close-modal-button "+("0"===this.state.toolId||this.state.readyToBuy?"gone":""),onClick:this.confirmPurchase},"receive"),s.a.createElement("button",{onClick:function(){e.props.toggleModal("0")},className:"button table-button close-modal-button close-button "+(this.state.readyToBuy?"gone":"")},s.a.createElement("span",{className:"close-small"},s.a.createElement("i",{className:"fa fa-times close-x"})),s.a.createElement("span",{className:"close-big"},"Return to Purchased List")))),s.a.createElement("div",{className:"purchase-command fade-in "+(this.state.readyToBuy?"":"gone")},"Check what you're receiving"),t)))}}]),t}(n.Component),q=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"loading-block",id:"Main/LoadingBlock"},s.a.createElement("div",{className:"loading-message"},this.props.loadingMessage),s.a.createElement("div",{className:"loading-bar-container"},s.a.createElement("div",{className:"loading-bar-movement slide-across"})))}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={editing:!1,toolId:null,data:{},loaded:!1,tool:a.props.category},a.toggle=a.toggle.bind(Object(u.a)(Object(u.a)(a))),a.generateEditorModal=a.generateEditorModal.bind(Object(u.a)(Object(u.a)(a))),a.toggleModal=a.toggleModal.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"toggle",value:function(e){this.props.toggleCat(e.target.id),this.setState({data:v.getOrdering(e.target.id),tool:e.target.id})}},{key:"componentWillMount",value:function(){var e=this;this.setState({data:v.getPurchased(this.props.category),loaded:!0}),v.on("allUpdated",function(){e.setState({loaded:!0})})}},{key:"toggleModal",value:function(e){this.setState({toolId:e,editing:!this.state.editing})}},{key:"generateEditorModal",value:function(){return this.state.editing?s.a.createElement(J,{id:this.state.toolId,machine:this.props.category,toggleModal:this.toggleModal,toggleBig:this.props.toggleBig,triggerUpdate:this.get}):""}},{key:"showTools",value:function(){if(!this.state.loaded)return s.a.createElement(q,{loadingMessage:"Loading Purchased List"});switch(this.props.category){default:return s.a.createElement(O,{toggleModal:this.toggleModal,data:v.getPurchased(this.props.category),noAdd:!0,source:"ordering"});case"lathe":return s.a.createElement(w,{toggleModal:this.toggleModal,data:v.getPurchased(this.props.category),noAdd:!0,source:"ordering"});case"other":return s.a.createElement(j,{toggleModal:this.toggleModal,data:v.getPurchased(this.props.category),noAdd:!0,source:"ordering"})}}},{key:"render",value:function(){var e=this.showTools(),t=this.generateEditorModal();return s.a.createElement("div",{id:"Purchased"},t,s.a.createElement("div",{className:"toggle-pills inverted"},s.a.createElement("input",{type:"radio",name:"dept",id:"mill",onChange:this.toggle,checked:"mill"===this.state.tool}),s.a.createElement("label",{htmlFor:"mill"},"Mill"),s.a.createElement("input",{type:"radio",name:"dept",id:"lathe",onChange:this.toggle,checked:"lathe"===this.state.tool}),s.a.createElement("label",{htmlFor:"lathe"},"Lathe"),s.a.createElement("input",{type:"radio",name:"dept",id:"other",onChange:this.toggle,checked:"other"===this.state.tool}),s.a.createElement("label",{htmlFor:"other"},"Other")),s.a.createElement("div",null,e))}}]),t}(n.Component),Q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={data:{tool_data:{}},viewerMode:"Endmill",toolId:a.props.id,machine:a.props.machine,loaded:!1,modalHide:!0,redirect:!1,readyToBuy:!1},a.delete=a.delete.bind(Object(u.a)(Object(u.a)(a))),a.get=a.get.bind(Object(u.a)(Object(u.a)(a))),a.post=a.post.bind(Object(u.a)(Object(u.a)(a))),a.put=a.put.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.setViewerMode=a.setViewerMode.bind(Object(u.a)(Object(u.a)(a))),a.stationSelector=a.stationSelector.bind(Object(u.a)(Object(u.a)(a))),a.toggleDeleteModal=a.toggleDeleteModal.bind(Object(u.a)(Object(u.a)(a))),a.buyTool=a.buyTool.bind(Object(u.a)(Object(u.a)(a))),a.confirmPurchase=a.confirmPurchase.bind(Object(u.a)(Object(u.a)(a))),a.cancelPurchase=a.cancelPurchase.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"confirmPurchase",value:function(){this.setState({readyToBuy:!0})}},{key:"cancelPurchase",value:function(){this.setState({readyToBuy:!1})}},{key:"buyTool",value:function(){var e=v.viewForm();e.shopping=!1,e.purchased=!0,P({tool_data:e},this.state.machine),this.props.toggleModal(),this.props.toggleBig({target:{id:"purchased"}})}},{key:"delete",value:function(){D(this.props.id,this.props.machine),this.toggleDeleteModal(),this.props.toggleModal()}},{key:"componentWillMount",value:function(){L()}},{key:"get",value:function(){this.setState({data:v.getForm("ordering",this.props.id,this.props.machine),loaded:!0})}},{key:"post",value:function(){var e=v.viewForm();e.shopping=!0,e.purchased=!1,I({user:"Andrew",tool_data:e},this.state.machine),this.props.toggleModal()}},{key:"put",value:function(){var e=v.viewForm();e.shopping=!0,e.purchased=!1,P({tool_data:e},this.state.machine)}},{key:"save",value:function(){"0"===this.state.toolId?this.post():this.put()}},{key:"setViewerMode",value:function(){if(this.state.data.tool_data.tool_type)switch(this.state.data.tool_data.tool_type){case"Endmill":this.setState({viewerMode:"Endmill"});break;case"Drill":case"Spot Drill":case"Center Drill":this.setState({viewerMode:"Drill"});break;default:this.setState({viewerMode:""})}}},{key:"stationSelector",value:function(){if(this.state.loaded){if("mill"===this.state.machine)return s.a.createElement(x,{viewerMode:this.state.viewerMode,toolData:this.state.data,toolId:this.state.toolId,readyToBuy:this.state.readyToBuy,cancel:this.cancelPurchase,save:this.save,order:!0,buyTool:this.buyTool});if("lathe"===this.state.machine)return s.a.createElement(H,{readyToBuy:this.state.readyToBuy,toolData:this.state.data,viewerMode:this.state.viewerMode,cancel:this.cancelPurchase,toolId:this.state.toolId,save:this.save,order:!0,buyTool:this.buyTool});if("other"===this.state.machine)return s.a.createElement(W,{readyToBuy:this.state.readyToBuy,toolData:this.state.data,viewerMode:this.state.viewerMode,cancel:this.cancelPurchase,toolId:this.state.toolId,save:this.save,order:!0,buyTool:this.buyTool})}}},{key:"toggleDeleteModal",value:function(){this.setState({modalHide:!this.state.modalHide})}},{key:"componentDidMount",value:function(){"0"!==this.state.toolId?this.get():this.setState({loaded:!0})}},{key:"render",value:function(){var e=this,t=this.stationSelector();return s.a.createElement("div",{id:"OrderEditorModal"},s.a.createElement("div",{className:"sidenav-background",onClick:this.props.toggleModal}),s.a.createElement("div",{className:"modal-container"},s.a.createElement("div",{className:"modal-content editor"},s.a.createElement("div",{className:"modal-top"},s.a.createElement("h3",null,"Tool Editor"),s.a.createElement("div",{className:this.state.modalHide?"gone":""},s.a.createElement(V,{delete:this.delete,reject:this.toggleDeleteModal})),s.a.createElement("div",{className:"modal-corner-buttons"},s.a.createElement("button",{className:"button table-button delete-button "+("0"===this.state.toolId||this.state.readyToBuy?"gone":""),onClick:this.toggleDeleteModal},s.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})),s.a.createElement("button",{className:"button table-button close-modal-button "+("0"===this.state.toolId||this.state.readyToBuy?"gone":""),onClick:this.confirmPurchase},"purchase"),s.a.createElement("button",{onClick:function(){e.props.toggleModal("0")},className:"button table-button close-modal-button close-button "+(this.state.readyToBuy?"gone":"")},s.a.createElement("span",{className:"close-small"},s.a.createElement("i",{className:"fa fa-times close-x"})),s.a.createElement("span",{className:"close-big"},"Return to Shopping List")))),s.a.createElement("div",{className:"purchase-command fade-in "+(this.state.readyToBuy?"":"gone")},"Double check your order"),t)))}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={editing:!1,toolId:null,data:[],loaded:!1,tool:a.props.category},a.toggle=a.toggle.bind(Object(u.a)(Object(u.a)(a))),a.generateEditorModal=a.generateEditorModal.bind(Object(u.a)(Object(u.a)(a))),a.toggleModal=a.toggleModal.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"toggle",value:function(e){this.props.toggleCat(e.target.id),this.setState({data:v.getOrdering(e.target.id),tool:e.target.id})}},{key:"componentWillMount",value:function(){var e=this;v.getReady("t")&&this.setState({loaded:!0}),v.on("allUpdated",function(){e.setState({loaded:!0})})}},{key:"toggleModal",value:function(e){e?this.setState({toolId:e,editing:!this.state.editing}):this.setState({editing:!this.state.editing})}},{key:"generateEditorModal",value:function(){return this.state.editing?s.a.createElement(Q,{id:this.state.toolId,machine:this.props.category,toggleModal:this.toggleModal,toggleBig:this.props.toggleBig}):""}},{key:"showTools",value:function(){if(!this.state.loaded)return s.a.createElement(q,{loadingMessage:"Loading Shopping List"});switch(this.props.category){default:return s.a.createElement(O,{toggleModal:this.toggleModal,data:v.getOrdering(this.props.category),source:"ordering"});case"lathe":return s.a.createElement(w,{toggleModal:this.toggleModal,data:v.getOrdering(this.props.category),source:"ordering"});case"other":return s.a.createElement(j,{toggleModal:this.toggleModal,data:v.getOrdering(this.props.category),source:"ordering"})}}},{key:"render",value:function(){var e=this.showTools(),t=this.generateEditorModal();return s.a.createElement("div",{id:"Ordering/ToBuy"},t,s.a.createElement("div",{className:"toggle-pills inverted"},s.a.createElement("input",{type:"radio",name:"dept",id:"mill",onChange:this.toggle,checked:"mill"===this.state.tool}),s.a.createElement("label",{htmlFor:"mill"},"Mill"),s.a.createElement("input",{type:"radio",name:"dept",id:"lathe",onChange:this.toggle,checked:"lathe"===this.state.tool}),s.a.createElement("label",{htmlFor:"lathe"},"Lathe"),s.a.createElement("input",{type:"radio",name:"dept",id:"other",onChange:this.toggle,checked:"other"===this.state.tool}),s.a.createElement("label",{htmlFor:"other"},"Other")),s.a.createElement("div",null,e))}}]),t}(n.Component),K=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={data:{toolData:{}},viewerMode:"Endmill",toolId:a.props.id,machine:a.props.machine,loaded:!1,modalHide:!0,redirect:!1},a.delete=a.delete.bind(Object(u.a)(Object(u.a)(a))),a.get=a.get.bind(Object(u.a)(Object(u.a)(a))),a.post=a.post.bind(Object(u.a)(Object(u.a)(a))),a.put=a.put.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.setViewerMode=a.setViewerMode.bind(Object(u.a)(Object(u.a)(a))),a.stationSelector=a.stationSelector.bind(Object(u.a)(Object(u.a)(a))),a.toggleDeleteModal=a.toggleDeleteModal.bind(Object(u.a)(Object(u.a)(a))),a.orderTool=a.orderTool.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"orderTool",value:function(){var e=v.viewForm();e.shopping=!0,e.purchased=!1,delete e.created_at,delete e.updated_at,delete e.user,delete e._id,delete e.company_id,I({user:"Andrew",tool_data:e},this.state.machine),this.props.toggleModal(),this.props.toggleBig({target:{id:"shopping"}})}},{key:"delete",value:function(){D(this.props.id,this.props.machine),this.toggleDeleteModal(),this.props.toggleModal()}},{key:"get",value:function(){this.setState({data:v.getForm("ordering",this.props.id,this.props.machine),loaded:!0})}},{key:"post",value:function(){var e=v.viewForm();e.shopping=!1,e.purchased=!1,I({user:"Andrew",tool_data:e},this.state.machine),this.props.toggleModal()}},{key:"put",value:function(){var e=v.viewForm();e.shopping=!1,e.purchased=!1,P({user:"Andrew",tool_data:e},this.state.machine)}},{key:"save",value:function(){"0"===this.state.toolId?this.post():this.put()}},{key:"componentWillMount",value:function(){L()}},{key:"setViewerMode",value:function(){if(this.state.data.tool_data.tool_type)switch(this.state.data.tool_data.tool_type){case"Endmill":this.setState({viewerMode:"Endmill"});break;case"Drill":case"Spot Drill":case"Center Drill":this.setState({viewerMode:"Drill"});break;default:this.setState({viewerMode:""})}}},{key:"stationSelector",value:function(){if(this.state.loaded){if("mill"===this.state.machine)return s.a.createElement(x,{count:this.state.count,viewerMode:this.state.viewerMode,toolData:this.state.data,toolId:this.state.toolId,save:this.save,change:this.change,output:this.output});if("lathe"===this.state.machine)return s.a.createElement(H,{count:this.state.count,toolData:this.state.data,viewerMode:this.state.viewerMode,toolId:this.state.toolId,save:this.save,change:this.change,output:this.output});if("other"===this.state.machine)return s.a.createElement(W,{count:this.state.count,toolData:this.state.data,viewerMode:this.state.viewerMode,toolId:this.state.toolId,save:this.save,change:this.change,output:this.output})}}},{key:"toggleDeleteModal",value:function(){this.setState({modalHide:!this.state.modalHide})}},{key:"componentDidMount",value:function(){"0"!==this.state.toolId?this.get():this.setState({loaded:!0})}},{key:"render",value:function(){var e=this,t=this.stationSelector();return s.a.createElement("div",null,s.a.createElement("div",{className:"sidenav-background",onClick:this.props.toggleModal}),s.a.createElement("div",{className:"modal-container"},s.a.createElement("div",{className:"modal-content editor"},s.a.createElement("div",{className:"modal-top"},s.a.createElement("h3",null,"Tool Editor"),s.a.createElement("div",{className:this.state.modalHide?"gone":""},s.a.createElement(V,{delete:this.delete,reject:this.toggleDeleteModal,link:""})),s.a.createElement("div",{className:"modal-corner-buttons"},s.a.createElement("button",{className:"button table-button delete-button",onClick:this.toggleDeleteModal},s.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})),s.a.createElement("button",{className:"button table-button close-modal-button "+("0"===this.state.toolId?"gone":""),onClick:this.orderTool},"order"),s.a.createElement("button",{onClick:function(){e.props.toggleModal("0")},className:"button table-button close-button close-modal-button"},s.a.createElement("span",{className:"close-small"},s.a.createElement("i",{className:"fa fa-times close-x"})),s.a.createElement("span",{className:"close-big"},"Return to Stock List")))),t)))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={editing:!1,toolId:null,data:{},loaded:!1,tool:a.props.category},a.toggle=a.toggle.bind(Object(u.a)(Object(u.a)(a))),a.generateEditorModal=a.generateEditorModal.bind(Object(u.a)(Object(u.a)(a))),a.toggleModal=a.toggleModal.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"toggle",value:function(e){this.props.toggleCat(e.target.id),this.setState({data:v.getOrdering(e.target.id),tool:e.target.id})}},{key:"toggleModal",value:function(e){this.setState({toolId:e,editing:!this.state.editing})}},{key:"componentWillMount",value:function(){var e=this;this.setState({data:v.getShipped(this.props.category),loaded:!0}),v.on("allUpdated",function(){e.setState({loaded:!0})})}},{key:"generateEditorModal",value:function(){return this.state.editing?s.a.createElement(K,{id:this.state.toolId,machine:this.props.category,toggleModal:this.toggleModal,toggleBig:this.props.toggleBig,triggerUpdate:this.get}):""}},{key:"showTools",value:function(){if(!this.state.loaded)return s.a.createElement(q,{loadingMessage:"Loading Inventory List"});switch(this.props.category){default:return s.a.createElement(O,{toggleModal:this.toggleModal,data:v.getShipped(this.props.category),source:"stock"});case"lathe":return s.a.createElement(w,{toggleModal:this.toggleModal,data:v.getShipped(this.props.category),source:"stock"});case"other":return s.a.createElement(j,{toggleModal:this.toggleModal,data:v.getShipped(this.props.category),source:"stock"})}}},{key:"render",value:function(){var e=this.showTools(),t=this.generateEditorModal();return s.a.createElement("div",{id:"Pages/Purchased/Shipped"},t,s.a.createElement("div",{className:"toggle-pills inverted"},s.a.createElement("input",{type:"radio",name:"dept",id:"mill",onChange:this.toggle,checked:"mill"===this.state.tool}),s.a.createElement("label",{htmlFor:"mill"},"Mill"),s.a.createElement("input",{type:"radio",name:"dept",id:"lathe",onChange:this.toggle,checked:"lathe"===this.state.tool}),s.a.createElement("label",{htmlFor:"lathe"},"Lathe"),s.a.createElement("input",{type:"radio",name:"dept",id:"other",onChange:this.toggle,checked:"other"===this.state.tool}),s.a.createElement("label",{htmlFor:"other"},"Other")),s.a.createElement("div",null,e))}}]),t}(n.Component),Z=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(h.a)(t).call(this))).state={purchased:0,subCat:"mill"},e.togglePurchase=e.togglePurchase.bind(Object(u.a)(Object(u.a)(e))),e.toggleSubCat=e.toggleSubCat.bind(Object(u.a)(Object(u.a)(e))),e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"toggleSubCat",value:function(e){this.setState({subCat:e})}},{key:"togglePurchase",value:function(e){"shopping"===e.target.id?this.setState({purchased:0}):"purchased"===e.target.id?this.setState({purchased:1}):"shipped"===e.target.id&&this.setState({purchased:2})}},{key:"showPurchaseState",value:function(){return 1===this.state.purchased?s.a.createElement(G,{category:this.state.subCat,toggleCat:this.toggleSubCat,toggleBig:this.togglePurchase}):0===this.state.purchased?s.a.createElement(Y,{category:this.state.subCat,toggleCat:this.toggleSubCat,toggleBig:this.togglePurchase}):2===this.state.purchased?s.a.createElement($,{category:this.state.subCat,toggleCat:this.toggleSubCat,toggleBig:this.togglePurchase}):void 0}},{key:"render",value:function(){var e=this.showPurchaseState();return s.a.createElement("div",{id:"Pages/Ordering/Ordering"},s.a.createElement("div",{className:"toggle-pills under-inverted"},s.a.createElement("input",{name:"ordering",id:"shopping",type:"radio",onChange:this.togglePurchase,checked:0===this.state.purchased}),s.a.createElement("label",{htmlFor:"shopping"},"Shopping"),s.a.createElement("input",{name:"ordering",id:"purchased",type:"radio",onChange:this.togglePurchase,checked:1===this.state.purchased}),s.a.createElement("label",{htmlFor:"purchased"},"Purchased"),s.a.createElement("input",{name:"ordering",id:"shipped",type:"radio",onChange:this.togglePurchase,checked:2===this.state.purchased}),s.a.createElement("label",{htmlFor:"shipped"},"Stock")),s.a.createElement("div",null,e))}}]),t}(n.Component),X=a(88),ee=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],te=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).userPositions=[{value:"Admin",children:"Admin"},{value:"Manager",children:"Manager"},{value:"Inspection Manager",children:"Inspection Manager"},{value:"Inspector",children:"Inspectior"},{value:"Operator",children:"Operator"},{value:"Setup Machinist",children:"Setup Machinist"},{value:"Programmer",children:"Programmer"},{value:"Purchaser",children:"Purchaser"},{value:"Accounting",children:"Accounting"}],a.state={userInfo:{},userId:a.props.id,editable:!1,newUser:!1,modalHide:!0,loaded:!1,redirect:!1},a.get=a.get.bind(Object(u.a)(Object(u.a)(a))),a.post=a.post.bind(Object(u.a)(Object(u.a)(a))),a.put=a.put.bind(Object(u.a)(Object(u.a)(a))),a.delete=a.delete.bind(Object(u.a)(Object(u.a)(a))),a.toggleEdit=a.toggleEdit.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.toggleModal=a.toggleModal.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"get",value:function(){this.setState({userInfo:v.getForm("users",this.props.id),loaded:!0})}},{key:"post",value:function(){var e,t=v.viewForm();e=t,b.dispatch({type:"CREATE_USER",body:e})}},{key:"createStates",value:function(){return ee.map(function(e){return{value:e,children:e}})}},{key:"put",value:function(){var e,t=v.viewForm();e=t,b.dispatch({type:"EDIT_USER",body:e})}},{key:"delete",value:function(){var e=this,t=sessionStorage.getItem("user").split(",")[2].replace("http://localhost:3001","https://toolbbe.herokuapp.com"),a=new Request(t+"/users/"+this.state.userId,{method:"DELETE",headers:new Headers({"Content-Type":"application/json"})});fetch(a).then(function(e){return e.json()}).then(function(t){e.setState({redirect:!0})})}},{key:"toggleEdit",value:function(){this.setState({editable:!this.state.editable})}},{key:"toggleModal",value:function(){this.setState({modalHide:!this.state.modalHide})}},{key:"save",value:function(){this.state.newUser?this.post():this.put(),this.toggleEdit()}},{key:"viewInfo",value:function(){return this.state.loaded?this.state.editable?s.a.createElement("div",{className:"edit-page"},s.a.createElement(F,{header:"Name: ",name:"name",type:"textOnly"}),s.a.createElement(F,{header:"User Position: ",type:"select",name:"user_position",properties:this.userPositions}),s.a.createElement(F,{header:"Street Address: ",name:"street_address"}),s.a.createElement(F,{header:"City: ",name:"city",type:"textOnly"}),s.a.createElement(F,{header:"State: ",type:"select",name:"state",properties:this.createStates()}),s.a.createElement(F,{header:"Phone Number: ",name:"phone_number",type:"phone"}),s.a.createElement(C,{header:"Email: ",value:"email"}),s.a.createElement(C,{header:"Company Name: ",value:"company_name"}),s.a.createElement(C,{header:"Company Id: ",value:"company_id"}),s.a.createElement("span",{className:"submit-button-line"},s.a.createElement("button",{onClick:this.toggleEdit,className:"button small-button white-button"},"Cancel"),s.a.createElement("button",{onClick:this.save,className:"button save-button small-button"},"Save"))):s.a.createElement("div",{onClick:this.toggleEdit,className:"edit-page"},s.a.createElement(C,{header:"Name: ",value:"name"}),s.a.createElement(C,{header:"User Position: ",value:"user_position"}),s.a.createElement(C,{header:"Street Address: ",value:"street_address"}),s.a.createElement(C,{header:"City: ",value:"city"}),s.a.createElement(C,{header:"State: ",value:"state"}),s.a.createElement(C,{header:"Phone Number: ",value:"phone_number"}),s.a.createElement(C,{header:"Email: ",value:"email"}),s.a.createElement(C,{header:"Company Name: ",value:"company_name"}),s.a.createElement(C,{header:"Company Id: ",value:"company_id"})):s.a.createElement("span",{className:"loading-screen"},"Beaming all the satelites...")}},{key:"componentWillMount",value:function(){"0"!==this.state.userId?this.get():this.setState({loaded:!0})}},{key:"render",value:function(){var e=this.viewInfo();return s.a.createElement("div",null,s.a.createElement("div",{className:"sidenav-background",onClick:this.props.toggleModal}),s.a.createElement("div",{className:"modal-container"},s.a.createElement("div",{className:"modal-content editor"},s.a.createElement("div",{className:"modal-top"},s.a.createElement("h3",null,"User Profile"),s.a.createElement("div",{className:this.state.modalHide?"gone":""},s.a.createElement(V,{delete:this.delete,reject:this.toggleModal,link:"#"})),s.a.createElement("div",{className:"modal-corner-buttons"},s.a.createElement("button",{className:"button table-button delete-button",onClick:this.toggleModal},s.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})),s.a.createElement("button",{onClick:this.props.toggleModal,className:"button table-button close-button close-modal-button"},s.a.createElement("span",{className:"close-small"},s.a.createElement("i",{className:"fa fa-times close-x"})),s.a.createElement("span",{className:"close-big"},"Return to Users")))),e)))}}]),t}(n.Component),ae=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(h.a)(t).call(this))).state={users:[],companies:[],editing:!1,loaded:!1,companyId:"",userId:""},e.copyButton=e.copyButton.bind(Object(u.a)(Object(u.a)(e))),e.toggleModal=e.toggleModal.bind(Object(u.a)(Object(u.a)(e))),e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"copyButton",value:function(e){e.target.children[0].select(),document.execCommand("Copy")}},{key:"toggleModal",value:function(e){e?this.setState({userId:e,editing:!this.state.editing}):this.setState({editing:!this.state.editing})}},{key:"generateEditorModal",value:function(){return this.state.editing?s.a.createElement(te,{id:this.state.userId,toggleModal:this.toggleModal}):""}},{key:"drawTable",value:function(){return this.state.loaded?s.a.createElement(_,{data:this.state.users,headers:k.Users,noAdd:!0,toggleModal:this.toggleModal}):s.a.createElement("span",{className:"loading-screen"},"It's a lot of work to assemble a table")}},{key:"componentWillMount",value:function(){var e=this;v.getReady("u")&&this.setState({users:v.getUsers(),loaded:!0,companyId:v.getCompanyId()}),v.on("change",function(){e.setState({loaded:!1}),e.setState({users:v.getUsers(),loaded:!0,companyId:v.getCompanyId()})})}},{key:"render",value:function(){var e=this.generateEditorModal(),t=this.drawTable();return s.a.createElement("div",{id:"Pages/Users"},e,s.a.createElement("h3",null,"Users"),s.a.createElement("div",{className:"company-id"},s.a.createElement("span",{className:"label"},"Company Id: "),s.a.createElement("span",null,this.state.companyId),s.a.createElement(X.CopyToClipboard,{text:this.state.companyId},s.a.createElement("span",{className:"button small-button"},"Copy id"))),t)}}]),t}(n.Component),ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={companyInfo:{},companyId:a.props.id,editable:!1,newCompany:!1,modalHide:!0,loaded:!1,redirect:!1},a.get=a.get.bind(Object(u.a)(Object(u.a)(a))),a.post=a.post.bind(Object(u.a)(Object(u.a)(a))),a.put=a.put.bind(Object(u.a)(Object(u.a)(a))),a.toggleEdit=a.toggleEdit.bind(Object(u.a)(Object(u.a)(a))),a.change=a.change.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.toggleDelete=a.toggleDelete.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"get",value:function(){this.setState({companyInfo:v.getForm("companies",this.props.id),loaded:!0})}},{key:"post",value:function(){!function(e){b.dispatch({type:"CREATE_COMPANY",body:e})}(v.viewForm())}},{key:"createStates",value:function(){return ee.map(function(e){return{value:e,children:e}})}},{key:"put",value:function(){!function(e){b.dispatch({type:"EDIT_COMPANY",body:e})}(v.viewForm())}},{key:"change",value:function(e){this.state.companyInfo[e.target.name]=e.target.value}},{key:"toggleEdit",value:function(){this.setState({editable:!this.state.editable})}},{key:"toggleDelete",value:function(){this.setState({modalHide:!this.state.modalHide})}},{key:"save",value:function(){this.state.newCompany?this.post():this.put(),this.toggleEdit()}},{key:"viewInfo",value:function(){return this.state.loaded?this.state.editable?s.a.createElement("div",{className:"edit-page"},s.a.createElement(F,{header:"Company Name: ",name:"name"}),s.a.createElement(F,{header:"Street Address: ",name:"street_address"}),s.a.createElement(F,{header:"City: ",name:"city"}),s.a.createElement(F,{header:"State: ",type:"select",name:"state",properties:this.createStates()}),s.a.createElement(F,{header:"Email: ",name:"email"}),s.a.createElement(F,{header:"Phone Number: ",name:"phone_number",type:"phone"}),s.a.createElement("span",{className:"submit-button-line"},s.a.createElement("button",{onClick:this.toggleEdit,className:"button white-button"},"Cancel"),s.a.createElement("button",{onClick:this.save,className:"button small-button"},"Save"))):s.a.createElement("div",{onClick:this.toggleEdit,className:"edit-page"},s.a.createElement(C,{header:"Company Id: ",value:"_id"}),s.a.createElement(C,{header:"Company Name: ",value:"name"}),s.a.createElement(C,{header:"Street Addresss: ",value:"street_address"}),s.a.createElement(C,{header:"City: ",value:"city"}),s.a.createElement(C,{header:"State: ",value:"state"}),s.a.createElement(C,{header:"Email: ",value:"email"}),s.a.createElement(C,{header:"Phone Number: ",value:"phone_number"})):s.a.createElement("span",{className:"loading-screen"},"Beaming all the satelites...")}},{key:"componentWillMount",value:function(){"0"!==this.state.companyId?this.get():this.setState({loaded:!0})}},{key:"render",value:function(){var e=this.viewInfo();return s.a.createElement("div",{id:"Pages/CompanyEditor"},s.a.createElement("div",{className:"sidenav-background",onClick:this.props.toggleModal}),s.a.createElement("div",{className:"modal-container"},s.a.createElement("div",{className:"modal-content editor"},s.a.createElement("div",{className:"modal-top"},s.a.createElement("h3",null,"Company Editor"),s.a.createElement("div",{className:"modal-corner-buttons"},s.a.createElement("button",{onClick:this.props.toggleModal,className:"button table-button close-button close-modal-button"},s.a.createElement("span",{className:"close-small"},s.a.createElement("i",{className:"fa fa-times close-x"})),s.a.createElement("span",{className:"close-big"},"Return to Company")))),s.a.createElement("div",{className:"edit-page"},e))))}}]),t}(n.Component),se=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(h.a)(t).call(this))).state={companies:[],editing:!1,loaded:!1,companyId:""},e.toggleModal=e.toggleModal.bind(Object(u.a)(Object(u.a)(e))),e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"toggleModal",value:function(e){e?this.setState({toolId:e,editing:!this.state.editing}):this.setState({editing:!this.state.editing})}},{key:"generateEditorModal",value:function(){return this.state.editing?s.a.createElement(ne,{id:this.state.toolId,toggleModal:this.toggleModal}):""}},{key:"drawTable",value:function(){return this.state.loaded?s.a.createElement(_,{data:this.state.companies,headers:k.Companies,noAdd:!0,noSearch:!0,toggleModal:this.toggleModal}):s.a.createElement("span",{className:"loading-screen"},"It's a lot of work to assemble a table")}},{key:"componentWillMount",value:function(){var e=this;v.getReady("c")&&this.setState({companies:v.getCompanies(),loaded:!0,companyId:v.getCompanyId()}),v.on("updatedCompanies",function(){e.setState({loaded:!1}),e.setState({companies:v.getCompanies(),loaded:!0,companyId:v.getCompanyId()})})}},{key:"render",value:function(){var e=this.generateEditorModal(),t=this.drawTable();return s.a.createElement("div",{className:"companies",id:"Pages/Companies"},e,s.a.createElement("h3",null,"My Company"),t)}}]),t}(n.Component),le=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(h.a)(t).call(this))).state={tabs:[{name:"Tooling",value:"ordering"},{name:"Users",value:"users"},{name:"My Company",value:"companies"}]},e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"primaryContent",value:function(){return s.a.createElement("div",{id:"Main/HomePage"},s.a.createElement(E,{tabs:this.state.tabs,logout:this.props.logout,title:this.props.title}),s.a.createElement("div",{className:"page-content"},s.a.createElement(m.c,{exact:!0,path:"/",component:Z}),s.a.createElement(m.c,{path:"/ordering",component:Z}),s.a.createElement(m.c,{exact:!0,path:"/companies",component:se}),s.a.createElement(m.c,{exact:!0,path:"/users",component:ae})))}},{key:"render",value:function(){var e=this.primaryContent();return s.a.createElement(m.a,null,e)}}]),t}(n.Component),oe=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"progress"},s.a.createElement("div",{className:"progress-slide "+(this.props.activated?"grow ":"")}))}}]),t}(n.Component),ie=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={progress:!1},a.login=a.login.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"login",value:function(){var e=this;this.props.login(),setTimeout(function(){e.props.failed||e.setState({progress:!0})},100)}},{key:"render",value:function(){return s.a.createElement("div",{className:"login-screen"},s.a.createElement("div",{className:"modal-container login-container"},s.a.createElement("div",{className:"modal-content login-modal"},s.a.createElement("div",{className:"title-box"},s.a.createElement("h1",null,this.props.title),s.a.createElement("div",{className:"login-description"},"A purchasing tool for machine shops")),s.a.createElement("div",{className:"login"},s.a.createElement("div",{className:"login-title"},"Login to your account"),s.a.createElement("div",{className:"interactions"},s.a.createElement("span",{className:"error-message fade-in "+(this.props.failed?"":"gone")},"Your email or password wasn't recognized"),s.a.createElement("input",{type:"email",onChange:this.props.update,className:"create-name "+(this.props.failed?"bad-input":""),name:"email",placeholder:"email"}),s.a.createElement("input",{type:"password",onChange:this.props.update,className:"create-name "+(this.props.failed?"bad-input":""),name:"password",placeholder:"password"}),s.a.createElement("div",{className:"finish-buttons"},s.a.createElement("button",{className:"button login-button",onClick:this.login},"Login"),s.a.createElement("button",{className:"button white-button",onClick:this.props.forgotPassword},"Forgot password"),s.a.createElement(oe,{activated:this.state.progress})))),s.a.createElement("div",{className:"register"},s.a.createElement("div",{className:"register-desc"},s.a.createElement("button",{className:"button toggle-bio",onClick:this.props.createUserBioToggle},"Find out about ToolBox"),s.a.createElement("button",{className:"button login-button white-button",onClick:this.props.createUser},"Create an Account"))))))}}]),t}(n.Component),re=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(h.a)(t).call(this))).state={companyList:[],company:"new company",progress:!1,newCompany:!1},e.get=e.get.bind(Object(u.a)(Object(u.a)(e))),e.getCompany=e.getCompany.bind(Object(u.a)(Object(u.a)(e))),e.addUser=e.addUser.bind(Object(u.a)(Object(u.a)(e))),e.toggleNewCompany=e.toggleNewCompany.bind(Object(u.a)(Object(u.a)(e))),e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"toggleNewCompany",value:function(){var e=this;this.setState({newCompany:!this.state.newCompany},function(){e.state.newCompany||e.props.resetNewToNull()})}},{key:"addUser",value:function(){var e=this;this.props.addUser(),setTimeout(function(){e.props.failed||e.setState({progress:!0})},100)}},{key:"get",value:function(){var e=this;fetch("https://toolbbe.herokuapp.com/api/companies").then(function(e){return e.json()}).then(function(t){e.setState({companyList:t})})}},{key:"componentDidMount",value:function(){this.get()}},{key:"getCompany",value:function(e){var t=this;"test"===e.target.value.toLowerCase()&&(e.target.value="5a43011d6ceec000140f63dd"),this.state.companyList.forEach(function(a){e.target.value===a._id&&(t.setState({company:a.name}),t.props.createUserInfo({target:{name:"cname",value:t.state.company}}))})}},{key:"finished",value:function(){return this.props.finished?s.a.createElement("div",null,s.a.createElement("div",{className:"final-message fade-in"},"View your email for final steps to confirm your account. Thanks for joining"),s.a.createElement("button",{className:"button fade-in",onClick:this.props.createUser},"back to Login")):s.a.createElement("div",{className:"interactions"},s.a.createElement("span",{className:"error-message fade-in "+(this.props.failed?"":"gone")},this.props.failed),s.a.createElement("input",{type:"text",onChange:this.props.createUserInfo,className:"create-name required "+(this.props.failed?"bad-input":""),name:"name",placeholder:"first and last name"}),s.a.createElement("span",{className:"create-name"},s.a.createElement("input",{type:"checkbox",id:"newCompany",onChange:this.toggleNewCompany,name:"newCompany"}),s.a.createElement("label",{htmlFor:"newCompany"},"New Company")),s.a.createElement("input",{type:"text",className:"create-name "+(this.state.newCompany?"":"gone"),name:"newCompanyName",onChange:this.props.createUserInfo,placeholder:"company name"}),s.a.createElement("input",{type:"text",onChange:this.getCompany,className:"create-name required "+(this.props.failed?"bad-input ":"")+(this.state.newCompany?"gone ":""),name:"cid",placeholder:"company id"}),s.a.createElement("div",{className:"create-name "+(this.state.newCompany?"gone ":"")},this.state.company),s.a.createElement("input",{type:"email",onChange:this.props.createUserInfo,className:"create-name required "+(this.props.failed?"bad-input":""),name:"email",placeholder:"email"}),s.a.createElement("input",{type:"password",onChange:this.props.createUserInfo,className:"create-name required "+(this.props.failed?"bad-input":""),name:"pass",placeholder:"password"}),s.a.createElement("div",{className:"finish-buttons"},s.a.createElement("button",{className:"button create-button",onClick:this.addUser},"Create user"),s.a.createElement("button",{className:"button white-button",onClick:this.props.createUser},"back to Login"),s.a.createElement(oe,{activated:this.state.progress})))}},{key:"render",value:function(){var e=this.finished();return s.a.createElement("div",{className:"login-screen",id:"Main/CreateUser"},s.a.createElement("div",{className:"modal-container login-container"},s.a.createElement("div",{className:"modal-content login-modal"},s.a.createElement("div",{className:"title-box"},s.a.createElement("h1",null,this.props.title),s.a.createElement("div",{className:"login-description"},"A purchasing tool for machine shops")),s.a.createElement("div",{className:"create-user"},s.a.createElement("span",{className:"login-title"},"Set up a new account"),e))))}}]),t}(n.Component),ce=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(h.a)(t).call(this))).state={},e.createUserToggle=e.createUserToggle.bind(Object(u.a)(Object(u.a)(e))),e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"createUserToggle",value:function(){this.props.createUserBioToggle(),this.props.createUser()}},{key:"render",value:function(){return s.a.createElement("div",{className:"login-screen",id:"Main/CreateUserBio"},s.a.createElement("div",{className:"modal-container login-container"},s.a.createElement("div",{className:"modal-content login-modal"},s.a.createElement("div",{className:"title-box bio-box"},s.a.createElement("h1",null,this.props.title),s.a.createElement("div",{className:"login-description"},"A purchasing tool for machine shops"),s.a.createElement("p",{className:"toolbox-bio"},"Taking a new approach to shop management, ToolBox creates an environment that lets you run your business easily and effectiently. Now you can get access to all of your data anywhere you have an internet connection. ",s.a.createElement("br",null),s.a.createElement("br",null),"With an online interface, whether you're out running errands, or in front of your computer, you can quickly see the state of the inventory in your shop. Ordering machines, tools, material, and anything else you need can be done with one button, and you can track the progress of your inventory as it goes from a vendor through your shop's jobs. ",s.a.createElement("br",null),s.a.createElement("br",null),"Click Get Started to create a free account for your company"),s.a.createElement("div",{className:"bio-button-area"},s.a.createElement("button",{className:"button login-button save-button",onClick:this.createUserToggle},"Get started"),s.a.createElement("button",{className:"button white-button",onClick:this.props.createUserBioToggle},"Back to Login"))))))}}]),t}(n.Component),he=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"login-screen",id:"Main/ResetPassword"},s.a.createElement("div",{className:"modal-container login-container"},s.a.createElement("div",{className:"modal-content login-modal"},s.a.createElement("div",{className:"title-box"},s.a.createElement("h1",null,this.props.title),s.a.createElement("div",{className:"login-description"},"A purchasing tool for machine shops")),s.a.createElement("div",{className:"create-user"},s.a.createElement("div",{className:"login-title"},"Enter an email to reset password"),s.a.createElement("div",{className:"interactions"},s.a.createElement("span",{className:"error-message fade-in "+(this.props.failed?"":"gone")},this.props.failed),s.a.createElement("input",{type:"email",onChange:this.props.update,className:"create-name "+(this.props.failed?"bad-input":""),name:"email",placeholder:"email"}),s.a.createElement("div",{className:"finish-buttons"},s.a.createElement("button",{className:"button login-button",onClick:this.props.resendPassword},"Reset Password"),s.a.createElement("button",{className:"button white-button",onClick:this.props.forgotPassword},"Back to Login")))))))}}]),t}(n.Component),de=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(h.a)(t).call(this))).state={password:"",password2:"",error:!1,passShow:!1},e.testPassword=e.testPassword.bind(Object(u.a)(Object(u.a)(e))),e.enterPassword=e.enterPassword.bind(Object(u.a)(Object(u.a)(e))),e.changePassview=e.changePassview.bind(Object(u.a)(Object(u.a)(e))),e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"testPassword",value:function(){var e=this.state.password===this.state.password2;(e=e&&this.state.password.length>6)?this.props.passReset(this.state.password):this.setState({error:!0})}},{key:"changePassview",value:function(){this.setState({passShow:!this.state.passShow})}},{key:"returnToHome",value:function(){window.location.href="http://toolboxproject.io"}},{key:"enterPassword",value:function(e){var t={};t[e.target.name]=e.target.value,this.state.error&&this.setState({error:!1}),this.setState(t)}},{key:"componentWillMount",value:function(){b.dispatch({type:"SET_PASS_RESET"})}},{key:"render",value:function(){return s.a.createElement("div",{className:"login-screen"},s.a.createElement("div",{className:"modal-container login-container"},s.a.createElement("div",{className:"modal-content login-modal"},s.a.createElement("div",{className:"title-box"},s.a.createElement("h1",null,this.props.title),s.a.createElement("div",{className:"login-description"},"A purchasing tool for machine shops")),s.a.createElement("div",{className:"create-user"},s.a.createElement("div",{className:"interactions"},s.a.createElement("div",{className:"login-title"},"Enter your new password"),s.a.createElement("br",null),s.a.createElement("span",{className:"error-message fade-in "+(this.state.error?"":"gone")},"Your password must be at least 7 characters and match both times"),s.a.createElement("input",{type:this.state.passShow?"text":"password",onChange:this.enterPassword,className:"create-name",name:"password",placeholder:"new password",autoFocus:!0}),s.a.createElement("input",{type:this.state.passShow?"text":"password",onChange:this.enterPassword,className:"create-name",name:"password2",placeholder:"re-enter your password"}),s.a.createElement("div",null,s.a.createElement("input",{type:"checkbox",onChange:this.changePassview,id:"passCheck"}),s.a.createElement("label",{htmlFor:"passCheck"},"Show password")),s.a.createElement("div",{className:"finish-buttons"},s.a.createElement("button",{className:"button login-button",onClick:this.testPassword},"Reset Password"),s.a.createElement("button",{className:"button white-button",onClick:this.returnToHome},"Cancel")))))))}}]),t}(n.Component),ue=a(34),me=a.n(ue);me.a.initializeApp({apiKey:"AIzaSyBBJsF28NkuwTww0VP9iXgGJyNsvQyTPLQ",authDomain:"machshop-2876a.firebaseapp.com",databaseURL:"https://machshop-2876a.firebaseio.com",projectId:"machshop-2876a",storageBucket:"machshop-2876a.appspot.com",messagingSenderId:"358130993280"});var pe=me.a.auth(),ge=(me.a,function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(h.a)(t).call(this))).state={user:null,email:"",password:"",validEmail:null,failed:null,createUser:!1,userInfo:[],finished:!1,resetPassword:!1,newCompanyName:null,title:"ToolBox",createUserBio:!1},e.loginAction=e.loginAction.bind(Object(u.a)(Object(u.a)(e))),e.logoutAction=e.logoutAction.bind(Object(u.a)(Object(u.a)(e))),e.update=e.update.bind(Object(u.a)(Object(u.a)(e))),e.createUser=e.createUser.bind(Object(u.a)(Object(u.a)(e))),e.createUserBioToggle=e.createUserBioToggle.bind(Object(u.a)(Object(u.a)(e))),e.createUserInfo=e.createUserInfo.bind(Object(u.a)(Object(u.a)(e))),e.addUser=e.addUser.bind(Object(u.a)(Object(u.a)(e))),e.post=e.post.bind(Object(u.a)(Object(u.a)(e))),e.addCompany=e.addCompany.bind(Object(u.a)(Object(u.a)(e))),e.resetNewToNull=e.resetNewToNull.bind(Object(u.a)(Object(u.a)(e))),e.forgotPassword=e.forgotPassword.bind(Object(u.a)(Object(u.a)(e))),e.resendPassword=e.resendPassword.bind(Object(u.a)(Object(u.a)(e))),e.passResetFn=e.passResetFn.bind(Object(u.a)(Object(u.a)(e))),e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"resetNewToNull",value:function(){this.setState({newCompanyName:null})}},{key:"post",value:function(){var e=new Request("https://toolbbe.herokuapp.com/api/users",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({name:this.state.userInfo.displayName,company_name:this.state.userInfo.companyName?this.state.userInfo.companyName:"",company_id:this.state.userInfo.companyId,email:this.state.userInfo.email})});fetch(e).then(function(e){return e.json()}).catch(function(e){console.log(e)}).then(function(e){})}},{key:"addCompany",value:function(){var e=this,t=new Request("https://toolbbe.herokuapp.com/api/companies",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({name:this.state.newCompanyName,street_address:"",city:"",state:"",country:"",email:"",phone_number:""})});fetch(t).then(function(e){return e.json()}).then(function(t){var a=e.state.userInfo;a.companyId=t._id,a.companyName=t.name,pe.createUserWithEmailAndPassword(a.email,a.password).then(function(t){var n=pe.currentUser;n.updateProfile({displayName:a.displayName}).then(function(t){n.sendEmailVerification().then(function(){e.post(),e.setState({finished:!0})}).catch(function(t){e.setState({failed:"invalid email"})})}).catch(function(t){e.setState({failed:t.code})})}).catch(function(t){e.setState({failed:t.code})})})}},{key:"forgotPassword",value:function(){this.setState({resetPassword:!this.state.resetPassword})}},{key:"createUserInfo",value:function(e){var t=this.state.userInfo;switch(e.target.name){case"name":t.displayName=e.target.value;break;case"cid":t.companyId=e.target.value;break;case"email":t.email=e.target.value;break;case"verifyEmail":t.vmail=e.target.value;break;case"pass":t.password=e.target.value;break;case"verifyPass":t.vword=e.target.value;break;case"newCompanyName":this.setState({newCompanyName:e.target.value});break;default:return}}},{key:"createUser",value:function(){this.setState({createUser:!this.state.createUser,failed:!1})}},{key:"createUserBioToggle",value:function(){this.setState({createUserBio:!this.state.createUserBio,failed:!1})}},{key:"componentWillMount",value:function(){b.dispatch({type:"SET_URL"}),sessionStorage.getItem("userId")&&(this.setState({validEmail:!0}),T())}},{key:"login",value:function(){var e=new URLSearchParams(window.location.search).get("mode");return this.state.validEmail?s.a.createElement(le,{logout:this.logoutAction,title:this.state.title}):this.state.createUser?s.a.createElement(re,{addUser:this.addUser,createUser:this.createUser,createUserInfo:this.createUserInfo,finished:this.state.finished,resetNewToNull:this.resetNewToNull,failed:this.state.failed,title:this.state.title}):this.state.createUserBio?s.a.createElement(ce,{createUser:this.createUser,createUserBioToggle:this.createUserBioToggle,title:this.state.title}):this.state.resetPassword?s.a.createElement(he,{forgotPassword:this.forgotPassword,resendPassword:this.resendPassword,failed:this.state.failed,message:this.state.message,update:this.update,title:this.state.title}):"resetPassword"===e?s.a.createElement(de,{title:this.state.title,passReset:this.passResetFn}):s.a.createElement(ie,{forgotPassword:this.forgotPassword,login:this.loginAction,update:this.update,createUserBioToggle:this.createUserBioToggle,createUser:this.createUser,failed:this.state.failed,title:this.state.title})}},{key:"update",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"loginAction",value:function(){var e=this;this.setState({failed:null}),pe.signInWithEmailAndPassword(this.state.email,this.state.password).then(function(t){fetch("https://toolbbe.herokuapp.com/api/allusers").then(function(e){return e.json()}).then(function(a){if(a.length>0){var n=a.find(function(e){return e.email.toLowerCase()===t.email.toLowerCase()});T(n),sessionStorage.setItem("userId",n._id),e.setState({validEmail:t.email,password:null})}else e.setState({failed:"login database error"})})}).catch(function(t){e.setState({failed:t.code})})}},{key:"resendPassword",value:function(){var e=this;pe.sendPasswordResetEmail(this.state.email).then(function(){}).catch(function(t){e.setState({failed:t.message})})}},{key:"passResetFn",value:function(e){var t=new URLSearchParams(window.location.search).get("oobCode");pe.verifyPasswordResetCode(t).then(function(a){pe.confirmPasswordReset(t,e).then(function(e){console.log(e),window.location.href="http://www.toolboxproject.io"}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}},{key:"addUser",value:function(){var e=this;this.setState({failed:null});var t=this.state.userInfo;t.displayName&&(t.companyId||this.state.newCompanyName)&&t.email&&t.password?this.state.newCompanyName?this.addCompany():pe.createUserWithEmailAndPassword(t.email,t.password).then(function(a){var n=pe.currentUser;n.updateProfile({displayName:t.displayName}).then(function(t){n.sendEmailVerification().then(function(){e.post(),e.setState({finished:!0})}).catch(function(t){e.setState({failed:"invalid email"})})}).catch(function(t){e.setState({failed:t.code})})}).catch(function(t){e.setState({failed:t.code})}):this.setState({failed:"required fields must be filled in"})}},{key:"logoutAction",value:function(){var e=this;pe.signOut().then(function(){sessionStorage.clear(),e.setState({validEmail:null})})}},{key:"render",value:function(){var e=this.login();return s.a.createElement("div",{className:"App",id:"App"},e)}}]),t}(n.Component)),be=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function fe(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(165);o.a.render(s.a.createElement(ge,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");be?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):fe(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):fe(e)})}}()},89:function(e,t,a){e.exports=a(168)}},[[89,2,1]]]);
//# sourceMappingURL=main.56a40e2c.chunk.js.map