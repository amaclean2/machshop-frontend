(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(57)},54:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(21),s=a.n(o),i=a(2),r=a(3),c=a(5),d=a(4),h=a(6),u=a(1),m=a(11),p=a(59),g=a(12),b=a(22),f=new(a(23).Dispatcher),v=new(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).store={form:{}},e.setMaxListeners(30),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"setUrl",value:function(){var e;e=-1!==window.location.href.indexOf("localhost")?"http://localhost:3001/api":"https://toolbbe.herokuapp.com/api",this.store=Object(g.a)({},this.store,{url:e})}},{key:"setUserInfo",value:function(e){var t=this;"object"===typeof e?(this.store=Object(g.a)({},this.store,{user:e}),this.populateOrdering(),this.populateUsers(),this.populateCompanies()):fetch("https://toolbbe.herokuapp.com/api/allusers").then(function(e){return e.json()}).then(function(e){t.store=Object(g.a)({},t.store,{user:e.find(function(e){return e._id===sessionStorage.getItem("userId")})}),t.populateOrdering(),t.populateUsers(),t.populateCompanies()})}},{key:"setPasswordReset",value:function(){this.store.limited=!0}},{key:"getPasswordReset",value:function(){return this.store.limited}},{key:"unsetPasswordReset",value:function(){this.store.limited=!1}},{key:"getUserInfo",value:function(){return this.store.user}},{key:"getReady",value:function(e){return this.store[e]}},{key:"getCompanyId",value:function(){return this.store.user.company_id}},{key:"checkFullUpdated",value:function(){this.fullUpdated.push(!0),this.fullUpdated.length>3&&(this.emit("allUpdated"),this.fullUpdated=[])}},{key:"populateOrdering",value:function(){var e=this,t=this.getCompanyId();this.store=Object(g.a)({},this.store,{ordering:this.store.ordering?this.store.ordering:[]}),this.store.t=!1,this.fullUpdated=[],fetch(this.store.url+"/shopping/mill?company_id="+t).then(function(e){return e.json()}).then(function(t){e.store.ordering=Object(g.a)({},e.store.ordering,{mill:t}),e.emit("millUpdated"),e.checkFullUpdated()}),fetch(this.store.url+"/shopping/lathe?company_id="+t).then(function(e){return e.json()}).then(function(t){e.store.ordering=Object(g.a)({},e.store.ordering,{lathe:t}),e.checkFullUpdated()}),fetch(this.store.url+"/shopping/other?company_id="+t).then(function(e){return e.json()}).then(function(t){e.store.ordering=Object(g.a)({},e.store.ordering,{other:t}),e.checkFullUpdated()}),fetch(this.store.url+"/setup?company_id="+t).then(function(e){return e.json()}).then(function(t){e.store=Object(g.a)({},e.store,{setupSheets:t}),e.store.t=!0,e.checkFullUpdated()})}},{key:"populateUsers",value:function(){var e=this,t=this.getCompanyId(),a=this.store.url.replace("http://localhost:3001","https://toolbbe.herokuapp.com");a=a+"/users?company_id="+t,this.store.u=!1,fetch(a).then(function(e){return e.json()}).then(function(t){e.store=Object(g.a)({},e.store,{users:t}),e.store.u=!0,e.emit("change")})}},{key:"populateCompanies",value:function(){var e=this,t=this.getCompanyId(),a=this.store.url.replace("http://localhost:3001","https://toolbbe.herokuapp.com");a=a+"/companies/"+t,this.store.c=!1,fetch(a).then(function(e){return e.json()}).then(function(t){Array.isArray(t)||(t=[t]),e.store=Object(g.a)({},e.store,{companies:t}),e.store.c=!0,e.emit("updatedCompanies")})}},{key:"getForm",value:function(e,t,a){var n=JSON.parse(JSON.stringify(this.store[e])),l=(n=a?n[a]:n).find(function(e){return e._id===t});if(a||"setupSheets"===e){for(var o in l.tool_data)l[o]=l.tool_data[o];for(var o in l.setup_data)l[o]=l.setup_data[o];delete l.tool_data,delete l.setup_data}return this.store.form=l,l}},{key:"viewForm",value:function(){return this.store.form}},{key:"getFormValue",value:function(e,t){return t?this.store.form[t.subClass]?(this.store.form[t.subClass].length===t.index&&this.store.form[t.subClass].push({}),this.store.form[t.subClass][t.index][e]):"":this.store.form[e]}},{key:"updateFormItem",value:function(e,t){for(var a in e)t&&t.subClass?(this.store.form[t.subClass]||(this.store.form[t.subClass]=[{}]),this.store.form[t.subClass][t.index][a]=e[a]):this.store.form[a]=e[a];this.emit("changeForm")}},{key:"resetForm",value:function(){this.store.form={}}},{key:"getOrdering",value:function(e){if(!this.store.ordering)return[];var t=JSON.parse(JSON.stringify(this.store.ordering))[e];return(t=t.filter(function(e){return e.tool_data&&!0===e.tool_data.shopping})).forEach(function(e){for(var t in e.tool_data)e[t]=e.tool_data[t];delete e.tool_data}),t}},{key:"getSetupSheets",value:function(){if(!this.store.setupSheets)return[];var e=JSON.parse(JSON.stringify(this.store.setupSheets));return e.forEach(function(e){for(var t in e.setup_data)e[t]=e.setup_data[t];delete e.setup_data}),e}},{key:"getAllToolsInCat",value:function(e){if(!this.store.ordering)return[];var t=JSON.parse(JSON.stringify(this.store.ordering));return t=t[e]}},{key:"getUsers",value:function(){return this.store.users}},{key:"getCompanies",value:function(){return this.store.companies}},{key:"getPurchased",value:function(e){if(!this.store.ordering)return[];var t=JSON.parse(JSON.stringify(this.store.ordering))[e];return(t=t.filter(function(e){return e.tool_data&&!e.tool_data.shopping&&e.tool_data.purchased})).forEach(function(e){for(var t in e.tool_data)e[t]=e.tool_data[t];delete e.tool_data}),t}},{key:"getShipped",value:function(e){if(!this.store.ordering)return[];var t=JSON.parse(JSON.stringify(this.store.ordering))[e];return(t=t.filter(function(e){return e.tool_data&&!e.tool_data.shopping&&!e.tool_data.purchased})).forEach(function(e){for(var t in e.tool_data)e[t]=e.tool_data[t];delete e.tool_data}),t}},{key:"sendOrder",value:function(e,t){var a=this;e.company_id=this.getCompanyId(),e.created_at=(new Date).getTime(),fetch(this.store.url+"/shopping/"+t,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){a.populateOrdering()})}},{key:"addSetup",value:function(e,t){var a=this;e.company_id=this.getCompanyId(),e.created_at=(new Date).getTime(),fetch(this.store.url+t,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){a.populateOrdering()})}},{key:"editSetup",value:function(e,t){var a=this;e.company_id=e.setup_data.company_id,delete e.setup_data.company_id,e._id=e.setup_data._id,delete e.setup_data._id,e.updated_at=(new Date).getTime(),delete e.setup_data.updated_at,e.user=e.setup_data.user,delete e.setup_data.user,e.created_at=e.setup_data.created_at,delete e.setup_data.created_at,fetch(this.store.url+t+"/"+e._id,{method:"PUT",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){a.populateOrdering()})}},{key:"editOrder",value:function(e,t){var a=this;e.company_id=e.tool_data.company_id,delete e.tool_data.company_id,e._id=e.tool_data._id,delete e.tool_data._id,e.updated_at=(new Date).getTime(),delete e.tool_data.updated_at,e.user=e.tool_data.user,delete e.tool_data.user,e.created_at=e.tool_data.created_at,delete e.tool_data.created_at;var n=this.store.url+"/shopping/"+t+"/"+e._id,l=new Request(n,{method:"PUT",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});fetch(l).then(function(e){return e.json()}).then(function(e){a.populateOrdering()})}},{key:"putUser",value:function(e){var t=this,a=this.store.url+"/users/"+e._id;a=a.replace("http://localhost:3001","https://toolbbe.herokuapp.com");var n=new Request(a,{method:"PUT",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});fetch(n).then(function(e){return e.json()}).then(function(e){t.populateUsers()})}},{key:"postUser",value:function(e){var t=this,a=this.store.url+"/users";a=a.replace("http://localhost:3001","https://toolbbe.herokuapp.com");var n=new Request(a,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});fetch(n).then(function(e){return e.json()}).then(function(e){t.populateUsers()})}},{key:"putCompany",value:function(e){var t=this,a=this.store.url+"/companies/"+e._id;a=a.replace("http://localhost:3001","https://toolbbe.herokuapp.com");var n=new Request(a,{method:"PUT",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});fetch(n).then(function(e){return e.json()}).then(function(e){t.populateCompanies()})}},{key:"postCompany",value:function(e){var t=this,a=this.store.url+"/companies";a=a.replace("http://localhost:3001","https://toolbbe.herokuapp.com");var n=new Request(a,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});fetch(n).then(function(e){return e.json()}).then(function(e){t.populateCompanies()})}},{key:"deleteOrder",value:function(e,t){var a=this;fetch(this.store.url+"/shopping/"+t+"/"+e,{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){a.populateOrdering()})}},{key:"handleActions",value:function(e){switch(e.type){case"SET_INFO":this.setUserInfo(e.position);break;case"SET_PASS_RESET":this.setPasswordReset();break;case"SET_URL":this.setUrl();break;case"NEW_ORDER":this.sendOrder(e.body,e.category);break;case"NEW_SETUP":this.addSetup(e.body,e.url);break;case"EDIT_SETUP":this.editSetup(e.body,e.url);break;case"EDIT_ORDER":this.editOrder(e.body,e.category);break;case"DELETE_ORDER":this.deleteOrder(e.id,e.category);break;case"UPDATE_FORM":this.updateFormItem(e.property,e.additionalData);break;case"RESET_FORM":this.resetForm();break;case"EDIT_USER":this.putUser(e.body);break;case"CREATE_USER":this.postUser(e.body);break;case"EDIT_COMPANY":this.putCompany(e.body);break;case"CREATE_COMPANY":this.postCompany(e.body)}}}]),t}(b.EventEmitter));f.register(v.handleActions.bind(v)),window.fluxStore=v,window.dispatcher=f;var E=v,y=a(60),_=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"contentList",value:function(){var e=this;return this.props.tabs.map(function(t,a){return l.a.createElement("li",{key:a},l.a.createElement(y.a,{to:"/"+t.value,onClick:e.props.toggleHideSideNav},t.name))})}},{key:"render",value:function(){var e=this.contentList();return l.a.createElement("div",null,l.a.createElement("div",{className:"sidenav-background "+(this.props.gone?"gone ":"")+(this.props.hidden?"fade-out ":"fade-in "),onClick:this.props.toggleHideSideNav}),l.a.createElement("div",{className:"sidenav-view "+(this.props.hidden?"hide ":"")},l.a.createElement("div",{className:"sidenav-header"},l.a.createElement("button",{className:"button white-button",onClick:this.props.logout},"Logout")),l.a.createElement("div",{className:"sidenav-content"},l.a.createElement("ul",null,e))))}}]),t}(n.Component),k=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={hidden:!0,gone:!0,data:[{value:"default",children:"Select User"},{value:"andrew_maclean",children:"Andrew Maclean"}],title:""},e.toggleHideSideNav=e.toggleHideSideNav.bind(Object(u.a)(Object(u.a)(e))),e.selectOutput=e.selectOutput.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"selectOutput",value:function(e,t){return[e,t]}},{key:"toggleHideSideNav",value:function(){var e=this;this.setState({hidden:!this.state.hidden}),setTimeout(function(){e.setState({gone:e.state.hidden})},300)}},{key:"componentWillMount",value:function(){var e=this;E.on("millUpdated",function(){var t=E.getUserInfo();e.setState({title:t.company_name})})}},{key:"showFullHeader",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"header-wrapper"},l.a.createElement("h2",null,this.props.title),l.a.createElement("div",{className:"flex-spacer"}),l.a.createElement(y.a,{className:"company-title",to:"/companies"},this.state.title),l.a.createElement("div",{className:"right-content"},l.a.createElement("i",{className:"fa fa-bars hoverable","aria-hidden":"true",onClick:this.toggleHideSideNav}))),l.a.createElement(_,{hidden:this.state.hidden,gone:this.state.gone,toggleHideSideNav:this.toggleHideSideNav,tabs:this.props.tabs,logout:this.props.logout}))}},{key:"render",value:function(){var e=this.showFullHeader();return l.a.createElement("div",null,e)}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={queryText:"",data:e.data,headers:a.props.headers.columns,filterDirection:"forewards"},a.columnNames=a.columnNames.bind(Object(u.a)(Object(u.a)(a))),a.rows=a.rows.bind(Object(u.a)(Object(u.a)(a))),a.updateQuery=a.updateQuery.bind(Object(u.a)(Object(u.a)(a))),a.filterByColumn=a.filterByColumn.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"filterByColumn",value:function(e){var t=this,a=this.state.data;a=a.sort(function(a,n){return"forewards"===t.state.filterDirection?(t.setState({filterDirection:"reverse"}),a[e]<n[e]?-1:a[e]>n[e]?1:0):(t.setState({filterDirection:"forewards"}),n[e]<a[e]?-1:n[e]>a[e]?1:0)}),this.setState({data:a})}},{key:"rows",value:function(){var e=this,t=this.state.data.map(function(t,a){var n=[],o=t,s=e.state.headers.map(function(e){return e.dataPoint});if(e.state.headers.forEach(function(e){e.searchable&&(n+=t[e.dataPoint]?String(t[e.dataPoint]).toLowerCase()+" ":"")}),-1!==n.indexOf(e.state.queryText)){var i=s.map(function(a,n){var s=o[a];if("object"===typeof s&&(s=s[1]),e.state.headers[n].link)return l.a.createElement("td",{key:n,"data-label":e.state.headers[n].title},l.a.createElement("a",{href:"#",className:"large-table-link",onClick:function(){e.props.toggleModal(t._id)}},s),l.a.createElement("span",{className:"small-table-link"},s));var i=e.state.headers[n].formatted?e.state.headers[n].formatted(s):s;return l.a.createElement("td",{key:n,"data-label":e.state.headers[n].title},i)});return l.a.createElement("tr",{key:10*a},i,l.a.createElement("td",{className:"small-row-link",onClick:function(){e.props.toggleModal(t._id)}}))}return null});return t}},{key:"updateQuery",value:function(e){this.setState({queryText:e.target.value.toLowerCase()})}},{key:"columnNames",value:function(){var e=this;return this.state.headers.map(function(t,a){return t.sortable?l.a.createElement("th",{className:"clickable-headers",onClick:function(){return e.filterByColumn(t.dataPoint)},key:a},t.title," "):l.a.createElement("th",{key:a},t.title)})}},{key:"render",value:function(){var e=this,t=this.columnNames(),a=this.rows();return l.a.createElement("div",{id:"Main/Table"},l.a.createElement("div",{className:"table-top"},l.a.createElement("div",{className:this.props.noAdd?"gone":""},l.a.createElement("button",{onClick:function(){e.props.toggleModal("0")},className:"button table-button"},this.props.addText?this.props.addText:"add")),l.a.createElement("div",{className:"search-bar "+(this.props.noSearch?"gone":"")},l.a.createElement("input",{type:"text",placeholder:"Search",onChange:this.updateQuery}))),l.a.createElement("table",{className:"important-table"},l.a.createElement("thead",null,l.a.createElement("tr",null,t)),l.a.createElement("tbody",null,a)))}}]),t}(n.Component),w={Parts:[["Part Number","part_number","e"],["Revision","part_revision"],["Part Name","part_name"],["Customer","customer"]],Users:{columns:[{title:"Name",dataPoint:"name",link:!0,sortable:!0,searchable:!0},{title:"Company Name",dataPoint:"company_name",link:!1,sortable:!0,searchable:!0},{title:"Position",dataPoint:"user_position",link:!1,sortable:!0,searchable:!1},{title:"Email",dataPoint:"email",link:!1,sortable:!0,searchable:!0}]},SetupSheets:{columns:[{title:"Part Number",dataPoint:"part_number",link:!0,sortable:!0,searchable:!0},{title:"Part Name",dataPoint:"part_name",link:!1,sortable:!0,searchable:!0},{title:"Job Number",dataPoint:"job_number",link:!1,sortable:!0,searchable:!0},{title:"Revision",dataPoint:"revision",link:!1,sortable:!0,searchable:!0},{title:"Customer",dataPoint:"customer",link:!1,sortable:!0,searchable:!0}]},Companies:{columns:[{title:"Name",dataPoint:"name",link:!0,sortable:!1,searchable:!0},{title:"Id",dataPoint:"_id",link:!1,sortable:!1,searchable:!0},{title:"Location",dataPoint:"street_address",link:!1,sortable:!1,searchable:!0}]},UsersWidget:[["Name","name","e"],["Hours","hours"]],MiniJobs:[["Job Number","job_number","e"],["Start Date","date_to_start"]],Jobs:[["Job Number","job_number","e"],["Part Number","part_number"],["Description","description"],["Date to Start","date_to_start"],["Date Started","date_started"]],JobsWidget:[["Job Number","job_number","e"],["Part Number","part_number"],["Due Date","date_to_start"]],MillTools:{columns:[{title:"Type",dataPoint:"tool_type",link:!0,sortable:!0,searchable:!0},{title:"Diameter",dataPoint:"diameter",sortable:!0,link:!1,searchable:!0},{title:"Material",dataPoint:"material",sortable:!0,link:!1,searchable:!0},{title:"EDP Number",dataPoint:"edp",sortable:!0,link:!1,searchable:!0},{title:"Location",dataPoint:"location",sortable:!0,link:!1,searchable:!0},{title:"Quantity",dataPoint:"count",sortable:!0,searchable:!0,link:!1},{title:"Added",dataPoint:"created_at",sortable:!0,link:!1,formatted:function(e){if(e){var t=new Date(e),a=t.getFullYear();return t.getMonth()+1+"-"+t.getDate()+"-"+a}return"-"}}]},LatheTools:{columns:[{title:"Type",dataPoint:"tool_type",link:!0,sortable:!0,searchable:!0},{title:"Description",dataPoint:"description",sortable:!0,link:!1,searchable:!0},{title:"Material",dataPoint:"material",sortable:!0,link:!1,searchable:!0},{title:"Location",dataPoint:"location",sortable:!0,link:!1},{title:"Quantity",dataPoint:"count",sortable:!0,link:!1,searchable:!0},{title:"Added",dataPoint:"created_at",sortable:!0,link:!1,formatted:function(e){if(e){var t=new Date(e),a=t.getFullYear();return t.getMonth()+1+"-"+t.getDate()+"-"+a}return"-"}}]},OtherTools:{columns:[{title:"Name",dataPoint:"name",link:!0,sortable:!0,searchable:!0},{title:"Description",dataPoint:"description",sortable:!0,link:!1,searchable:!0},{title:"Location",dataPoint:"location",sortable:!0,link:!1,searchable:!0},{title:"Quantity",dataPoint:"count",sortable:!0,link:!1,searchable:!0},{title:"Added",dataPoint:"created_at",sortable:!0,link:!1,formatted:function(e){if(e){var t=new Date(e),a=t.getFullYear();return t.getMonth()+1+"-"+t.getDate()+"-"+a}return"-"}}]},OrderMill:{columns:[{title:"Type",dataPoint:"tool_type",link:!0,sortable:!0,searchable:!0},{title:"Diameter",dataPoint:"diameter",sortable:!0,link:!1,searchable:!0},{title:"Material",dataPoint:"material",sortable:!0,link:!1,searchable:!0},{title:"EDP Number",dataPoint:"edp",sortable:!0,link:!1,searchable:!0},{title:"Price per Tool",dataPoint:"price",sortable:!0,link:!1,searchable:!0,formatted:function(e){return"$ "+(e=e||"-")}},{title:"Quantity",dataPoint:"count",sortable:!0,link:!1,searchable:!0},{title:"Added",dataPoint:"created_at",sortable:!0,link:!1,formatted:function(e){if(e){var t=new Date(e),a=t.getFullYear();return t.getMonth()+1+"-"+t.getDate()+"-"+a}return"-"}}]},OrderLathe:{columns:[{title:"Type",dataPoint:"tool_type",link:!0,sortable:!0,searchable:!0},{title:"Description",dataPoint:"description",link:!1,sortable:!0,searchable:!0},{title:"Material",dataPoint:"material",link:!1,sortable:!0,searchable:!0},{title:"Price per Tool",dataPoint:"price",link:!1,sortable:!0,searchable:!0,formatted:function(e){return"$ "+(e=e||"-")}},{title:"Quantity",dataPoint:"count",link:!1,sortable:!0,searchable:!0},{title:"Added",dataPoint:"created_at",sortable:!0,link:!1,formatted:function(e){if(e){var t=new Date(e),a=t.getFullYear();return t.getMonth()+1+"-"+t.getDate()+"-"+a}return"-"}}]},OrderOther:{columns:[{title:"Name",dataPoint:"name",link:!0,sortable:!0,searchable:!0},{title:"Description",dataPoint:"description",link:!1,sortable:!0,searchable:!0},{title:"Price per Part",dataPoint:"price",link:!1,sortable:!0,searchable:!0,formatted:function(e){return"$ "+(e=e||"-")}},{title:"Quantity",dataPoint:"count",link:!1,sortable:!0,searchable:!0},{title:"Added",dataPoint:"created_at",sortable:!0,link:!1,formatted:function(e){if(e){var t=new Date(e),a=t.getFullYear();return t.getMonth()+1+"-"+t.getDate()+"-"+a}return"-"}}]}},j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={data:e.data},a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"render",value:function(){return l.a.createElement("div",{className:"order-mill",id:"Pages/Ordering/OrderMill"},l.a.createElement(O,{addText:"stock"===this.props.source?"add a new tool":"request a new tool",noAdd:this.props.noAdd,data:this.state.data,headers:"stock"===this.props.source?w.MillTools:w.OrderMill,toggleModal:this.props.toggleModal}))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={data:e.data},a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"render",value:function(){return l.a.createElement("div",{className:"order-lathe",id:"Pages/Ordering/OrderLathe"},l.a.createElement(O,{addText:"stock"===this.props.source?"add a new tool":"request a new tool",noAdd:this.props.noAdd,data:this.state.data,headers:"stock"===this.props.source?w.LatheTools:w.OrderLathe,toggleModal:this.props.toggleModal}))}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={data:e.data},a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"render",value:function(){return l.a.createElement("div",{className:"other-tools",id:"Pages/Ordering/OrderOther"},l.a.createElement(O,{addText:"stock"===this.props.source?"add a new tool":"request a new tool",noAdd:this.props.noAdd,data:this.state.data,headers:"stock"===this.props.source?w.OtherTools:w.OrderOther,toggleModal:this.props.toggleModal}))}}]),t}(n.Component),M=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=E.getFormValue(this.props.value,this.props.additionalData);return e="string"===typeof e||void 0===e?e:e[1],l.a.createElement("span",{className:"line-item description "+this.props.classes},l.a.createElement("span",{className:"display "+(this.props.disabled?"disabled":"")},this.props.header),l.a.createElement("div",null,l.a.createElement("span",{className:this.props.classes&&-1!==this.props.classes.indexOf("price")?"":"gone"},"$"),l.a.createElement("span",{className:"value"},e),l.a.createElement("span",{className:"input-hard-text "+(this.props.value&&this.props.units?"units-space":"gone")},this.props.units)))}}]),t}(n.Component),S=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={shown:!1,data:[],chosen:{},classes:""},e.makeSelect=e.makeSelect.bind(Object(u.a)(Object(u.a)(e))),e.toggleShown=e.toggleShown.bind(Object(u.a)(Object(u.a)(e))),e.selectItem=e.selectItem.bind(Object(u.a)(Object(u.a)(e))),e.getClasses=e.getClasses.bind(Object(u.a)(Object(u.a)(e))),e.arrows=e.arrows.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"getClasses",value:function(){if(this.props.classes){var e=this.state.classes;e+=this.props.classes+" ",this.setState({classes:e})}}},{key:"makeSelect",value:function(e){var t;if(e.data&&(t=e.data),t.forEach(function(e){e.selected=!1}),t.length)if(e.value){var a=t.find(function(t){return t.value===e.value[0]});a?a.selected=!0:t[0].selected=!0}else t[0].selected=!0;this.setState({data:t,chosen:e.value?{value:e.value[0],children:e.value[1]}:t[0]})}},{key:"componentDidMount",value:function(){this.getClasses(),this.makeSelect(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.makeSelect(e)}},{key:"selectItem",value:function(e){this.props.output({target:{value:e.value,children:e.children,name:this.props.name}}),this.setState({chosen:e}),this.toggleShown()}},{key:"arrows",value:function(e){e.preventDefault();var t,a=this.state.data;if(38===e.which){for(t=0;t<a.length;t++)a[t].selected&&(a[t].selected=!1,a[t-1].selected=!0,t=a.length);this.setState({data:a})}else if(40===e.which){for(t=0;t<a.length;t++)a[t].selected&&(a[t].selected=!1,a[t+1].selected=!0,t=a.length);this.setState({data:a})}else if(13===e.which){var n=this.state.data.find(function(e){return!0===e.selected});this.selectItem(n)}}},{key:"showList",value:function(){var e=this;return this.state.data.map(function(t,a){var n=t.selected;return l.a.createElement("li",{autoFocus:!!n,className:n?"selected":"",key:a,tabIndex:"-1",onClick:function(){e.selectItem(t)},onKeyDown:e.arrows,value:t.value},t.children)})}},{key:"toggleShown",value:function(e){this.setState({shown:!this.state.shown})}},{key:"render",value:function(){var e=this.showList();return l.a.createElement("div",{className:"ms-select "+this.state.classes,id:"Select"},l.a.createElement("div",{className:"screen-cover "+(this.state.shown?"":"gone"),onClick:this.toggleShown}),l.a.createElement("div",{tabIndex:"0",className:"shown-box",onFocus:this.toggleShown,onKeyDown:this.arrows},l.a.createElement("span",{className:"view"},this.state.chosen.children),l.a.createElement("i",{className:"fa fa-caret-up select-icon "+(this.state.shown?"spun-back":"spun down"),"aria-hidden":"true"})),l.a.createElement("ul",{className:"drop-list "+(this.state.shown?"":"gone")},e))}}]),t}(n.Component),T=[{size:"107",diameter:"0.0019",flute_length:"",oal_length:""},{size:"106",diameter:"0.0023",flute_length:"",oal_length:""},{size:"105",diameter:"0.0027",flute_length:"",oal_length:""},{size:"104",diameter:"0.0031",flute_length:"",oal_length:""},{size:"103",diameter:"0.0035",flute_length:"",oal_length:""},{size:"102",diameter:"0.0039",flute_length:"",oal_length:""},{size:"101",diameter:"0.0043",flute_length:"",oal_length:""},{size:"100",diameter:"0.0047",flute_length:"",oal_length:""},{size:"99",diameter:"0.0051",flute_length:"",oal_length:""},{size:"98",diameter:"0.0055",flute_length:"",oal_length:""},{size:"97",diameter:"0.0059",flute_length:"",oal_length:""},{size:"96",diameter:"0.0063",flute_length:"",oal_length:""},{size:"95",diameter:"0.0067",flute_length:"",oal_length:""},{size:"94",diameter:"0.0071",flute_length:"",oal_length:""},{size:"93",diameter:"0.0075",flute_length:"",oal_length:""},{size:"92",diameter:"0.0079",flute_length:"",oal_length:""},{size:"91",diameter:"0.0083",flute_length:"",oal_length:""},{size:"90",diameter:"0.0087",flute_length:"",oal_length:""},{size:"89",diameter:"0.0091",flute_length:"",oal_length:""},{size:"88",diameter:"0.0095",flute_length:"",oal_length:""},{size:"87",diameter:"0.01",flute_length:"",oal_length:""},{size:"86",diameter:"0.0105",flute_length:"",oal_length:""},{size:"85",diameter:"0.011",flute_length:"",oal_length:""},{size:"84",diameter:"0.0115",flute_length:"",oal_length:""},{size:"83",diameter:"0.012",flute_length:"",oal_length:""},{size:"82",diameter:"0.0125",flute_length:"",oal_length:""},{size:"81",diameter:"0.013",flute_length:"",oal_length:""},{size:"1/64",diameter:".0156",flute_length:"0.1875",oal_length:"0.75"},{size:"80",diameter:"0.0135",flute_length:"0.125",oal_length:"0.75"},{size:"79",diameter:"0.0145",flute_length:"0.125",oal_length:"0.75"},{size:"78",diameter:"0.016",flute_length:"0.1875",oal_length:"0.875"},{size:"77",diameter:"0.018",flute_length:"0.1875",oal_length:"0.875"},{size:"76",diameter:"0.020",flute_length:"0.1875",oal_length:"0.875"},{size:"75",diameter:"0.021",flute_length:"0.25",oal_length:"1.0"},{size:"74",diameter:"0.0225",flute_length:"0.25",oal_length:"1.0"},{size:"73",diameter:"0.024",flute_length:"0.3125",oal_length:"1.125"},{size:"72",diameter:"0.025",flute_length:"0.3125",oal_length:"1.125"},{size:"71",diameter:"0.026",flute_length:"0.375",oal_length:"1.25"},{size:"70",diameter:"0.028",flute_length:"0.375",oal_length:"1.25"},{size:"69",diameter:"0.0292",flute_length:"0.5",oal_length:"1.375"},{size:"68",diameter:"0.031",flute_length:"0.5",oal_length:"1.375"},{size:"67",diameter:"0.032",flute_length:"0.5",oal_length:"1.375"},{size:"66",diameter:"0.033",flute_length:"0.5",oal_length:"1.375"},{size:"65",diameter:"0.035",flute_length:"0.625",oal_length:"1.5"},{size:"64",diameter:"0.036",flute_length:"0.625",oal_length:"1.5"},{size:"63",diameter:"0.037",flute_length:"0.625",oal_length:"1.5"},{size:"62",diameter:"0.038",flute_length:"0.625",oal_length:"1.5"},{size:"61",diameter:"0.039",flute_length:"0.6875",oal_length:"1.625"},{size:"60",diameter:"0.04",flute_length:"0.6875",oal_length:"1.625"},{size:"59",diameter:"0.041",flute_length:"0.6875",oal_length:"1.625"},{size:"58",diameter:"0.042",flute_length:"0.6875",oal_length:"1.625"},{size:"57",diameter:"0.043",flute_length:"0.75",oal_length:"1.75"},{size:"56",diameter:"0.0465",flute_length:"0.75",oal_length:"1.75"},{size:"55",diameter:"0.052",flute_length:"0.875",oal_length:"1.875"},{size:"54",diameter:"0.055",flute_length:"0.875",oal_length:"1.875"},{size:"53",diameter:"0.0595",flute_length:"0.875",oal_length:"1.875"},{size:"52",diameter:"0.0635",flute_length:"0.875",oal_length:"1.875"},{size:"51",diameter:"0.067",flute_length:"1.0",oal_length:"2.0"},{size:"50",diameter:"0.07",flute_length:"1.0",oal_length:"2.0"},{size:"49",diameter:"0.073",flute_length:"1.0",oal_length:"2.0"},{size:"48",diameter:"0.076",flute_length:"1.0",oal_length:"2.0"},{size:"47",diameter:"0.0785",flute_length:"1.0",oal_length:"2.0"},{size:"46",diameter:"0.081",flute_length:"1.125",oal_length:"2.125"},{size:"45",diameter:"0.082",flute_length:"1.125",oal_length:"2.125"},{size:"44",diameter:"0.086",flute_length:"1.125",oal_length:"2.125"},{size:"43",diameter:"0.089",flute_length:"1.25",oal_length:"2.25"},{size:"42",diameter:"0.0935",flute_length:"1.25",oal_length:"2.25"},{size:"41",diameter:"0.096",flute_length:"1.375",oal_length:"1.375"},{size:"40",diameter:"0.098",flute_length:"1.375",oal_length:"1.375"},{size:"39",diameter:"0.0995",flute_length:"1.375",oal_length:"1.375"},{size:"38",diameter:"0.1015",flute_length:"1.4375",oal_length:"2.5"},{size:"37",diameter:"0.104",flute_length:"1.4375",oal_length:"2.5"},{size:"36",diameter:"0.1065",flute_length:"1.4375",oal_length:"2.5"},{size:"35",diameter:"0.11",flute_length:"1.5",oal_length:"2.625"},{size:"34",diameter:"0.111",flute_length:"1.5",oal_length:"2.625"},{size:"33",diameter:"0.113",flute_length:"1.5",oal_length:"2.625"},{size:"32",diameter:"0.116",flute_length:"1.625",oal_length:"2.75"},{size:"31",diameter:"0.12",flute_length:"1.625",oal_length:"2.75"},{size:"30",diameter:"0.1285",flute_length:"1.625",oal_length:"2.75"},{size:"29",diameter:"0.136",flute_length:"1.75",oal_length:"2.875"},{size:"28",diameter:"0.1405",flute_length:"1.75",oal_length:"2.875"},{size:"27",diameter:"0.144",flute_length:"1.875",oal_length:"3.0"},{size:"26",diameter:"0.147",flute_length:"1.875",oal_length:"3.0"},{size:"25",diameter:"0.1495",flute_length:"1.875",oal_length:"3.0"},{size:"24",diameter:"0.152",flute_length:"2.0",oal_length:"3.125"},{size:"23",diameter:"0.154",flute_length:"2.0",oal_length:"3.125"},{size:"22",diameter:"0.157",flute_length:"2.0",oal_length:"3.125"},{size:"21",diameter:"0.159",flute_length:"2.125",oal_length:"3.25"},{size:"20",diameter:"0.161",flute_length:"2.125",oal_length:"3.25"},{size:"19",diameter:"0.166",flute_length:"2.125",oal_length:"3.25"},{size:"18",diameter:"0.1695",flute_length:"2.125",oal_length:"3.25"},{size:"17",diameter:"0.173",flute_length:"2.1875",oal_length:"3.375"},{size:"16",diameter:"0.177",flute_length:"2.1875",oal_length:"3.375"},{size:"15",diameter:"0.18",flute_length:"2.1875",oal_length:"3.375"},{size:"14",diameter:"0.182",flute_length:"2.1875",oal_length:"3.375"},{size:"13",diameter:"0.185",flute_length:"2.3125",oal_length:"3.5"},{size:"12",diameter:"0.189",flute_length:"2.3125",oal_length:"3.5"},{size:"11",diameter:"0.191",flute_length:"2.3125",oal_length:"3.5"},{size:"10",diameter:"0.1935",flute_length:"2.4375",oal_length:"3.625"},{size:"9",diameter:"0.196",flute_length:"2.4375",oal_length:"3.625"},{size:"8",diameter:"0.199",flute_length:"2.4375",oal_length:"3.625"},{size:"7",diameter:"0.201",flute_length:"2.4375",oal_length:"3.625"},{size:"6",diameter:"0.204",flute_length:"2.5",oal_length:"3.75"},{size:"5",diameter:"0.2055",flute_length:"2.5",oal_length:"3.75"},{size:"4",diameter:"0.209",flute_length:"2.5",oal_length:"3.75"},{size:"3",diameter:"0.213",flute_length:"2.5",oal_length:"3.75"},{size:"2",diameter:"0.221",flute_length:"2.625",oal_length:"3.875"},{size:"1",diameter:"0.228",flute_length:"2.625",oal_length:"3.875"},{size:"A",diameter:"0.234",flute_length:"2.625",oal_length:"3.875"},{size:"B",diameter:"0.238",flute_length:"2.75",oal_length:"4.0"},{size:"C",diameter:"0.242",flute_length:"2.75",oal_length:"4.0"},{size:"D",diameter:"0.246",flute_length:"2.75",oal_length:"4.0"},{size:"E",diameter:"0.25",flute_length:"2.875",oal_length:"4.125"},{size:"F",diameter:"0.257",flute_length:"2.875",oal_length:"4.125"},{size:"G",diameter:"0.261",flute_length:"2.875",oal_length:"4.125"},{size:"H",diameter:"0.266",flute_length:"2.875",oal_length:"4.125"},{size:"I",diameter:"0.272",flute_length:"2.875",oal_length:"4.125"},{size:"J",diameter:"0.277",flute_length:"2.875",oal_length:"4.125"},{size:"K",diameter:"0.281",flute_length:"2.9375",oal_length:"4.25"},{size:"L",diameter:"0.29",flute_length:"2.9375",oal_length:"4.25"},{size:"M",diameter:"0.295",flute_length:"3.0625",oal_length:"4.375"},{size:"N",diameter:"0.302",flute_length:"3.0625",oal_length:"4.375"},{size:"O",diameter:"0.316",flute_length:"3.1875",oal_length:"4.5"},{size:"P",diameter:"0.323",flute_length:"3.3125",oal_length:"4.625"},{size:"Q",diameter:"0.332",flute_length:"3.4375",oal_length:"4.75"},{size:"R",diameter:"0.339",flute_length:"3.4375",oal_length:"4.75"},{size:"S",diameter:"0.348",flute_length:"3.5",oal_length:"4.875"},{size:"T",diameter:"0.358",flute_length:"3.5",oal_length:"4.875"},{size:"U",diameter:"0.368",flute_length:"3.625",oal_length:"4.0"},{size:"V",diameter:"0.377",flute_length:"3.625",oal_length:"4.0"},{size:"W",diameter:"0.386",flute_length:"3.75",oal_length:"5.125"},{size:"X",diameter:"0.397",flute_length:"3.75",oal_length:"5.125"},{size:"Y",diameter:"0.404",flute_length:"3.875",oal_length:"5.25"},{size:"Z",diameter:"0.413",flute_length:"3.875",oal_length:"5.25"}],P=[{size:"8",diameter:"0.75",flute_length:"0.3125",oal_length:"3.500"},{size:"7",diameter:"0.625",flute_length:"0.250",oal_length:"3.250"},{size:"6",diameter:"0.500",flute_length:"0.219",oal_length:"3.000"},{size:"5",diameter:"0.438",flute_length:"0.188",oal_length:"2.750"},{size:"4",diameter:"0.313",flute_length:"0.125",oal_length:"2.125"},{size:"3",diameter:"0.250",flute_length:"0.109",oal_length:"2.000"},{size:"2",diameter:"0.188",flute_length:"0.078",oal_length:"1.875"},{size:"1",diameter:"0.125",flute_length:"0.047",oal_length:"1.125"},{size:"0",diameter:"0.125",flute_length:"0.038",oal_length:"1.125"},{size:"00",diameter:"0.125",flute_length:"0.030",oal_length:"1.125"}];function I(e){f.dispatch({type:"SET_INFO",position:e})}function D(e,t){f.dispatch({type:"NEW_ORDER",body:e,category:t})}function L(e,t){f.dispatch({type:"EDIT_ORDER",body:e,category:t})}function z(e,t){f.dispatch({type:"DELETE_ORDER",id:e,category:t})}function F(e,t){f.dispatch({type:"UPDATE_FORM",property:e,additionalData:t})}function A(){f.dispatch({type:"RESET_FORM"})}var U={number:{format:function(e,t){var a=e.target.value;(a=a.replace(/[^0-9.]/g,"")).split(".").length>2&&(a=a.substr(0,a.length-1)),e.target.value=a,x(e,t)}},math:{format:function(e,t){var a=e.target.value,n=(a=(a=a.toString()).replace(/[^0-9\/*+\-.^]/g,"")).split("+"),l="";n.forEach(function(e,t){e.split("-").forEach(function(t,a){t.split("*").forEach(function(e,a){e.split("/").forEach(function(t,a){t=Number(t),0===a?e=t:e/=t}),e=Number(e),0===a?t=e:t*=e}),t=Number(t),0===a?e=t:e-=t}),e=Number(e),0===t?l=e:l+=e}),l=(l=Math.round(1e5*l)/1e5).toString(),e.target.value=l,x(e,t)}},phone:{format:function(e,t){console.log("here");var a=e.target.value;(a=a.replace(/[^0-9()\- ]/g,""))&&3===a.match(/[0-9]/g).length?a="("+a+") ":a&&6===a.match(/[0-9]/g).length?a+="-":a&&a.match(/[0-9]/g).length>10&&(a=a.substr(0,a.length-1)),e.target.value=a,x(e,t)}},textOnly:{format:function(e,t){e.target.value=e.target.value.replace(/[^A-z`' ]/g,""),x(e,t)}},makeMoney:{format:function(e,t){var a=Number(e.target.value);e.target.value=a.toFixed(2),x(e,t)}},checkSize:{format:function(e,t){var a,n=e.target.value;"Center Drill"===E.getFormValue("tool_type")[0]?a=P:"Drill"===E.getFormValue("tool_type")[0]&&(a=T);var l=a.find(function(t){return t.diameter===e.target.value});e.target.value=l?l.size:n,x(e,t)}},fields:function(e,t){var a={};switch(a[e.target.name]="INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName?[e.target.value,e.target.children]:e.target.value,e.target.name){case"tool_type":switch(e.target.value){case"Groove Tool":case"Dove Mill":case"Inserts":a.material=["Coated Carbide","Coated Carbide"],a.corner_radius="0";break;case"Endmill":a.material=["Coated Carbide","Coated Carbide"],a.undercut_width="0",a.undercut_length="0",a.corner_radius="0",a.flutes="4";break;case"Drill":a.material=["Cobalt","Cobalt"],a.tip_angle="118",a.undercut_width="0",a.undercut_length="0";break;case"Center Drill":a.tip_angle="60",a.material=["High Speed Steel","High Speed Steel"];break;case"Spot Drill":a.flutes="2",a.material=["Carbide","Carbide"];break;case"Reamer":a.material=["High Speed Steel","High Speed Steel"],a.flutes="6";break;case"Cutoff Tool":case"Tap":a.material=["High Speed Steel","High Speed Steel"]}a.count="1";break;case"diameter":""!==E.getFormValue("diameter")&&(a.undercut_width=a.diameter);break;case"size":var n;"Center Drill"===E.getFormValue("tool_type")[0]?n=P:"Drill"===E.getFormValue("tool_type")[0]&&(n=T);var l=n.find(function(t){return t.size===e.target.value});l&&(a.diameter=l.diameter,a.flute_length=l.flute_length,a.tool_length=l.oal_length)}F(a,t)}},x=function(e,t){U.fields(e,t)},R=U,B=function(e){function t(e){var a;Object(i.a)(this,t),a=Object(c.a)(this,Object(d.a)(t).call(this,e));var n=void 0!==E.getFormValue(e.name,e.additionalData)?E.getFormValue(e.name,e.additionalData):"";return a.state={loaded:!1,value:n,thisValue:a.props.properties&&a.props.properties[a.props.name]},a.makeSelect=a.makeSelect.bind(Object(u.a)(Object(u.a)(a))),a.makeMath=a.makeMath.bind(Object(u.a)(Object(u.a)(a))),a.change=a.change.bind(Object(u.a)(Object(u.a)(a))),a.makeMoney=a.makeMoney.bind(Object(u.a)(Object(u.a)(a))),a.makePhone=a.makePhone.bind(Object(u.a)(Object(u.a)(a))),a.changeNumber=a.changeNumber.bind(Object(u.a)(Object(u.a)(a))),a.changeText=a.changeText.bind(Object(u.a)(Object(u.a)(a))),a.checkSize=a.checkSize.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"makeSelect",value:function(){if(this.props.properties){var e=this.props.properties;return l.a.createElement(S,{output:this.change,name:this.props.name,value:this.state.value,classes:"form-select",data:e})}return null}},{key:"checkSize",value:function(e){e=R.checkSize.format(e,this.props.additionalData)}},{key:"changeText",value:function(e){e=R.textOnly.format(e,this.props.additionalData)}},{key:"changeNumber",value:function(e){e=R.number.format(e,this.props.additionalData)}},{key:"makePhone",value:function(e){e=R.phone.format(e,this.props.additionalData)}},{key:"makeMath",value:function(e){e=R.math.format(e,this.props.additionalData)}},{key:"makeMoney",value:function(e){e=R.makeMoney.format(e,this.props.additionalData)}},{key:"change",value:function(e){R.fields(e,this.props.additionalData),this.props.additionalFunction&&this.props.additionalFunction()}},{key:"componentWillMount",value:function(){var e=this;E.on("changeForm",function(){var t=E.getFormValue(e.props.name,e.props.additionalData);e.setState({value:void 0===t?"":t,loaded:!0})})}},{key:"showType",value:function(){switch(this.props.type){case"number":return l.a.createElement("div",{className:"math-box form-select"},l.a.createElement("input",{type:"text",className:"editable-input",onChange:this.change,onBlur:this.changeNumber,placeholder:this.props.header.slice(0,-2),value:this.state.value,name:this.props.name}),l.a.createElement("span",{className:"input-hard-text"},this.props.units));case"math":return l.a.createElement("div",{className:"math-box form-select"},l.a.createElement("input",{type:"text",placeholder:this.props.header.slice(0,-2),onBlur:this.makeMath,name:this.props.name,value:this.state.value,onChange:this.change}),l.a.createElement("span",{className:"input-hard-text"},this.props.units));case"phone":return l.a.createElement("input",{type:"text",placeholder:this.props.header.slice(0,-2),onChange:this.makePhone,value:this.state.value,name:this.props.name});case"textOnly":return l.a.createElement("input",{type:"text",placeholder:this.props.header.slice(0,-2),name:this.props.name,value:this.state.value,onChange:this.change});case"date":return l.a.createElement("input",{type:"date",className:"editable-input",onChange:this.change,value:this.state.value,placeholder:this.props.header.slice(0,-2),name:this.props.name});case"select":return this.makeSelect();case"price":return l.a.createElement("div",{className:"price-box form-select"},l.a.createElement("span",{className:"input-hard-text"},"$"),l.a.createElement("input",{type:"text",placeholder:"Price",onBlur:this.makeMoney,name:this.props.name,value:this.state.value,onChange:this.change}));case"size":return l.a.createElement("input",{type:"text",className:"editable-input",onChange:this.change,onBlur:this.checkSize,value:this.state.value,placeholder:this.props.header.slice(0,-2),name:this.props.name});case"textArea":return l.a.createElement("textarea",{className:"editable-input",onChange:this.change,value:this.state.value,placeholder:this.props.header.slice(0,-2),name:this.props.name});default:return l.a.createElement("input",{type:"text",className:"editable-input",onChange:this.change,value:this.state.value,placeholder:this.props.header.slice(0,-2),name:this.props.name})}}},{key:"render",value:function(){var e=this.showType();return l.a.createElement("span",{className:"line-item editable "+this.props.classes,onClick:this.props.onClick,onFocus:this.props.onClick,id:"EditableItem"},l.a.createElement("span",{className:"display"},this.props.header),e)}}]),t}(n.Component),H=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("svg",{height:"100%",width:"100%",viewBox:"0 0 500 50",version:"1.1",id:"Endmill",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("defs",null,l.a.createElement("linearGradient",{id:"shadow1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},l.a.createElement("stop",{offset:"0%",style:{stopOpacity:0}}),l.a.createElement("stop",{offset:"100%",style:{stopColor:"rgb(0,0,0)",stopOpacity:.2}})),l.a.createElement("linearGradient",{id:"shadow2",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},l.a.createElement("stop",{offset:"0%",style:{stopColor:"rgb(0,0,0)",stopOpacity:.4}}),l.a.createElement("stop",{offset:"100%",style:{stopOpacity:0}})),l.a.createElement("linearGradient",{id:"shadow3",x1:"100%",y1:"0%",x2:"0%",y2:"0%"},l.a.createElement("stop",{offset:"0%",style:{stopColor:"rgb(0,0,0,)",stopOpacity:.4}}),l.a.createElement("stop",{offset:"100%",style:{stopOpacity:0}}))),l.a.createElement("path",{d:"M 300 0 L 500 0 L 500 50 L 300 50 Z",fill:this.props.fluteLength?"#FC9":"#89A"}),l.a.createElement("path",{d:"M 480 0 q 15 0 20 10 L 500 0",fill:this.props.radius?"#FC9":"transparent"}),l.a.createElement("path",{d:"M 480 50 q 15 0 20 -10 L 500 50",fill:this.props.radius?"#FC9":"transparent"}),l.a.createElement("path",{d:"M 250 0 c 40 0 50 50 100 50 L 400 50 c -50 0 -50 -50 -100 -50",fill:"url(#shadow3)"}),l.a.createElement("path",{d:"M 300 0 c 40 0 50 50 100 50 L 450 50 c -50 0 -50 -50 -100 -50",fill:"url(#shadow3)"}),l.a.createElement("path",{d:"M 350 0 c 40 0 50 50 100 50 L 500 50 c -50 0 -50 -50 -100 -50",fill:"url(#shadow3)"}),l.a.createElement("path",{d:"M 400 0 c 40 0 50 50 100 50 L 550 50 c -50 0 -50 -50 -100 -50",fill:"url(#shadow3)"}),l.a.createElement("path",{d:"M 450 0 c 40 0 50 50 100 50 L 600 50 c -50 0 -50 -50 -100 -50",fill:"url(#shadow3)"}),l.a.createElement("path",{d:"M 290 0 c 40 0 50 50 100 50 L 400 50 c -50 0 -50 -50 -100 -50",fill:"#89A"}),l.a.createElement("path",{d:"M 340 0 c 40 0 50 50 100 50 L 450 50 c -50 0 -50 -50 -100 -50",fill:"#89A"}),l.a.createElement("path",{d:"M 390 0 c 40 0 50 50 100 50 L 500 50 c -50 0 -50 -50 -100 -50",fill:"#89A"}),l.a.createElement("path",{d:"M 440 0 c 40 0 50 50 100 50 L 550 50 c -50 0 -50 -50 -100 -50",fill:"#89A"}),l.a.createElement("path",{d:"M 490 0 c 40 0 50 50 100 50 L 600 50 c -50 0 -50 -50 -100 -50",fill:"#89A"}),l.a.createElement("path",{d:"M 0 0 L 300 0 L 300 50 L0 50",fill:"#EEE"}),l.a.createElement("path",{d:"M 300 0 L 320 0 L 320 50 L 300 50",fill:"#89A"}),l.a.createElement("path",{d:"M 0 0 L 500 0 L 500 50 L 0 50",fill:this.props.toolLength?"#FC9":"transparent"}),l.a.createElement("path",{d:"M 150 5 L 290 5 L 290 45 L 150 45",fill:this.props.undercut?"#FC9":"transparent"}),l.a.createElement("path",{d:"M 490 0 L 500 0 L 500 50 L 490 50",fill:this.props.diameter?"#FC9":"transparent"}),l.a.createElement("path",{d:"M 0 20 L 500 20 L 500 30 L 0 30",fill:"url(#shadow1)"}),l.a.createElement("path",{d:"M 0 30 L 500 30 L 500 50 L 0 50",fill:"url(#shadow2)"}),l.a.createElement("path",{d:"M 0 50 L 500 50 L 500 50 L 0 50",fill:"url(#shadow1)"}),l.a.createElement("path",{d:"M 150 0 L 290 0 L 290 5 L 150 5",fill:this.props.undercut?"#FFF":"transparent"}),l.a.createElement("path",{d:"M 150 50 L 290 50 L 290 45 L 150 45",fill:this.props.undercut?"#FFF":"transparent"}))}}]),t}(n.Component),W=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("svg",{height:"100%",width:"100%",viewBox:"0 0 500 30",version:"1.1",id:"Endmill",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("defs",null,l.a.createElement("linearGradient",{id:"shadow1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},l.a.createElement("stop",{offset:"0%",style:{stopOpacity:0}}),l.a.createElement("stop",{offset:"100%",style:{stopColor:"rgba(0,0,0,0.2)"}})),l.a.createElement("linearGradient",{id:"shadow2",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},l.a.createElement("stop",{offset:"0%",style:{stopColor:"rgba(0,0,0,0.2)"}}),l.a.createElement("stop",{offset:"100%",style:{stopOpacity:0}})),l.a.createElement("linearGradient",{id:"shadow3",x1:"100%",y1:"0%",x2:"0%",y2:"0%"},l.a.createElement("stop",{offset:"0%",style:{stopColor:"rgba(0,0,0,0.2)"}}),l.a.createElement("stop",{offset:"100%",style:{stopOpacity:0}}))),l.a.createElement("path",{d:"M 0 0 L 300 0 L 300 30 L0 30",fill:"#AAA"}),l.a.createElement("path",{d:"M 250 0 L 500 0 L 500 30 L 250 30 Z",fill:this.props.fluteLength?"#FC9":"#AAA"}),l.a.createElement("path",{d:"M 480 0 q 15 0 20 10 L 500 0",fill:this.props.radius?"#FC9":"transparent"}),l.a.createElement("path",{d:"M 480 50 q 15 0 20 -10 L 500 50",fill:this.props.radius?"#FC9":"transparent"}),l.a.createElement("path",{d:"M 250 0 c 40 0 50 30 100 30 L 400 30 c -50 0 -50 -30 -100 -30",fill:"url(#shadow3)"}),l.a.createElement("path",{d:"M 300 0 c 40 0 50 30 100 30 L 450 30 c -50 0 -50 -30 -100 -30",fill:"url(#shadow3)"}),l.a.createElement("path",{d:"M 350 0 c 40 0 50 30 100 30 L 500 30 c -50 0 -50 -30 -100 -30",fill:"url(#shadow3)"}),l.a.createElement("path",{d:"M 400 0 c 40 0 50 30 100 30 L 550 30 c -50 0 -50 -30 -100 -30",fill:"url(#shadow3)"}),l.a.createElement("path",{d:"M 450 0 c 40 0 50 30 100 30 L 600 30 c -50 0 -50 -30 -100 -30",fill:"url(#shadow3)"}),l.a.createElement("path",{d:"M 290 0 c 40 0 50 30 100 30 L 400 30 c -50 0 -50 -30 -100 -30",fill:"#AAA"}),l.a.createElement("path",{d:"M 340 0 c 40 0 50 30 100 30 L 450 30 c -50 0 -50 -30 -100 -30",fill:"#AAA"}),l.a.createElement("path",{d:"M 390 0 c 40 0 50 30 100 30 L 500 30 c -50 0 -50 -30 -100 -30",fill:"#AAA"}),l.a.createElement("path",{d:"M 440 0 c 40 0 50 30 100 30 L 550 30 c -50 0 -50 -30 -100 -30",fill:"#AAA"}),l.a.createElement("path",{d:"M 490 0 c 40 0 50 30 100 30 L 600 30 c -50 0 -50 -30 -100 -30",fill:"#AAA"}),l.a.createElement("path",{d:"M 0 0 L 500 0 L 500 30 L 0 30",fill:this.props.toolLength?"#FC9":"transparent"}),l.a.createElement("path",{d:"M 490 0 L 500 0 L 500 30 L 490 30",fill:this.props.diameter?"#FC9":"transparent"}),l.a.createElement("path",{d:"M 0 20 L 500 20 L 500 30 L 0 30",fill:"url(#shadow1)"}),l.a.createElement("path",{d:"M 0 30 L 500 30 L 500 30 L 0 30",fill:"url(#shadow2)"}),l.a.createElement("path",{d:"M 0 30 L 500 30 L 500 30 L 0 30",fill:"url(#shadow1)"}),l.a.createElement("path",{d:"M 490 0 L 500 0 L 500 15",fill:"#FFF"}),l.a.createElement("path",{d:"M 490 30 L 500 30 L 500 15",fill:"#FFF"}))}}]),t}(n.Component),V=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).toolChoices=[{value:"Tool Type",children:"Tool Type"},{value:"Endmill",children:"Endmill"},{value:"Drill",children:"Drill"},{value:"Spot Drill",children:"Spot Drill"},{value:"Chamfer Mill",children:"Chamfer Mill"},{value:"Center Drill",children:"Center Drill"},{value:"Reamer",children:"Reamer"},{value:"Key Cutter",children:"Key Cutter"},{value:"Face Mill",children:"Face Mill"},{value:"Dove Mill",children:"Dove Mill"},{value:"Tap",children:"Tap"},{value:"Inserts",children:"Inserts"},{value:"Other",children:"Other"}],e.materialChoices=[{value:"Tool Material",children:"Tool Material"},{value:"Carbide",children:"Carbide"},{value:"Cobalt",children:"Cobalt"},{value:"High Speed Steel",children:"High Speed Steel"},{value:"Coated Carbide",children:"Coated Carbide"},{value:"Other",children:"Other"}],e.state={diameter:!1,editable:!1,fluteLength:!1,radius:!1,toolLength:!1,undercut:!1,cfmMsg:"Save"},e.toggleEdit=e.toggleEdit.bind(Object(u.a)(Object(u.a)(e))),e.showTool=e.showTool.bind(Object(u.a)(Object(u.a)(e))),e.save=e.save.bind(Object(u.a)(Object(u.a)(e))),e.toolProps=e.toolProps.bind(Object(u.a)(Object(u.a)(e))),e.cancel=e.cancel.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"cancel",value:function(){this.toggleEdit(),"Confirm"===this.state.cfmMsg&&this.props.cancel()}},{key:"save",value:function(){this.toggleEdit(),"Confirm"===this.state.cfmMsg?this.props.buyTool():this.props.save()}},{key:"componentWillReceiveProps",value:function(e){e.readyToBuy&&this.setState({editable:!0,cfmMsg:"Confirm"})}},{key:"toolProps",value:function(e){switch(e){case"material":return["Endmill","Drill","Spot Drill","Chamfer Mill","Reamer","Face Mill","Tap","Center Drill","Key Cutter","Dove Mill","Inserts"];case"tool_length":return["Endmill","Drill","Spot Drill","Chamfer Mill","Reamer","Tap","Center Drill","Key Cutter","Dove Mill"];case"diameter":return["Endmill","Drill","Spot Drill","Chamfer Mill","Reamer","Face Mill","Key Cutter","Dove Mill"];case"flutes":return["Endmill","Spot Drill","Chamfer Mill","Reamer","Face Mill","Tap","Key Cutter","Dove Mill"];case"tip_angle":return["Drill","Spot Drill","Chamfer Mill","Tap","Dove Mill","Center Drill","Inserts"];case"flute_length":return["Endmill","Drill","Spot Drill","Chamfer Mill","Reamer","Tap"];case"corner_radius":return["Endmill","Key Cutter","Dove Mill","Inserts"];case"relief_length":case"relief_width":return["Endmill","Key Cutter","Dove Mill"];case"size":return["Drill","Center Drill","Tap"];case"cutting_height":return["Key Cutter","Inserts"];case"description":return["Inserts","Other"];case"pitch":return["Tap"];default:return["Endmill","Drill","Spot Drill","Chamfer Mill","Reamer","Face Mill","Tap","Center Drill","Key Cutter","Dove Mill","Inserts"]}}},{key:"showTool",value:function(e){switch(e.target.name){case"tip_angle":case"diameter":this.setState({diameter:!0,fluteLength:!1,radius:!1,toolLength:!1,undercut:!1});break;case"flute_length":this.setState({diameter:!1,fluteLength:!0,radius:!1,toolLength:!1,undercut:!1});break;case"corner_radius":this.setState({fluteLength:!1,diameter:!1,radius:!0,toolLength:!1,undercut:!1});break;case"tool_length":this.setState({fluteLength:!1,radius:!1,diameter:!1,toolLength:!0,undercut:!1});break;case"undercut_width":case"undercut_length":this.setState({fluteLength:!1,radius:!1,diameter:!1,toolLength:!1,undercut:!0});break;default:this.setState({fluteLength:!1,radius:!1,diameter:!1,toolLength:!1,undercut:!1})}}},{key:"toggleEdit",value:function(){this.setState({editable:!this.state.editable})}},{key:"millImage",value:function(){switch(this.props.toolData.tool_type){case"Endmill":return l.a.createElement(H,{fluteLength:this.state.fluteLength,radius:this.state.radius,toolLength:this.state.toolLength,undercut:this.state.undercut,diameter:this.state.diameter});case"Drill":return l.a.createElement(W,{fluteLength:this.state.fluteLength,radius:this.state.radius,toolLength:this.state.toolLength,diameter:this.state.diameter});default:return""}}},{key:"showItem",value:function(e){return-1!==this.toolProps(e).indexOf(E.getFormValue("tool_type")&&E.getFormValue("tool_type")[0])?"":"gone"}},{key:"viewInfo",value:function(){return this.state.editable?l.a.createElement("div",{className:"tool-data"},l.a.createElement(B,{header:"Tool Type: ",type:"select",name:"tool_type",properties:this.toolChoices,autoFocus:!0,onClick:this.showTool}),l.a.createElement(B,{header:"Description: ",classes:this.showItem("description"),name:"description"}),l.a.createElement(B,{header:"Size: ",classes:this.showItem("size"),name:"size",type:"size",onClick:this.showTool}),l.a.createElement(B,{type:"math",units:"inches",header:"Diameter: ",classes:this.showItem("diameter"),name:"diameter",onClick:this.showTool}),l.a.createElement(B,{header:"Material: ",type:"select",output:this.props.output,classes:this.showItem("material"),name:"material",properties:this.materialChoices,onClick:this.showTool}),l.a.createElement(B,{header:"Flutes: ",classes:this.showItem("flutes"),name:"flutes",type:"number",onClick:this.showTool}),l.a.createElement(B,{classes:this.showItem("tip_angle"),header:"Dove Mill"===this.props.toolData.tool_type?"Angle: ":"Tip Angle: ",name:"tip_angle",units:"degrees",type:"math",onClick:this.showTool}),l.a.createElement(B,{header:"Flute Length: ",classes:this.showItem("flute_length"),name:"flute_length",type:"math",units:"inches",onClick:this.showTool}),l.a.createElement(B,{header:"Corner Radius: ",classes:this.showItem("corner_radius"),name:"corner_radius",type:"math",units:"inches",onClick:this.showTool}),l.a.createElement(B,{header:"Tool Length: ",classes:this.showItem("tool_length"),name:"tool_length",type:"math",units:"inches",onClick:this.showTool}),l.a.createElement(B,{header:"Inserts"===this.props.toolData.tool_type?"Thickness: ":"Cutting Height: ",classes:this.showItem("cutting_height"),name:"cutting_height",type:"math",units:"inches"}),l.a.createElement(B,{header:"Relief Width: ",classes:this.showItem("relief_width"),name:"undercut_width",type:"math",units:"inches",onClick:this.showTool}),l.a.createElement(B,{header:"Relief Length: ",classes:this.showItem("relief_length"),name:"undercut_length",units:"inches",onClick:this.showTool,type:"math"}),l.a.createElement(B,{header:"EDP Number: ",name:"edp",onClick:this.showTool}),l.a.createElement(B,{header:"Quantity: ",name:"count",onClick:this.showTool,type:"number",classes:0!==this.props.count?"":"gone"}),l.a.createElement(B,{header:"Price: ",name:"price",onClick:this.showTool,type:"price",classes:this.props.order?"":"gone"}),l.a.createElement(B,{header:"Location: ",name:"location",onClick:this.showTool,classes:this.props.order?"gone":""}),l.a.createElement(B,{header:"Notes: ",name:"notes",onClick:this.showTool,type:"textArea"}),l.a.createElement("span",{className:"submit-button-line"},l.a.createElement("button",{onClick:this.cancel,className:"button white-button"},"Cancel"),l.a.createElement("button",{onClick:this.save,className:"button save-button"},this.state.cfmMsg))):l.a.createElement("div",{onClick:this.toggleEdit,className:"tool-data"},l.a.createElement(M,{header:"Tool Type: ",value:"tool_type"}),l.a.createElement(M,{header:"Description: ",value:"description",classes:this.showItem("description")}),l.a.createElement(M,{header:"Size: ",value:"size",classes:this.showItem("size")}),l.a.createElement(M,{header:"Diameter: ",value:"diameter",classes:this.showItem("diameter"),units:"inches"}),l.a.createElement(M,{header:"Material: ",classes:this.showItem("material"),value:"material"}),l.a.createElement(M,{header:"Flutes: ",value:"flutes",classes:this.showItem("flutes")}),l.a.createElement(M,{header:"Dove Mill"===this.props.toolData.tool_type?"Angle: ":"Tip Angle: ",value:"tip_angle",classes:this.showItem("tip_angle"),units:"degrees"}),l.a.createElement(M,{header:"Flute Length: ",value:"flute_length",classes:this.showItem("flute_length"),units:"inches"}),l.a.createElement(M,{header:"Corner Radius: ",value:"corner_radius",units:"inches",classes:this.showItem("corner_radius")}),l.a.createElement(M,{header:"Tool Length: ",value:"tool_length",classes:this.showItem("tool_length"),units:"inches"}),l.a.createElement(M,{header:"Inserts"===this.props.toolData.tool_type?"Thickness: ":"Cutting Height: ",value:"cutting_height",classes:this.showItem("cutting_height"),units:"inches"}),l.a.createElement(M,{header:"Relief Width: ",value:"undercut_width",units:"inches",classes:this.showItem("relief_width")}),l.a.createElement(M,{header:"Relief Length: ",value:"undercut_length",units:"inches",classes:this.showItem("relief_length")}),l.a.createElement(M,{header:"EDP Number: ",value:"edp"}),l.a.createElement(M,{header:"Quantity: ",value:"count",classes:this.props.order?"":"gone"}),l.a.createElement(M,{header:"Price: ",value:"price",classes:"price "+(this.props.order?"":"gone")}),l.a.createElement(M,{header:"Location: ",value:"location",classes:this.props.order?"gone":""}),l.a.createElement(M,{header:"Notes: ",value:"notes",classes:"notes"}))}},{key:"componentDidMount",value:function(){"0"===this.props.toolId&&this.setState({editable:!0})}},{key:"render",value:function(){var e=this.viewInfo(),t=this.millImage();return l.a.createElement("div",{className:"editor-content",id:"Pages/Tools/MillToolEditor"},l.a.createElement("div",{className:"tool-image"},t),l.a.createElement("div",{className:"edit-page"},e))}}]),t}(n.Component),J=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).toolChoices=[{value:"Tool Type",children:"Tool Type"},{value:"Boring Bar",children:"Boring Bar"},{value:"Inserts",children:"Inserts"},{value:"Center Drill",children:"Center Drill"},{value:"OD Tool",children:"OD Tool"},{value:"Groove Tool",children:"Groove Tool"},{value:"Drill",children:"Drill"},{value:"Cutoff Tool",children:"Cutoff Tool"},{value:"Other",children:"Other"}],a.materialChoices=[{value:"Tool Material",children:"Tool Material"},{value:"Carbide",children:"Carbide"},{value:"Cobalt",children:"Cobalt"},{value:"High Speed Steel",children:"High Speed Steel"},{value:"Coated Carbide",children:"Coated Carbide"},{value:"Other",children:"Other"}],a.state={diameter:!1,editable:!1,fluteLength:!1,radius:!1,toolLength:!1,undercut:!1,cfmMsg:"Save"},a.toggleEdit=a.toggleEdit.bind(Object(u.a)(Object(u.a)(a))),a.showTool=a.showTool.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.cancel=a.cancel.bind(Object(u.a)(Object(u.a)(a))),a.toolProps=a.toolProps.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"cancel",value:function(){this.toggleEdit(),"Confirm"===this.state.cfmMsg&&this.props.cancel()}},{key:"save",value:function(){this.toggleEdit(),"Confirm"===this.state.cfmMsg?this.props.buyTool():this.props.save()}},{key:"toolProps",value:function(e){switch(e){case"size":return["Center Drill","Drill"];case"diameter":return["Boring Bar","Center Drill","Groove Tool","Drill"];case"material":return["Boring Bar","Inserts","Center Drill","OD Tool","Groove Tool","Drill","Cutoff Tool","Other"];case"tip_angle":return["Inserts","Center Drill","OD Tool","Groove Tool","Drill"];case"corner_radius":return["Inserts","Groove Tool"];case"flute_length":return["Center Drill","Drill"];case"tool_length":return["Boring Bar","Center Drill","OD Tool","Groove Tool","Drill","Cutoff Tool"];case"cutting_height":return["Inserts","Groove Tool"];case"insert":return["Inserts"];case"description":return["Inserts","Groove Tool","OD Tool","Other"];default:return["Boring Bar","Inserts","Center Drill","OD Tool","Groove Tool","Drill","Cutoff Tool","Other"]}}},{key:"componentWillReceiveProps",value:function(e){e.readyToBuy&&this.setState({editable:!0,cfmMsg:"Confirm"})}},{key:"showTool",value:function(e){switch(e.target.name){case"tip_angle":case"diameter":this.setState({diameter:!0,fluteLength:!1,radius:!1,toolLength:!1,undercut:!1});break;case"flute_length":this.setState({diameter:!1,fluteLength:!0,radius:!1,toolLength:!1,undercut:!1});break;case"corner_radius":this.setState({fluteLength:!1,diameter:!1,radius:!0,toolLength:!1,undercut:!1});break;case"tool_length":this.setState({fluteLength:!1,radius:!1,diameter:!1,toolLength:!0,undercut:!1});break;default:this.setState({fluteLength:!1,radius:!1,diameter:!1,toolLength:!1,undercut:!1})}}},{key:"toggleEdit",value:function(){this.setState({editable:!this.state.editable})}},{key:"millImage",value:function(){switch(this.props.toolData.tool_type){case"Drill":return l.a.createElement(W,{fluteLength:this.state.fluteLength,radius:this.state.radius,toolLength:this.state.toolLength,diameter:this.state.diameter});default:return""}}},{key:"showItem",value:function(e){return-1!==this.toolProps(e).indexOf(E.getFormValue("tool_type")[0])?"":"gone"}},{key:"viewInfo",value:function(){return this.state.editable?l.a.createElement("div",{className:"tool-data"},l.a.createElement(B,{header:"Tool Type: ",type:"select",name:"tool_type",properties:this.toolChoices,onClick:this.showTool}),l.a.createElement(B,{header:"Size: ",type:"size",name:"size",classes:this.showItem("size"),onClick:this.showTool}),l.a.createElement(B,{classes:this.showItem("diameter"),type:"math",header:"Diameter: ",name:"diameter",units:"inches",onClick:this.showTool}),l.a.createElement(B,{header:"Material: ",type:"select",name:"material",properties:this.materialChoices,classes:this.showItem("material"),onClick:this.showTool}),l.a.createElement(B,{classes:this.showItem("tip_angle"),header:"Tip Angle: ",name:"tip_angle",units:"degrees",type:"math",onClick:this.showTool}),l.a.createElement(B,{header:"Corner Radius: ",classes:this.showItem("corner_radius"),name:"corner_radius",type:"math",units:"inches",onClick:this.showTool}),l.a.createElement(B,{classes:this.showItem("flute_length"),header:"Flute Length: ",name:"flute_length",units:"inches",type:"math",onClick:this.showTool}),l.a.createElement(B,{header:"Tool Length: ",name:"tool_length",units:"inches",type:"math",classes:this.showItem("tool_length"),onClick:this.showTool}),l.a.createElement(B,{header:"Thickness: ",classes:this.showItem("cutting_height"),name:"cutting_height",type:"math",units:"inches",onClick:this.showTool}),l.a.createElement(B,{header:"Description: ",name:"description",classes:this.showItem("description"),onClick:this.showTool}),l.a.createElement(B,{header:"Insert Code: ",name:"insert",classes:this.showItem("insert"),onClick:this.showTool}),l.a.createElement(B,{header:"Quantity: ",type:"number",name:"count",onClick:this.showTool,classes:0!==this.props.count?"":"gone"}),l.a.createElement(B,{header:"Price: ",name:"price",onClick:this.showTool,type:"price",classes:this.props.order?"":"gone"}),l.a.createElement(B,{header:"Location: ",name:"location",onClick:this.showTool,classes:this.props.order?"gone":""}),l.a.createElement(B,{header:"Notes: ",name:"notes",onClick:this.showTool,type:"textArea"}),l.a.createElement("span",{className:"submit-button-line"},l.a.createElement("button",{onClick:this.cancel,className:"button white-button"},"Cancel"),l.a.createElement("button",{onClick:this.save,className:"button save-button"},this.state.cfmMsg))):l.a.createElement("div",{onClick:this.toggleEdit,className:"tool-data"},l.a.createElement(M,{header:"Tool Type: ",value:"tool_type"}),l.a.createElement(M,{header:"Size: ",value:"size",classes:this.showItem("size")}),l.a.createElement(M,{header:"Diameter: ",value:"diameter",units:"inches",classes:this.showItem("diameter")}),l.a.createElement(M,{header:"Material: ",value:"material"}),l.a.createElement(M,{header:"Tip Angle: ",value:"tip_angle",units:"degrees",classes:this.showItem("tip_angle")}),l.a.createElement(M,{header:"Corner Radius: ",units:"inches",classes:this.showItem("corner_radius"),value:"corner_radius"}),l.a.createElement(M,{header:"Flute Length: ",value:"flute_length",units:"inches",classes:this.showItem("flute_length")}),l.a.createElement(M,{header:"Thickness: ",value:"cutting_height",classes:this.showItem("cutting_height"),units:"inches"}),l.a.createElement(M,{header:"Tool Length: ",units:"inches",value:"tool_length"}),l.a.createElement(M,{header:"Description: ",classes:this.showItem("description"),value:"description"}),l.a.createElement(M,{header:"Insert Code: ",value:"insert"}),l.a.createElement(M,{header:"Quantity: ",value:"count",classes:this.props.order?"":"gone"}),l.a.createElement(M,{header:"Price: ",value:"price",classes:"price "+(this.props.order?"":"gone")}),l.a.createElement(M,{header:"Location: ",value:"location",classes:this.props.order?"gone":""}),l.a.createElement(M,{header:"Notes: ",value:"notes",classes:"notes"}))}},{key:"componentDidMount",value:function(){"0"===this.props.toolId&&this.setState({editable:!0})}},{key:"render",value:function(){var e=this.viewInfo(),t=this.millImage();return l.a.createElement("div",{className:"editor-content",id:"Pages/Tools/LatheToolEditor"},l.a.createElement("div",{className:"tool-image"},t),l.a.createElement("div",{className:"edit-page"},e))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={diameter:!1,editable:!1,fluteLength:!1,radius:!1,toolLength:!1,undercut:!1,cfmMsg:"Save"},a.toggleEdit=a.toggleEdit.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.cancel=a.cancel.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"cancel",value:function(){this.toggleEdit(),"Confirm"===this.state.cfmMsg&&this.props.cancel()}},{key:"save",value:function(){this.toggleEdit(),"Confirm"===this.state.cfmMsg?this.props.buyTool():this.props.save()}},{key:"componentWillReceiveProps",value:function(e){e.readyToBuy&&this.setState({editable:!0,cfmMsg:"Confirm"})}},{key:"toggleEdit",value:function(){this.setState({editable:!this.state.editable})}},{key:"viewInfo",value:function(){return this.state.editable?l.a.createElement("div",null,l.a.createElement(B,{header:"Name: ",value:this.props.toolData.name,change:this.props.change,name:"name",onClick:this.showTool}),l.a.createElement(B,{header:"Description: ",change:this.props.change,name:"description",onClick:this.showTool}),l.a.createElement(B,{header:"Quantity: ",change:this.props.change,type:"number",name:"count",onClick:this.showTool,classes:0!==this.props.count?"":"gone"}),l.a.createElement(B,{header:"Price: ",change:this.props.change,name:"price",onClick:this.showTool,type:"price",classes:this.props.order?"":"gone"}),l.a.createElement(B,{header:"Location: ",change:this.props.change,name:"location",onClick:this.showTool,classes:this.props.order?"gone":""}),l.a.createElement(B,{header:"Notes: ",change:this.props.change,name:"notes",onClick:this.showTool,type:"textArea"}),l.a.createElement("span",{className:"submit-button-line"},l.a.createElement("button",{onClick:this.cancel,className:"button white-button"},"Cancel"),l.a.createElement("button",{onClick:this.save,className:"button save-button"},this.state.cfmMsg))):l.a.createElement("div",{onClick:this.toggleEdit},l.a.createElement(M,{header:"Name: ",value:"name"}),l.a.createElement(M,{header:"Description: ",value:"description"}),l.a.createElement(M,{header:"Quantity: ",value:"count",classes:this.props.order?"":"gone"}),l.a.createElement(M,{header:"Price: ",value:"price",classes:"price "+(this.props.order?"":"gone")}),l.a.createElement(M,{header:"Location: ",value:"location",classes:this.props.order?"gone":""}),l.a.createElement(M,{header:"Notes: ",value:"notes",classes:"notes"}))}},{key:"componentDidMount",value:function(){"0"===this.props.toolId&&this.setState({editable:!0})}},{key:"render",value:function(){var e=this.viewInfo();return l.a.createElement("div",{className:"editor-content"},l.a.createElement("div",{className:"edit-page"},e))}}]),t}(n.Component),G=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"sidenav-background",onClick:this.props.reject}),l.a.createElement("div",{className:"modal-container"},l.a.createElement("div",{className:"modal-content delete-modal"},l.a.createElement("span",null,"Are you sure you want to delete this"),l.a.createElement("div",{className:"delete-modal-button-container"},l.a.createElement("button",{onClick:this.props.delete,className:"button delete-modal-button accept"},"Yes"),l.a.createElement("button",{onClick:this.props.reject,className:"button delete-modal-button reject"},"No")))))}}]),t}(n.Component),Q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={data:{toolData:{}},viewerMode:"Endmill",toolId:a.props.id,machine:a.props.machine,loaded:!1,modalHide:!0,redirect:!1,readyToBuy:!1},a.delete=a.delete.bind(Object(u.a)(Object(u.a)(a))),a.get=a.get.bind(Object(u.a)(Object(u.a)(a))),a.put=a.put.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.setViewerMode=a.setViewerMode.bind(Object(u.a)(Object(u.a)(a))),a.stationSelector=a.stationSelector.bind(Object(u.a)(Object(u.a)(a))),a.toggleDeleteModal=a.toggleDeleteModal.bind(Object(u.a)(Object(u.a)(a))),a.receiveTool=a.receiveTool.bind(Object(u.a)(Object(u.a)(a))),a.confirmPurchase=a.confirmPurchase.bind(Object(u.a)(Object(u.a)(a))),a.cancelPurchase=a.cancelPurchase.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"confirmPurchase",value:function(){this.setState({readyToBuy:!0})}},{key:"cancelPurchase",value:function(){this.setState({readyToBuy:!1})}},{key:"get",value:function(){this.setState({data:E.getForm("ordering",this.props.id,this.props.machine),loaded:!0})}},{key:"receiveTool",value:function(){var e=E.viewForm();e.shopping=!1,e.purchased=!1,L({tool_data:e},this.state.machine),this.props.toggleModal(),this.props.toggleBig({target:{id:"shipped"}})}},{key:"componentWillMount",value:function(){A()}},{key:"delete",value:function(){z(this.props.id,this.props.machine),this.toggleDeleteModal(),this.props.toggleModal()}},{key:"put",value:function(){var e=E.viewForm();e.shopping=!1,e.purchased=!0,L({tool_data:e},this.state.machine)}},{key:"save",value:function(){this.put()}},{key:"setViewerMode",value:function(){if(this.state.data.tool_data.tool_type)switch(this.state.data.tool_data.tool_type){case"Endmill":this.setState({viewerMode:"Endmill"});break;case"Drill":case"Spot Drill":case"Center Drill":this.setState({viewerMode:"Drill"});break;default:this.setState({viewerMode:""})}}},{key:"stationSelector",value:function(){if(this.state.loaded){if("mill"===this.state.machine)return l.a.createElement(V,{readyToBuy:this.state.readyToBuy,count:this.state.count,viewerMode:this.state.viewerMode,toolData:this.state.data,toolId:this.state.toolId,save:this.save,order:!0,buyTool:this.receiveTool,cancel:this.cancelPurchase});if("lathe"===this.state.machine)return l.a.createElement(J,{readyToBuy:this.state.readyToBuy,count:this.state.count,toolData:this.state.data,viewerMode:this.state.viewerMode,toolId:this.state.toolId,save:this.save,order:!0,buyTool:this.receiveTool,cancel:this.cancelPurchase});if("other"===this.state.machine)return l.a.createElement(q,{readyToBuy:this.state.readyToBuy,count:this.state.count,toolData:this.state.data,viewerMode:this.state.viewerMode,toolId:this.state.toolId,save:this.save,order:!0,buyTool:this.receiveTool,cancel:this.cancelPurchase})}}},{key:"toggleDeleteModal",value:function(){this.setState({modalHide:!this.state.modalHide})}},{key:"componentDidMount",value:function(){"0"!==this.state.toolId?this.get():this.setState({loaded:!0})}},{key:"render",value:function(){var e=this,t=this.stationSelector();return l.a.createElement("div",null,l.a.createElement("div",{className:"sidenav-background",onClick:this.props.toggleModal}),l.a.createElement("div",{className:"modal-container"},l.a.createElement("div",{className:"modal-content editor"},l.a.createElement("div",{className:"modal-top"},l.a.createElement("h3",null,"Tool Editor"),l.a.createElement("div",{className:this.state.modalHide?"gone":""},l.a.createElement(G,{delete:this.delete,reject:this.toggleDeleteModal,link:""})),l.a.createElement("div",{className:"modal-corner-buttons"},l.a.createElement("button",{className:"button table-button delete-button "+("0"===this.state.toolId||this.state.readyToBuy?"gone":""),onClick:this.toggleDeleteModal},l.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})),l.a.createElement("button",{className:"button table-button close-modal-button "+("0"===this.state.toolId||this.state.readyToBuy?"gone":""),onClick:this.confirmPurchase},"receive"),l.a.createElement("button",{onClick:function(){e.props.toggleModal("0")},className:"button table-button close-modal-button close-button "+(this.state.readyToBuy?"gone":"")},l.a.createElement("span",{className:"close-small"},l.a.createElement("i",{className:"fa fa-times close-x"})),l.a.createElement("span",{className:"close-big"},"Return to Purchased List")))),l.a.createElement("div",{className:"purchase-command fade-in "+(this.state.readyToBuy?"":"gone")},"Check what you're receiving"),t)))}}]),t}(n.Component),K=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"loading-block",id:"Main/LoadingBlock"},l.a.createElement("div",{className:"loading-message"},this.props.loadingMessage),l.a.createElement("div",{className:"loading-bar-container"},l.a.createElement("div",{className:"loading-bar-movement slide-across"})))}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={editing:!1,toolId:null,data:{},loaded:!1,tool:a.props.category},a.toggle=a.toggle.bind(Object(u.a)(Object(u.a)(a))),a.generateEditorModal=a.generateEditorModal.bind(Object(u.a)(Object(u.a)(a))),a.toggleModal=a.toggleModal.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"toggle",value:function(e){this.props.toggleCat(e.target.id),this.setState({data:E.getOrdering(e.target.id),tool:e.target.id})}},{key:"componentWillMount",value:function(){var e=this;this.setState({data:E.getPurchased(this.props.category),loaded:!0}),E.on("allUpdated",function(){e.setState({loaded:!0})})}},{key:"toggleModal",value:function(e){this.setState({toolId:e,editing:!this.state.editing})}},{key:"generateEditorModal",value:function(){return this.state.editing?l.a.createElement(Q,{id:this.state.toolId,machine:this.props.category,toggleModal:this.toggleModal,toggleBig:this.props.toggleBig,triggerUpdate:this.get}):""}},{key:"showTools",value:function(){if(!this.state.loaded)return l.a.createElement(K,{loadingMessage:"Loading Purchased List"});switch(this.props.category){default:return l.a.createElement(j,{toggleModal:this.toggleModal,data:E.getPurchased(this.props.category),noAdd:!0,source:"ordering"});case"lathe":return l.a.createElement(C,{toggleModal:this.toggleModal,data:E.getPurchased(this.props.category),noAdd:!0,source:"ordering"});case"other":return l.a.createElement(N,{toggleModal:this.toggleModal,data:E.getPurchased(this.props.category),noAdd:!0,source:"ordering"})}}},{key:"render",value:function(){var e=this.showTools(),t=this.generateEditorModal();return l.a.createElement("div",{id:"Purchased"},t,l.a.createElement("div",{className:"toggle-pills inverted"},l.a.createElement("input",{type:"radio",name:"dept",id:"mill",onChange:this.toggle,checked:"mill"===this.state.tool}),l.a.createElement("label",{htmlFor:"mill"},"Mill"),l.a.createElement("input",{type:"radio",name:"dept",id:"lathe",onChange:this.toggle,checked:"lathe"===this.state.tool}),l.a.createElement("label",{htmlFor:"lathe"},"Lathe"),l.a.createElement("input",{type:"radio",name:"dept",id:"other",onChange:this.toggle,checked:"other"===this.state.tool}),l.a.createElement("label",{htmlFor:"other"},"Other")),l.a.createElement("div",null,e))}}]),t}(n.Component),Z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={data:{tool_data:{}},viewerMode:"Endmill",toolId:a.props.id,machine:a.props.machine,loaded:!1,modalHide:!0,redirect:!1,readyToBuy:!1},a.delete=a.delete.bind(Object(u.a)(Object(u.a)(a))),a.get=a.get.bind(Object(u.a)(Object(u.a)(a))),a.post=a.post.bind(Object(u.a)(Object(u.a)(a))),a.put=a.put.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.setViewerMode=a.setViewerMode.bind(Object(u.a)(Object(u.a)(a))),a.stationSelector=a.stationSelector.bind(Object(u.a)(Object(u.a)(a))),a.toggleDeleteModal=a.toggleDeleteModal.bind(Object(u.a)(Object(u.a)(a))),a.buyTool=a.buyTool.bind(Object(u.a)(Object(u.a)(a))),a.confirmPurchase=a.confirmPurchase.bind(Object(u.a)(Object(u.a)(a))),a.cancelPurchase=a.cancelPurchase.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"confirmPurchase",value:function(){this.setState({readyToBuy:!0})}},{key:"cancelPurchase",value:function(){this.setState({readyToBuy:!1})}},{key:"buyTool",value:function(){var e=E.viewForm();e.shopping=!1,e.purchased=!0,L({tool_data:e},this.state.machine),this.props.toggleModal(),this.props.toggleBig({target:{id:"purchased"}})}},{key:"delete",value:function(){z(this.props.id,this.props.machine),this.toggleDeleteModal(),this.props.toggleModal()}},{key:"componentWillMount",value:function(){A()}},{key:"get",value:function(){this.setState({data:E.getForm("ordering",this.props.id,this.props.machine),loaded:!0})}},{key:"post",value:function(){var e=E.viewForm();e.shopping=!0,e.purchased=!1,D({user:"Andrew",tool_data:e},this.state.machine),this.props.toggleModal()}},{key:"put",value:function(){var e=E.viewForm();e.shopping=!0,e.purchased=!1,L({tool_data:e},this.state.machine)}},{key:"save",value:function(){"0"===this.state.toolId?this.post():this.put()}},{key:"setViewerMode",value:function(){if(this.state.data.tool_data.tool_type)switch(this.state.data.tool_data.tool_type){case"Endmill":this.setState({viewerMode:"Endmill"});break;case"Drill":case"Spot Drill":case"Center Drill":this.setState({viewerMode:"Drill"});break;default:this.setState({viewerMode:""})}}},{key:"stationSelector",value:function(){if(this.state.loaded){if("mill"===this.state.machine)return l.a.createElement(V,{viewerMode:this.state.viewerMode,toolData:this.state.data,toolId:this.state.toolId,readyToBuy:this.state.readyToBuy,cancel:this.cancelPurchase,save:this.save,order:!0,buyTool:this.buyTool});if("lathe"===this.state.machine)return l.a.createElement(J,{readyToBuy:this.state.readyToBuy,toolData:this.state.data,viewerMode:this.state.viewerMode,cancel:this.cancelPurchase,toolId:this.state.toolId,save:this.save,order:!0,buyTool:this.buyTool});if("other"===this.state.machine)return l.a.createElement(q,{readyToBuy:this.state.readyToBuy,toolData:this.state.data,viewerMode:this.state.viewerMode,cancel:this.cancelPurchase,toolId:this.state.toolId,save:this.save,order:!0,buyTool:this.buyTool})}}},{key:"toggleDeleteModal",value:function(){this.setState({modalHide:!this.state.modalHide})}},{key:"componentDidMount",value:function(){"0"!==this.state.toolId?this.get():this.setState({loaded:!0})}},{key:"render",value:function(){var e=this,t=this.stationSelector();return l.a.createElement("div",{id:"OrderEditorModal"},l.a.createElement("div",{className:"sidenav-background",onClick:this.props.toggleModal}),l.a.createElement("div",{className:"modal-container"},l.a.createElement("div",{className:"modal-content editor"},l.a.createElement("div",{className:"modal-top"},l.a.createElement("h3",null,"Tool Editor"),l.a.createElement("div",{className:this.state.modalHide?"gone":""},l.a.createElement(G,{delete:this.delete,reject:this.toggleDeleteModal})),l.a.createElement("div",{className:"modal-corner-buttons"},l.a.createElement("button",{className:"button table-button delete-button "+("0"===this.state.toolId||this.state.readyToBuy?"gone":""),onClick:this.toggleDeleteModal},l.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})),l.a.createElement("button",{className:"button table-button close-modal-button "+("0"===this.state.toolId||this.state.readyToBuy?"gone":""),onClick:this.confirmPurchase},"purchase"),l.a.createElement("button",{onClick:function(){e.props.toggleModal("0")},className:"button table-button close-modal-button close-button "+(this.state.readyToBuy?"gone":"")},l.a.createElement("span",{className:"close-small"},l.a.createElement("i",{className:"fa fa-times close-x"})),l.a.createElement("span",{className:"close-big"},"Return to Shopping List")))),l.a.createElement("div",{className:"purchase-command fade-in "+(this.state.readyToBuy?"":"gone")},"Double check your order"),t)))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={editing:!1,toolId:null,data:[],loaded:!1,tool:a.props.category},a.toggle=a.toggle.bind(Object(u.a)(Object(u.a)(a))),a.generateEditorModal=a.generateEditorModal.bind(Object(u.a)(Object(u.a)(a))),a.toggleModal=a.toggleModal.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"toggle",value:function(e){this.props.toggleCat(e.target.id),this.setState({data:E.getOrdering(e.target.id),tool:e.target.id})}},{key:"componentWillMount",value:function(){var e=this;E.getReady("t")&&this.setState({loaded:!0}),E.on("allUpdated",function(){e.setState({loaded:!0})})}},{key:"toggleModal",value:function(e){e?this.setState({toolId:e,editing:!this.state.editing}):this.setState({editing:!this.state.editing})}},{key:"generateEditorModal",value:function(){return this.state.editing?l.a.createElement(Z,{id:this.state.toolId,machine:this.props.category,toggleModal:this.toggleModal,toggleBig:this.props.toggleBig}):""}},{key:"showTools",value:function(){if(!this.state.loaded)return l.a.createElement(K,{loadingMessage:"Loading Shopping List"});switch(this.props.category){default:return l.a.createElement(j,{toggleModal:this.toggleModal,data:E.getOrdering(this.props.category),source:"ordering"});case"lathe":return l.a.createElement(C,{toggleModal:this.toggleModal,data:E.getOrdering(this.props.category),source:"ordering"});case"other":return l.a.createElement(N,{toggleModal:this.toggleModal,data:E.getOrdering(this.props.category),source:"ordering"})}}},{key:"render",value:function(){var e=this.showTools(),t=this.generateEditorModal();return l.a.createElement("div",{id:"Ordering/ToBuy"},t,l.a.createElement("div",{className:"toggle-pills inverted"},l.a.createElement("input",{type:"radio",name:"dept",id:"mill",onChange:this.toggle,checked:"mill"===this.state.tool}),l.a.createElement("label",{htmlFor:"mill"},"Mill"),l.a.createElement("input",{type:"radio",name:"dept",id:"lathe",onChange:this.toggle,checked:"lathe"===this.state.tool}),l.a.createElement("label",{htmlFor:"lathe"},"Lathe"),l.a.createElement("input",{type:"radio",name:"dept",id:"other",onChange:this.toggle,checked:"other"===this.state.tool}),l.a.createElement("label",{htmlFor:"other"},"Other")),l.a.createElement("div",null,e))}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={data:{toolData:{}},viewerMode:"Endmill",toolId:a.props.id,machine:a.props.machine,loaded:!1,modalHide:!0,redirect:!1},a.delete=a.delete.bind(Object(u.a)(Object(u.a)(a))),a.get=a.get.bind(Object(u.a)(Object(u.a)(a))),a.post=a.post.bind(Object(u.a)(Object(u.a)(a))),a.put=a.put.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.setViewerMode=a.setViewerMode.bind(Object(u.a)(Object(u.a)(a))),a.stationSelector=a.stationSelector.bind(Object(u.a)(Object(u.a)(a))),a.toggleDeleteModal=a.toggleDeleteModal.bind(Object(u.a)(Object(u.a)(a))),a.orderTool=a.orderTool.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"orderTool",value:function(){var e=E.viewForm();e.shopping=!0,e.purchased=!1,delete e.created_at,delete e.updated_at,delete e.user,delete e._id,delete e.company_id,D({user:"Andrew",tool_data:e},this.state.machine),this.props.toggleModal(),this.props.toggleBig({target:{id:"shopping"}})}},{key:"delete",value:function(){z(this.props.id,this.props.machine),this.toggleDeleteModal(),this.props.toggleModal()}},{key:"get",value:function(){this.setState({data:E.getForm("ordering",this.props.id,this.props.machine),loaded:!0})}},{key:"post",value:function(){var e=E.viewForm();e.shopping=!1,e.purchased=!1,D({user:"Andrew",tool_data:e},this.state.machine),this.props.toggleModal()}},{key:"put",value:function(){var e=E.viewForm();e.shopping=!1,e.purchased=!1,L({user:"Andrew",tool_data:e},this.state.machine)}},{key:"save",value:function(){"0"===this.state.toolId?this.post():this.put()}},{key:"componentWillMount",value:function(){A()}},{key:"setViewerMode",value:function(){if(this.state.data.tool_data.tool_type)switch(this.state.data.tool_data.tool_type){case"Endmill":this.setState({viewerMode:"Endmill"});break;case"Drill":case"Spot Drill":case"Center Drill":this.setState({viewerMode:"Drill"});break;default:this.setState({viewerMode:""})}}},{key:"stationSelector",value:function(){if(this.state.loaded){if("mill"===this.state.machine)return l.a.createElement(V,{count:this.state.count,viewerMode:this.state.viewerMode,toolData:this.state.data,toolId:this.state.toolId,save:this.save,change:this.change,output:this.output});if("lathe"===this.state.machine)return l.a.createElement(J,{count:this.state.count,toolData:this.state.data,viewerMode:this.state.viewerMode,toolId:this.state.toolId,save:this.save,change:this.change,output:this.output});if("other"===this.state.machine)return l.a.createElement(q,{count:this.state.count,toolData:this.state.data,viewerMode:this.state.viewerMode,toolId:this.state.toolId,save:this.save,change:this.change,output:this.output})}}},{key:"toggleDeleteModal",value:function(){this.setState({modalHide:!this.state.modalHide})}},{key:"componentDidMount",value:function(){"0"!==this.state.toolId?this.get():this.setState({loaded:!0})}},{key:"render",value:function(){var e=this,t=this.stationSelector();return l.a.createElement("div",null,l.a.createElement("div",{className:"sidenav-background",onClick:this.props.toggleModal}),l.a.createElement("div",{className:"modal-container"},l.a.createElement("div",{className:"modal-content editor"},l.a.createElement("div",{className:"modal-top"},l.a.createElement("h3",null,"Tool Editor"),l.a.createElement("div",{className:this.state.modalHide?"gone":""},l.a.createElement(G,{delete:this.delete,reject:this.toggleDeleteModal,link:""})),l.a.createElement("div",{className:"modal-corner-buttons"},l.a.createElement("button",{className:"button table-button delete-button",onClick:this.toggleDeleteModal},l.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})),l.a.createElement("button",{className:"button table-button close-modal-button "+("0"===this.state.toolId?"gone":""),onClick:this.orderTool},"order"),l.a.createElement("button",{onClick:function(){e.props.toggleModal("0")},className:"button table-button close-button close-modal-button"},l.a.createElement("span",{className:"close-small"},l.a.createElement("i",{className:"fa fa-times close-x"})),l.a.createElement("span",{className:"close-big"},"Return to Stock List")))),t)))}}]),t}(n.Component),ee=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={editing:!1,toolId:null,data:{},loaded:!1,tool:a.props.category},a.toggle=a.toggle.bind(Object(u.a)(Object(u.a)(a))),a.generateEditorModal=a.generateEditorModal.bind(Object(u.a)(Object(u.a)(a))),a.toggleModal=a.toggleModal.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"toggle",value:function(e){this.props.toggleCat(e.target.id),this.setState({data:E.getOrdering(e.target.id),tool:e.target.id})}},{key:"toggleModal",value:function(e){this.setState({toolId:e,editing:!this.state.editing})}},{key:"componentWillMount",value:function(){var e=this;this.setState({data:E.getShipped(this.props.category),loaded:!0}),E.on("allUpdated",function(){e.setState({loaded:!0})})}},{key:"generateEditorModal",value:function(){return this.state.editing?l.a.createElement(X,{id:this.state.toolId,machine:this.props.category,toggleModal:this.toggleModal,toggleBig:this.props.toggleBig,triggerUpdate:this.get}):""}},{key:"showTools",value:function(){if(!this.state.loaded)return l.a.createElement(K,{loadingMessage:"Loading Inventory List"});switch(this.props.category){default:return l.a.createElement(j,{toggleModal:this.toggleModal,data:E.getShipped(this.props.category),source:"stock"});case"lathe":return l.a.createElement(C,{toggleModal:this.toggleModal,data:E.getShipped(this.props.category),source:"stock"});case"other":return l.a.createElement(N,{toggleModal:this.toggleModal,data:E.getShipped(this.props.category),source:"stock"})}}},{key:"render",value:function(){var e=this.showTools(),t=this.generateEditorModal();return l.a.createElement("div",{id:"Pages/Purchased/Shipped"},t,l.a.createElement("div",{className:"toggle-pills inverted"},l.a.createElement("input",{type:"radio",name:"dept",id:"mill",onChange:this.toggle,checked:"mill"===this.state.tool}),l.a.createElement("label",{htmlFor:"mill"},"Mill"),l.a.createElement("input",{type:"radio",name:"dept",id:"lathe",onChange:this.toggle,checked:"lathe"===this.state.tool}),l.a.createElement("label",{htmlFor:"lathe"},"Lathe"),l.a.createElement("input",{type:"radio",name:"dept",id:"other",onChange:this.toggle,checked:"other"===this.state.tool}),l.a.createElement("label",{htmlFor:"other"},"Other")),l.a.createElement("div",null,e))}}]),t}(n.Component),te=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={purchased:0,subCat:"mill"},e.togglePurchase=e.togglePurchase.bind(Object(u.a)(Object(u.a)(e))),e.toggleSubCat=e.toggleSubCat.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"toggleSubCat",value:function(e){this.setState({subCat:e})}},{key:"togglePurchase",value:function(e){"shopping"===e.target.id?this.setState({purchased:0}):"purchased"===e.target.id?this.setState({purchased:1}):"shipped"===e.target.id&&this.setState({purchased:2})}},{key:"showPurchaseState",value:function(){return 1===this.state.purchased?l.a.createElement(Y,{category:this.state.subCat,toggleCat:this.toggleSubCat,toggleBig:this.togglePurchase}):0===this.state.purchased?l.a.createElement($,{category:this.state.subCat,toggleCat:this.toggleSubCat,toggleBig:this.togglePurchase}):2===this.state.purchased?l.a.createElement(ee,{category:this.state.subCat,toggleCat:this.toggleSubCat,toggleBig:this.togglePurchase}):void 0}},{key:"render",value:function(){var e=this.showPurchaseState();return l.a.createElement("div",{id:"Pages/Ordering/Ordering"},l.a.createElement("div",{className:"toggle-pills under-inverted"},l.a.createElement("input",{name:"ordering",id:"shopping",type:"radio",onChange:this.togglePurchase,checked:0===this.state.purchased}),l.a.createElement("label",{htmlFor:"shopping"},"Shopping"),l.a.createElement("input",{name:"ordering",id:"purchased",type:"radio",onChange:this.togglePurchase,checked:1===this.state.purchased}),l.a.createElement("label",{htmlFor:"purchased"},"Purchased"),l.a.createElement("input",{name:"ordering",id:"shipped",type:"radio",onChange:this.togglePurchase,checked:2===this.state.purchased}),l.a.createElement("label",{htmlFor:"shipped"},"Stock")),l.a.createElement("div",null,e))}}]),t}(n.Component),ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).toolChoices=[{value:"Tool Type",children:"Tool Type"},{value:"Endmill",children:"Endmill"},{value:"Drill",children:"Drill"},{value:"Spot Drill",children:"Spot Drill"},{value:"Chamfer Mill",children:"Chamfer Mill"},{value:"Center Drill",children:"Center Drill"},{value:"Reamer",children:"Reamer"},{value:"Key Cutter",children:"Key Cutter"},{value:"Face Mill",children:"Face Mill"},{value:"Dove Mill",children:"Dove Mill"},{value:"Tap",children:"Tap"},{value:"Inserts",children:"Inserts"},{value:"Other",children:"Other"}],a.state={data:a.props.data,edit:e.editView,tools:[{}]},a.toggleEdit=a.toggleEdit.bind(Object(u.a)(Object(u.a)(a))),a.addTool=a.addTool.bind(Object(u.a)(Object(u.a)(a))),a.toolsList=a.toolsList.bind(Object(u.a)(Object(u.a)(a))),a.parseTools=a.parseTools.bind(Object(u.a)(Object(u.a)(a))),a.showMaterial=a.showMaterial.bind(Object(u.a)(Object(u.a)(a))),a.showFluteLength=a.showFluteLength.bind(Object(u.a)(Object(u.a)(a))),a.getAdditionalParameters=a.getAdditionalParameters.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"toggleEdit",value:function(){this.setState({edit:!this.state.edit})}},{key:"save",value:function(){this.props.save(),this.toggleEdit()}},{key:"componentWillReceiveProps",value:function(e){this.setState({edit:e.editView})}},{key:"showForms",value:function(){if(this.state.edit){var e=this.toolsList();return l.a.createElement("div",null,l.a.createElement("h4",null,"Part Info"),l.a.createElement("div",{className:"setup-header"},l.a.createElement(B,{header:"Part Number: ",name:"part_number"}),l.a.createElement(B,{header:"Part Name: ",name:"part_name"}),l.a.createElement(B,{header:"Customer: ",name:"customer"}),l.a.createElement(B,{header:"Job Number: ",name:"job_number"}),l.a.createElement(B,{header:"Revision: ",name:"revision"}),l.a.createElement(B,{header:"Operation: ",name:"operation"})),l.a.createElement("h4",null,"Material Info"),l.a.createElement("div",{className:"material-info"},l.a.createElement(B,{header:"Material: ",name:"material"}),l.a.createElement(B,{header:"Material Dimensions: ",name:"material_dimensions"})),l.a.createElement("h4",null,"Work Holding"),l.a.createElement("div",{className:"work-holding"},l.a.createElement("div",{className:"column-group"},l.a.createElement(B,{header:"X-Zero: ",name:"x_zero"}),l.a.createElement(B,{header:"Y-Zero: ",name:"y_zero"}),l.a.createElement(B,{header:"Z-Zero: ",name:"z_zero"}),l.a.createElement(B,{header:"A-Zero: ",name:"A_zero"}),l.a.createElement(B,{header:"B-Zero: ",name:"B_zero"})),l.a.createElement("div",{className:"column-group"},l.a.createElement(B,{header:"Machine Requirements: ",type:"textArea",name:"machine_requirements"}),l.a.createElement(B,{header:"Parts per Cycle: ",name:"parts_per_cycle"}),l.a.createElement(B,{header:"Work Holding: ",name:"work_holding",type:"textArea"}))),l.a.createElement("h4",null,"Tools"),e,l.a.createElement("button",{onClick:this.toggleEdit,className:"button white-button"},"Cancel"),l.a.createElement("button",{onClick:this.save,className:"button save-button"},"Save"))}var t=this.descriptionToolsList();return l.a.createElement("div",{onClick:this.toggleEdit},l.a.createElement("div",{className:"part-data"},l.a.createElement("div",{className:"meta-block"},l.a.createElement("div",{className:"name-block"},l.a.createElement(M,{classes:"part-number-heading",header:"Part Number: ",value:"part_number"}),l.a.createElement("span",{className:"part-name-dash"},"-"),l.a.createElement(M,{header:"Part Name: ",classes:"part-name-heading",value:"part_name"})),l.a.createElement("h4",null,"Part Information"),l.a.createElement(M,{header:"Revision: ",classes:"revision-heading",value:"revision"}),l.a.createElement(M,{header:"Operation: ",classes:"operation-heading",value:"operation"}),l.a.createElement(M,{header:"Job Number: ",classes:"job-number-heading",value:"job_number"}),l.a.createElement(M,{header:"Customer: ",classes:"customer-heading",value:"customer"})),l.a.createElement("div",{className:"setup-info"},l.a.createElement("h4",null,"Material Information"),l.a.createElement("div",{className:"material-info"},l.a.createElement(M,{header:"Material: ",value:"material"}),l.a.createElement(M,{header:"Material Dimensions: ",value:"material_dimensions"})),l.a.createElement("h4",null,"Work Holding"),l.a.createElement("div",{className:"work-holding"},l.a.createElement("div",{className:"column-group"},l.a.createElement(M,{header:"X-Zero: ",value:"x_zero"}),l.a.createElement(M,{header:"Y-Zero: ",value:"y_zero"}),l.a.createElement(M,{header:"Z-Zero: ",value:"z_zero"}),l.a.createElement(M,{header:"A-Zero: ",value:"A_zero"}),l.a.createElement(M,{header:"B-Zero: ",value:"B_zero"})),l.a.createElement("div",{className:"column-group"},l.a.createElement(M,{header:"Machine Requirements: ",value:"machine_requirements"}),l.a.createElement(M,{header:"Parts per Cycle: ",value:"parts_per_cycle"}),l.a.createElement(M,{header:"Work Holding: ",value:"work_holding"}))))),l.a.createElement("h4",null,"Tools"),t)}},{key:"addTool",value:function(){var e=this.state.tools;e.push({}),this.setState({tools:e})}},{key:"parseTools",value:function(){var e=E.getAllToolsInCat("mill");return(e=e.map(function(e){var t=e.tool_data.diameter+'" '+("string"!==typeof e.tool_data.tool_type?e.tool_data.tool_type[0]:e.tool_data.tool_type);return{value:e._id,children:t}})).unshift({value:0,children:"Select a Tool"}),e}},{key:"showMaterial",value:function(e){return E.getFormValue("material",{subClass:"tools",index:e})[0]}},{key:"showFluteLength",value:function(e){return E.getFormValue("flute_length",{subClass:"tools",index:e})}},{key:"getAdditionalParameters",value:function(e){var t=E.getFormValue("tool",{subClass:"tools",index:e})[0],a=E.getAllToolsInCat("mill").find(function(e){return e._id===t});F({material:a.tool_data.material,flute_length:a.tool_data.flute_length},{subClass:"tools",index:e}),this.setState({data:E.viewForm()})}},{key:"descriptionToolsList",value:function(){var e=this,t=l.a.createElement("thead",{className:"tool-row"},l.a.createElement("tr",null,l.a.createElement("th",null,"Tool"),l.a.createElement("th",null,"Material"),l.a.createElement("th",null,"Flute Length"),l.a.createElement("th",null,"Tool Clearance"),l.a.createElement("th",null,"Tool Life"))),a=l.a.createElement("tr",null);return E.viewForm().tools&&(a=E.viewForm().tools.map(function(t,a){var n=e.showMaterial(a),o=e.showFluteLength(a);return l.a.createElement("tr",{key:a,className:"tool-row"},l.a.createElement("td",null,l.a.createElement("a",{href:"#"},l.a.createElement(M,{classes:"select-tool",header:"",additionalData:{subClass:"tools",index:a,fillWithData:!0},value:"tool"}))),l.a.createElement("td",null,l.a.createElement("span",{className:"fixed-value"},n)),l.a.createElement("td",null,l.a.createElement("span",{className:"fixed-value"},o,'"')),l.a.createElement("td",null,l.a.createElement(M,{classes:"tool-clearance",header:"Tool Clearance: ",units:"inches",additionalData:{subClass:"tools",index:a},value:"tool_clearance"})),l.a.createElement("td",null,l.a.createElement(M,{classes:"tool-life",header:"Tool Life: ",units:"pieces",additionalData:{subClass:"tools",index:a},value:"tool_life"})))})),l.a.createElement("table",{className:"setup-tools"},t,l.a.createElement("tbody",null,a))}},{key:"toolsList",value:function(){var e=this,t=this.parseTools();console.log(t);var a=l.a.createElement("thead",{className:"tool-row"},l.a.createElement("tr",null,l.a.createElement("th",null,"Tool"),l.a.createElement("th",null,"Material"),l.a.createElement("th",null,"Flute Length"),l.a.createElement("th",null,"Tool Clearance"),l.a.createElement("th",null,"Tool Life"))),n=this.state.tools.map(function(a,n){var o=e.showMaterial(n),s=e.showFluteLength(n);return l.a.createElement("tr",{key:n,className:"tool-row"},l.a.createElement("td",null,l.a.createElement(B,{classes:"select-tool",header:"",type:"select",additionalFunction:function(){e.getAdditionalParameters(n)},additionalData:{subClass:"tools",index:n,fillWithData:!0},name:"tool",properties:t})),l.a.createElement("td",null,l.a.createElement("span",{className:"fixed-value"},o)),l.a.createElement("td",null,l.a.createElement("span",{className:"fixed-value"},s,'"')),l.a.createElement("td",null,l.a.createElement(B,{classes:"tool-clearance",header:"Tool Clearance: ",units:"inches",type:"math",additionalData:{subClass:"tools",index:n},name:"tool_clearance"})),l.a.createElement("td",null,l.a.createElement(B,{classes:"tool-life",header:"Tool Life: ",units:"pieces",type:"number",additionalData:{subClass:"tools",index:n},name:"tool_life"})))});return l.a.createElement("div",null,l.a.createElement("table",{className:"setup-tools"},a,l.a.createElement("tbody",null,n)),l.a.createElement("button",{onClick:this.addTool,className:"button small-button white-button"},"Add Tool"))}},{key:"render",value:function(){var e=this.showForms();return l.a.createElement("div",{id:"Pages/SetupSheets/MillSetupTemplate"},e)}}]),t}(n.Component),ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={data:{},setupId:a.props.id,loaded:!1,modalHide:!0,redirect:!1,station:0,editView:!1},a.delete=a.delete.bind(Object(u.a)(Object(u.a)(a))),a.get=a.get.bind(Object(u.a)(Object(u.a)(a))),a.post=a.post.bind(Object(u.a)(Object(u.a)(a))),a.put=a.put.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.toggleDeleteModal=a.toggleDeleteModal.bind(Object(u.a)(Object(u.a)(a))),a.editTemplate=a.editTemplate.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"delete",value:function(){z(this.props.id,this.props.machine),this.toggleDeleteModal(),this.props.toggleModal()}},{key:"componentWillMount",value:function(){}},{key:"toggleStation",value:function(e){var t;switch(e.target.id){case"mill":t=0;break;case"lathe":t=1;break;case"other":t=2}this.setState({station:t})}},{key:"get",value:function(){this.setState({data:E.getForm("setupSheets",this.props.id),loaded:!0})}},{key:"post",value:function(){var e=E.viewForm();e.shopping=!0,e.purchased=!1;!function(e,t){f.dispatch({type:"NEW_SETUP",body:e,url:t})}({user:"Andrew",setup_data:e},"/setup"),this.props.toggleModal()}},{key:"put",value:function(){var e=E.viewForm();e.shopping=!0,e.purchased=!1;!function(e,t){f.dispatch({type:"EDIT_SETUP",body:e,url:t})}({user:"Andrew",setup_data:e},"/setup"),this.props.toggleModal()}},{key:"save",value:function(){"0"===this.state.setupId?this.post():this.put()}},{key:"editTemplate",value:function(e){var t=this.state.data;for(var a in e)t[a]=e[a]}},{key:"toggleDeleteModal",value:function(){this.setState({modalHide:!this.state.modalHide})}},{key:"componentDidMount",value:function(){"0"!==this.state.setupId?this.get():this.setState({loaded:!0,editView:!0})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"Pages/SetupSheets/SetupEditorModal",className:"setup-modal"},l.a.createElement("div",{className:"sidenav-background",onClick:this.props.toggleModal}),l.a.createElement("div",{className:"modal-container"},l.a.createElement("div",{className:"modal-content editor"},l.a.createElement("div",{className:"modal-top"},l.a.createElement("div",{className:this.state.modalHide?"gone":""},l.a.createElement(G,{delete:this.delete,reject:this.toggleDeleteModal})),l.a.createElement("div",{className:"modal-corner-buttons"},l.a.createElement("button",{className:"button table-button delete-button "+("0"===this.state.setupId?"gone":""),onClick:this.toggleDeleteModal},l.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})),l.a.createElement("button",{onClick:function(){e.props.toggleModal("0")},className:"button table-button close-modal-button close-button "},l.a.createElement("span",{className:"close-small"},l.a.createElement("i",{className:"fa fa-times close-x"})),l.a.createElement("span",{className:"close-big"},"Return to Shopping List")))),l.a.createElement(ae,{editTemplate:this.editTemplate,save:this.save,editView:this.state.editView,data:this.state.data}))))}}]),t}(n.Component),le=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={data:[],edit:!1,setupId:"0"},e.toggleModal=e.toggleModal.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"toggleModal",value:function(e){this.setState({edit:!this.state.edit,setupId:e})}},{key:"componentWillMount",value:function(){var e=this;E.getReady("t")&&this.setState({loaded:!0}),E.on("allUpdated",function(){e.setState({loaded:!0})})}},{key:"showTable",value:function(){return this.state.loaded?l.a.createElement(O,{addText:"add a new setup sheet",data:E.getSetupSheets(),headers:w.SetupSheets,toggleModal:this.toggleModal}):l.a.createElement(K,{loadingMessage:"loading setup sheets"})}},{key:"showModal",value:function(){return this.state.edit?l.a.createElement(ne,{id:this.state.setupId,toggleModal:this.toggleModal}):""}},{key:"render",value:function(){var e=this.showModal(),t=this.showTable();return l.a.createElement("div",{id:"Pages/SetupSheets/SetupSheets",className:"setup"},e,l.a.createElement("h3",null,"Setup Sheets"),t)}}]),t}(n.Component),oe=a(25),se=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],ie=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).userPositions=[{value:"Admin",children:"Admin"},{value:"Manager",children:"Manager"},{value:"Inspection Manager",children:"Inspection Manager"},{value:"Inspector",children:"Inspectior"},{value:"Operator",children:"Operator"},{value:"Setup Machinist",children:"Setup Machinist"},{value:"Programmer",children:"Programmer"},{value:"Purchaser",children:"Purchaser"},{value:"Accounting",children:"Accounting"}],a.state={userInfo:{},userId:a.props.id,editable:!1,newUser:!1,modalHide:!0,loaded:!1,redirect:!1},a.get=a.get.bind(Object(u.a)(Object(u.a)(a))),a.post=a.post.bind(Object(u.a)(Object(u.a)(a))),a.put=a.put.bind(Object(u.a)(Object(u.a)(a))),a.delete=a.delete.bind(Object(u.a)(Object(u.a)(a))),a.toggleEdit=a.toggleEdit.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.toggleModal=a.toggleModal.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"get",value:function(){this.setState({userInfo:E.getForm("users",this.props.id),loaded:!0})}},{key:"post",value:function(){var e,t=E.viewForm();e=t,f.dispatch({type:"CREATE_USER",body:e})}},{key:"createStates",value:function(){return se.map(function(e){return{value:e,children:e}})}},{key:"put",value:function(){var e,t=E.viewForm();e=t,f.dispatch({type:"EDIT_USER",body:e})}},{key:"delete",value:function(){var e=this,t=sessionStorage.getItem("user").split(",")[2].replace("http://localhost:3001","https://toolbbe.herokuapp.com"),a=new Request(t+"/users/"+this.state.userId,{method:"DELETE",headers:new Headers({"Content-Type":"application/json"})});fetch(a).then(function(e){return e.json()}).then(function(t){e.setState({redirect:!0})})}},{key:"toggleEdit",value:function(){this.setState({editable:!this.state.editable})}},{key:"toggleModal",value:function(){this.setState({modalHide:!this.state.modalHide})}},{key:"save",value:function(){this.state.newUser?this.post():this.put(),this.toggleEdit()}},{key:"viewInfo",value:function(){return this.state.loaded?this.state.editable?l.a.createElement("div",{className:"edit-page"},l.a.createElement(B,{header:"Name: ",name:"name",type:"textOnly"}),l.a.createElement(B,{header:"User Position: ",type:"select",name:"user_position",properties:this.userPositions}),l.a.createElement(B,{header:"Street Address: ",name:"street_address"}),l.a.createElement(B,{header:"City: ",name:"city",type:"textOnly"}),l.a.createElement(B,{header:"State: ",type:"select",name:"state",properties:this.createStates()}),l.a.createElement(B,{header:"Phone Number: ",name:"phone_number",type:"phone"}),l.a.createElement(M,{header:"Email: ",value:"email"}),l.a.createElement(M,{header:"Company Name: ",value:"company_name"}),l.a.createElement(M,{header:"Company Id: ",value:"company_id"}),l.a.createElement("span",{className:"submit-button-line"},l.a.createElement("button",{onClick:this.toggleEdit,className:"button white-button"},"Cancel"),l.a.createElement("button",{onClick:this.save,className:"button save-button"},"Save"))):l.a.createElement("div",{onClick:this.toggleEdit,className:"edit-page"},l.a.createElement(M,{header:"Name: ",value:"name"}),l.a.createElement(M,{header:"User Position: ",value:"user_position"}),l.a.createElement(M,{header:"Street Address: ",value:"street_address"}),l.a.createElement(M,{header:"City: ",value:"city"}),l.a.createElement(M,{header:"State: ",value:"state"}),l.a.createElement(M,{header:"Phone Number: ",value:"phone_number"}),l.a.createElement(M,{header:"Email: ",value:"email"}),l.a.createElement(M,{header:"Company Name: ",value:"company_name"}),l.a.createElement(M,{header:"Company Id: ",value:"company_id"})):l.a.createElement("span",{className:"loading-screen"},"Beaming all the satelites...")}},{key:"componentWillMount",value:function(){"0"!==this.state.userId?this.get():this.setState({loaded:!0})}},{key:"render",value:function(){var e=this.viewInfo();return l.a.createElement("div",null,l.a.createElement("div",{className:"sidenav-background",onClick:this.props.toggleModal}),l.a.createElement("div",{className:"modal-container"},l.a.createElement("div",{className:"modal-content editor"},l.a.createElement("div",{className:"modal-top"},l.a.createElement("h3",null,"User Profile"),l.a.createElement("div",{className:this.state.modalHide?"gone":""},l.a.createElement(G,{delete:this.delete,reject:this.toggleModal,link:"#"})),l.a.createElement("div",{className:"modal-corner-buttons"},l.a.createElement("button",{className:"button table-button delete-button",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})),l.a.createElement("button",{onClick:this.props.toggleModal,className:"button table-button close-button close-modal-button"},l.a.createElement("span",{className:"close-small"},l.a.createElement("i",{className:"fa fa-times close-x"})),l.a.createElement("span",{className:"close-big"},"Return to Users")))),e)))}}]),t}(n.Component),re=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={users:[],companies:[],editing:!1,loaded:!1,companyId:"",userId:""},e.copyButton=e.copyButton.bind(Object(u.a)(Object(u.a)(e))),e.toggleModal=e.toggleModal.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"copyButton",value:function(e){e.target.children[0].select(),document.execCommand("Copy")}},{key:"toggleModal",value:function(e){e?this.setState({userId:e,editing:!this.state.editing}):this.setState({editing:!this.state.editing})}},{key:"generateEditorModal",value:function(){return this.state.editing?l.a.createElement(ie,{id:this.state.userId,toggleModal:this.toggleModal}):""}},{key:"drawTable",value:function(){return this.state.loaded?l.a.createElement(O,{data:this.state.users,headers:w.Users,noAdd:!0,toggleModal:this.toggleModal}):l.a.createElement("span",{className:"loading-screen"},"It's a lot of work to assemble a table")}},{key:"componentWillMount",value:function(){var e=this;E.getReady("u")&&this.setState({users:E.getUsers(),loaded:!0,companyId:E.getCompanyId()}),E.on("change",function(){e.setState({loaded:!1}),e.setState({users:E.getUsers(),loaded:!0,companyId:E.getCompanyId()})})}},{key:"render",value:function(){var e=this.generateEditorModal(),t=this.drawTable();return l.a.createElement("div",{id:"Pages/Users"},e,l.a.createElement("h3",null,"Users"),l.a.createElement("div",{className:"company-id"},l.a.createElement("span",{className:"label"},"Company Id: "),l.a.createElement("span",null,this.state.companyId),l.a.createElement(oe.CopyToClipboard,{text:this.state.companyId},l.a.createElement("span",{className:"button small-button"},"Copy id"))),t)}}]),t}(n.Component),ce=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={companyInfo:{},companyId:a.props.id,editable:!1,newCompany:!1,modalHide:!0,loaded:!1,redirect:!1},a.get=a.get.bind(Object(u.a)(Object(u.a)(a))),a.post=a.post.bind(Object(u.a)(Object(u.a)(a))),a.put=a.put.bind(Object(u.a)(Object(u.a)(a))),a.toggleEdit=a.toggleEdit.bind(Object(u.a)(Object(u.a)(a))),a.change=a.change.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.toggleDelete=a.toggleDelete.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"get",value:function(){this.setState({companyInfo:E.getForm("companies",this.props.id),loaded:!0})}},{key:"post",value:function(){!function(e){f.dispatch({type:"CREATE_COMPANY",body:e})}(E.viewForm())}},{key:"createStates",value:function(){return se.map(function(e){return{value:e,children:e}})}},{key:"put",value:function(){!function(e){f.dispatch({type:"EDIT_COMPANY",body:e})}(E.viewForm())}},{key:"change",value:function(e){this.state.companyInfo[e.target.name]=e.target.value}},{key:"toggleEdit",value:function(){this.setState({editable:!this.state.editable})}},{key:"toggleDelete",value:function(){this.setState({modalHide:!this.state.modalHide})}},{key:"save",value:function(){this.state.newCompany?this.post():this.put(),this.toggleEdit()}},{key:"viewInfo",value:function(){return this.state.loaded?this.state.editable?l.a.createElement("div",{className:"edit-page"},l.a.createElement(B,{header:"Company Name: ",name:"name"}),l.a.createElement(B,{header:"Street Address: ",name:"street_address"}),l.a.createElement(B,{header:"City: ",name:"city"}),l.a.createElement(B,{header:"State: ",type:"select",name:"state",properties:this.createStates()}),l.a.createElement(B,{header:"Email: ",name:"email"}),l.a.createElement(B,{header:"Phone Number: ",name:"phone_number",type:"phone"}),l.a.createElement("span",{className:"submit-button-line"},l.a.createElement("button",{onClick:this.toggleEdit,className:"button white-button"},"Cancel"),l.a.createElement("button",{onClick:this.save,className:"button"},"Save"))):l.a.createElement("div",{onClick:this.toggleEdit,className:"edit-page"},l.a.createElement(M,{header:"Company Id: ",value:"_id"}),l.a.createElement(M,{header:"Company Name: ",value:"name"}),l.a.createElement(M,{header:"Street Addresss: ",value:"street_address"}),l.a.createElement(M,{header:"City: ",value:"city"}),l.a.createElement(M,{header:"State: ",value:"state"}),l.a.createElement(M,{header:"Email: ",value:"email"}),l.a.createElement(M,{header:"Phone Number: ",value:"phone_number"})):l.a.createElement("span",{className:"loading-screen"},"Beaming all the satelites...")}},{key:"componentWillMount",value:function(){"0"!==this.state.companyId?this.get():this.setState({loaded:!0})}},{key:"render",value:function(){var e=this.viewInfo();return l.a.createElement("div",{id:"Pages/CompanyEditor"},l.a.createElement("div",{className:"sidenav-background",onClick:this.props.toggleModal}),l.a.createElement("div",{className:"modal-container"},l.a.createElement("div",{className:"modal-content editor"},l.a.createElement("div",{className:"modal-top"},l.a.createElement("h3",null,"Company Editor"),l.a.createElement("div",{className:"modal-corner-buttons"},l.a.createElement("button",{onClick:this.props.toggleModal,className:"button table-button close-button close-modal-button"},l.a.createElement("span",{className:"close-small"},l.a.createElement("i",{className:"fa fa-times close-x"})),l.a.createElement("span",{className:"close-big"},"Return to Company")))),l.a.createElement("div",{className:"edit-page"},e))))}}]),t}(n.Component),de=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={companies:[],editing:!1,loaded:!1,companyId:""},e.toggleModal=e.toggleModal.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"toggleModal",value:function(e){e?this.setState({toolId:e,editing:!this.state.editing}):this.setState({editing:!this.state.editing})}},{key:"generateEditorModal",value:function(){return this.state.editing?l.a.createElement(ce,{id:this.state.toolId,toggleModal:this.toggleModal}):""}},{key:"drawTable",value:function(){return this.state.loaded?l.a.createElement(O,{data:this.state.companies,headers:w.Companies,noAdd:!0,noSearch:!0,toggleModal:this.toggleModal}):l.a.createElement("span",{className:"loading-screen"},"It's a lot of work to assemble a table")}},{key:"componentWillMount",value:function(){var e=this;E.getReady("c")&&this.setState({companies:E.getCompanies(),loaded:!0,companyId:E.getCompanyId()}),E.on("updatedCompanies",function(){e.setState({loaded:!1}),e.setState({companies:E.getCompanies(),loaded:!0,companyId:E.getCompanyId()})})}},{key:"render",value:function(){var e=this.generateEditorModal(),t=this.drawTable();return l.a.createElement("div",{className:"companies",id:"Pages/Companies"},e,l.a.createElement("h3",null,"My Company"),t)}}]),t}(n.Component),he=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={tabs:[{name:"Tooling",value:"ordering"},{name:"Setup Sheets",value:"setup"},{name:"Users",value:"users"},{name:"My Company",value:"companies"}]},e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"primaryContent",value:function(){return l.a.createElement("div",{id:"Main/HomePage"},l.a.createElement(k,{tabs:this.state.tabs,logout:this.props.logout,title:this.props.title}),l.a.createElement("div",{className:"page-content"},l.a.createElement(m.a,{exact:!0,path:"/",component:te}),l.a.createElement(m.a,{path:"/ordering",component:te}),l.a.createElement(m.a,{path:"/setup",component:le}),l.a.createElement(m.a,{exact:!0,path:"/companies",component:de}),l.a.createElement(m.a,{exact:!0,path:"/users",component:re})))}},{key:"render",value:function(){var e=this.primaryContent();return l.a.createElement(p.a,null,e)}}]),t}(n.Component),ue=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"progress"},l.a.createElement("div",{className:"progress-slide "+(this.props.activated?"grow ":"")}))}}]),t}(n.Component),me=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={progress:!1},a.login=a.login.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"login",value:function(){var e=this;this.props.login(),setTimeout(function(){e.props.failed||e.setState({progress:!0})},100)}},{key:"render",value:function(){return l.a.createElement("div",{className:"login-screen"},l.a.createElement("div",{className:"modal-container login-container"},l.a.createElement("div",{className:"modal-content login-modal"},l.a.createElement("div",{className:"title-box"},l.a.createElement("h1",null,this.props.title),l.a.createElement("div",{className:"login-description"},"A purchasing tool for machine shops")),l.a.createElement("div",{className:"login"},l.a.createElement("div",{className:"login-title"},"Login to your account"),l.a.createElement("div",{className:"interactions"},l.a.createElement("span",{className:"error-message fade-in "+(this.props.failed?"":"gone")},"Your email or password wasn't recognized"),l.a.createElement("input",{type:"email",onChange:this.props.update,className:"create-name "+(this.props.failed?"bad-input":""),name:"email",placeholder:"email"}),l.a.createElement("input",{type:"password",onChange:this.props.update,className:"create-name "+(this.props.failed?"bad-input":""),name:"password",placeholder:"password"}),l.a.createElement("div",{className:"finish-buttons"},l.a.createElement("button",{className:"button login-button",onClick:this.login},"Login"),l.a.createElement("button",{className:"button white-button",onClick:this.props.forgotPassword},"Forgot password"),l.a.createElement(ue,{activated:this.state.progress})))),l.a.createElement("div",{className:"register"},l.a.createElement("div",{className:"register-desc"},l.a.createElement("button",{className:"button toggle-bio",onClick:this.props.createUserBioToggle},"Find out about ToolBox"),l.a.createElement("button",{className:"button login-button white-button",onClick:this.props.createUser},"Create an Account"))))))}}]),t}(n.Component),pe=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={companyList:[],company:"new company",progress:!1,newCompany:!1},e.get=e.get.bind(Object(u.a)(Object(u.a)(e))),e.getCompany=e.getCompany.bind(Object(u.a)(Object(u.a)(e))),e.addUser=e.addUser.bind(Object(u.a)(Object(u.a)(e))),e.toggleNewCompany=e.toggleNewCompany.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"toggleNewCompany",value:function(){var e=this;this.setState({newCompany:!this.state.newCompany},function(){e.state.newCompany||e.props.resetNewToNull()})}},{key:"addUser",value:function(){var e=this;this.props.addUser(),setTimeout(function(){e.props.failed||e.setState({progress:!0})},100)}},{key:"get",value:function(){var e=this;fetch("https://toolbbe.herokuapp.com/api/companies").then(function(e){return e.json()}).then(function(t){e.setState({companyList:t})})}},{key:"componentDidMount",value:function(){this.get()}},{key:"getCompany",value:function(e){var t=this;"test"===e.target.value.toLowerCase()&&(e.target.value="5a43011d6ceec000140f63dd"),this.state.companyList.forEach(function(a){e.target.value===a._id&&(t.setState({company:a.name}),t.props.createUserInfo(e))})}},{key:"finished",value:function(){return this.props.finished?l.a.createElement("div",null,l.a.createElement("div",{className:"final-message fade-in"},"View your email for final steps to confirm your account. Thanks for joining"),l.a.createElement("button",{className:"button fade-in",onClick:this.props.createUser},"back to Login")):l.a.createElement("div",{className:"interactions"},l.a.createElement("span",{className:"error-message fade-in "+(this.props.failed?"":"gone")},this.props.failed),l.a.createElement("input",{type:"text",onChange:this.props.createUserInfo,className:"create-name required "+(this.props.failed?"bad-input":""),name:"name",placeholder:"first and last name"}),l.a.createElement("span",{className:"create-name"},l.a.createElement("input",{type:"checkbox",id:"newCompany",onChange:this.toggleNewCompany,onBlur:this.toggleNewCompany,name:"newCompany"}),l.a.createElement("label",{htmlFor:"newCompany"},"New Company")),l.a.createElement("input",{type:"text",className:"create-name "+(this.state.newCompany?"":"gone"),name:"newCompanyName",onChange:this.props.createUserInfo,placeholder:"company name"}),l.a.createElement("input",{type:"text",onChange:this.getCompany,className:"create-name required "+(this.props.failed?"bad-input ":"")+(this.state.newCompany?"gone ":""),name:"cid",placeholder:"company id"}),l.a.createElement("div",{className:"company-instructions"},"To get the company id, someone that already is associated with the company needs to login to their accound, go to the companies page, and copy the company id. Then you can enter it when you create a new user."),l.a.createElement("div",{className:"create-name "+(this.state.newCompany?"gone ":"")},this.state.company),l.a.createElement("input",{type:"email",onChange:this.props.createUserInfo,className:"create-name required "+(this.props.failed?"bad-input":""),name:"email",placeholder:"email"}),l.a.createElement("input",{type:"password",onChange:this.props.createUserInfo,className:"create-name required "+(this.props.failed?"bad-input":""),name:"pass",placeholder:"password"}),l.a.createElement("div",{className:"finish-buttons"},l.a.createElement("button",{className:"button create-button",onClick:this.addUser},"Create user"),l.a.createElement("button",{className:"button white-button",onClick:this.props.createUser},"back to Login"),l.a.createElement(ue,{activated:this.state.progress})))}},{key:"render",value:function(){var e=this.finished();return l.a.createElement("div",{className:"login-screen",id:"Main/CreateUser"},l.a.createElement("div",{className:"modal-container login-container"},l.a.createElement("div",{className:"modal-content login-modal"},l.a.createElement("div",{className:"title-box"},l.a.createElement("h1",null,this.props.title),l.a.createElement("div",{className:"login-description"},"A purchasing tool for machine shops")),l.a.createElement("div",{className:"create-user"},l.a.createElement("span",{className:"login-title"},"Set up a new account"),e))))}}]),t}(n.Component),ge=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={},e.createUserToggle=e.createUserToggle.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"createUserToggle",value:function(){this.props.createUserBioToggle(),this.props.createUser()}},{key:"render",value:function(){return l.a.createElement("div",{className:"login-screen",id:"Main/CreateUserBio"},l.a.createElement("div",{className:"modal-container login-container"},l.a.createElement("div",{className:"modal-content login-modal"},l.a.createElement("div",{className:"title-box bio-box"},l.a.createElement("h1",null,this.props.title),l.a.createElement("div",{className:"login-description"},"A purchasing tool for machine shops"),l.a.createElement("p",{className:"toolbox-bio"},"Taking a new approach to shop management, ToolBox creates an environment that lets you run your business easily and effectiently. Now you can get access to all of your data anywhere you have an internet connection. ",l.a.createElement("br",null),l.a.createElement("br",null),"With an online interface, whether you're out running errands, or in front of your computer, you can quickly see the state of the inventory in your shop. Ordering machines, tools, material, and anything else you need can be done with one button, and you can track the progress of your inventory as it goes from a vendor through your shop's jobs. ",l.a.createElement("br",null),l.a.createElement("br",null),"Click Get Started to create a free account for your company"),l.a.createElement("div",{className:"bio-button-area"},l.a.createElement("button",{className:"button login-button save-button",onClick:this.createUserToggle},"Get started"),l.a.createElement("button",{className:"button white-button",onClick:this.props.createUserBioToggle},"Back to Login"))))))}}]),t}(n.Component),be=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"login-screen",id:"Main/ResetPassword"},l.a.createElement("div",{className:"modal-container login-container"},l.a.createElement("div",{className:"modal-content login-modal"},l.a.createElement("div",{className:"title-box"},l.a.createElement("h1",null,this.props.title),l.a.createElement("div",{className:"login-description"},"A purchasing tool for machine shops")),l.a.createElement("div",{className:"create-user"},l.a.createElement("div",{className:"login-title"},"Enter an email to reset password"),l.a.createElement("div",{className:"interactions"},l.a.createElement("span",{className:"error-message fade-in "+(this.props.failed?"":"gone")},this.props.failed),l.a.createElement("input",{type:"email",onChange:this.props.update,className:"create-name "+(this.props.failed?"bad-input":""),name:"email",placeholder:"email"}),l.a.createElement("div",{className:"finish-buttons"},l.a.createElement("button",{className:"button login-button",onClick:this.props.resendPassword},"Reset Password"),l.a.createElement("button",{className:"button white-button",onClick:this.props.forgotPassword},"Back to Login")))))))}}]),t}(n.Component),fe=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={password:"",password2:"",error:!1,passShow:!1},e.testPassword=e.testPassword.bind(Object(u.a)(Object(u.a)(e))),e.enterPassword=e.enterPassword.bind(Object(u.a)(Object(u.a)(e))),e.changePassview=e.changePassview.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"testPassword",value:function(){var e=this.state.password===this.state.password2;(e=e&&this.state.password.length>6)?this.props.passReset(this.state.password):this.setState({error:!0})}},{key:"changePassview",value:function(){this.setState({passShow:!this.state.passShow})}},{key:"returnToHome",value:function(){window.location.href="http://toolboxproject.io"}},{key:"enterPassword",value:function(e){var t={};t[e.target.name]=e.target.value,this.state.error&&this.setState({error:!1}),this.setState(t)}},{key:"componentWillMount",value:function(){f.dispatch({type:"SET_PASS_RESET"})}},{key:"render",value:function(){return l.a.createElement("div",{className:"login-screen"},l.a.createElement("div",{className:"modal-container login-container"},l.a.createElement("div",{className:"modal-content login-modal"},l.a.createElement("div",{className:"title-box"},l.a.createElement("h1",null,this.props.title),l.a.createElement("div",{className:"login-description"},"A purchasing tool for machine shops")),l.a.createElement("div",{className:"create-user"},l.a.createElement("div",{className:"interactions"},l.a.createElement("div",{className:"login-title"},"Enter your new password"),l.a.createElement("br",null),l.a.createElement("span",{className:"error-message fade-in "+(this.state.error?"":"gone")},"Your password must be at least 7 characters and match both times"),l.a.createElement("input",{type:this.state.passShow?"text":"password",onChange:this.enterPassword,className:"create-name",name:"password",placeholder:"new password",autoFocus:!0}),l.a.createElement("input",{type:this.state.passShow?"text":"password",onChange:this.enterPassword,className:"create-name",name:"password2",placeholder:"re-enter your password"}),l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",onChange:this.changePassview,id:"passCheck"}),l.a.createElement("label",{htmlFor:"passCheck"},"Show password")),l.a.createElement("div",{className:"finish-buttons"},l.a.createElement("button",{className:"button login-button",onClick:this.testPassword},"Reset Password"),l.a.createElement("button",{className:"button white-button",onClick:this.returnToHome},"Cancel")))))))}}]),t}(n.Component),ve=a(17),Ee=a.n(ve);Ee.a.initializeApp({apiKey:"AIzaSyBBJsF28NkuwTww0VP9iXgGJyNsvQyTPLQ",authDomain:"machshop-2876a.firebaseapp.com",databaseURL:"https://machshop-2876a.firebaseio.com",projectId:"machshop-2876a",storageBucket:"machshop-2876a.appspot.com",messagingSenderId:"358130993280"});var ye=Ee.a.auth(),_e=(Ee.a,function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={user:null,email:"",password:"",validEmail:null,failed:null,createUser:!1,userInfo:[],finished:!1,resetPassword:!1,newCompanyName:null,title:"ToolBox",createUserBio:!1},e.loginAction=e.loginAction.bind(Object(u.a)(Object(u.a)(e))),e.logoutAction=e.logoutAction.bind(Object(u.a)(Object(u.a)(e))),e.update=e.update.bind(Object(u.a)(Object(u.a)(e))),e.createUser=e.createUser.bind(Object(u.a)(Object(u.a)(e))),e.createUserBioToggle=e.createUserBioToggle.bind(Object(u.a)(Object(u.a)(e))),e.createUserInfo=e.createUserInfo.bind(Object(u.a)(Object(u.a)(e))),e.addUser=e.addUser.bind(Object(u.a)(Object(u.a)(e))),e.post=e.post.bind(Object(u.a)(Object(u.a)(e))),e.addCompany=e.addCompany.bind(Object(u.a)(Object(u.a)(e))),e.resetNewToNull=e.resetNewToNull.bind(Object(u.a)(Object(u.a)(e))),e.forgotPassword=e.forgotPassword.bind(Object(u.a)(Object(u.a)(e))),e.resendPassword=e.resendPassword.bind(Object(u.a)(Object(u.a)(e))),e.passResetFn=e.passResetFn.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"resetNewToNull",value:function(){this.setState({newCompanyName:null})}},{key:"post",value:function(){var e=new Request("https://toolbbe.herokuapp.com/api/users",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({name:this.state.userInfo.displayName,company_name:this.state.userInfo.companyName?this.state.userInfo.companyName:"",company_id:this.state.userInfo.companyId,email:this.state.userInfo.email})});fetch(e).then(function(e){return e.json()}).catch(function(e){console.log(e)}).then(function(e){})}},{key:"addCompany",value:function(){var e=this,t=new Request("https://toolbbe.herokuapp.com/api/companies",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({name:this.state.newCompanyName,street_address:"",city:"",state:"",country:"",email:"",phone_number:""})});fetch(t).then(function(e){return e.json()}).then(function(t){var a=e.state.userInfo;a.companyId=t._id,a.companyName=t.name,ye.createUserWithEmailAndPassword(a.email,a.password).then(function(t){var n=ye.currentUser;n.updateProfile({displayName:a.displayName}).then(function(t){n.sendEmailVerification().then(function(){e.post(),e.setState({finished:!0})}).catch(function(t){e.setState({failed:"invalid email"})})}).catch(function(t){e.setState({failed:t.code})})}).catch(function(t){e.setState({failed:t.code})})})}},{key:"forgotPassword",value:function(){this.setState({resetPassword:!this.state.resetPassword})}},{key:"createUserInfo",value:function(e){this.setState({failed:!1});var t=this.state.userInfo;switch(e.target.name){case"name":t.displayName=e.target.value;break;case"cid":t.companyId=e.target.value;break;case"email":t.email=e.target.value;break;case"verifyEmail":t.vmail=e.target.value;break;case"pass":t.password=e.target.value;break;case"verifyPass":t.vword=e.target.value;break;case"newCompanyName":this.setState({newCompanyName:e.target.value});break;default:return}}},{key:"createUser",value:function(){this.setState({createUser:!this.state.createUser,failed:!1})}},{key:"createUserBioToggle",value:function(){this.setState({createUserBio:!this.state.createUserBio,failed:!1})}},{key:"componentWillMount",value:function(){f.dispatch({type:"SET_URL"}),sessionStorage.getItem("userId")&&(this.setState({validEmail:!0}),I())}},{key:"login",value:function(){var e=new URLSearchParams(window.location.search).get("mode");return this.state.validEmail?l.a.createElement(he,{logout:this.logoutAction,title:this.state.title}):this.state.createUser?l.a.createElement(pe,{addUser:this.addUser,createUser:this.createUser,createUserInfo:this.createUserInfo,finished:this.state.finished,resetNewToNull:this.resetNewToNull,failed:this.state.failed,title:this.state.title}):this.state.createUserBio?l.a.createElement(ge,{createUser:this.createUser,createUserBioToggle:this.createUserBioToggle,title:this.state.title}):this.state.resetPassword?l.a.createElement(be,{forgotPassword:this.forgotPassword,resendPassword:this.resendPassword,failed:this.state.failed,message:this.state.message,update:this.update,title:this.state.title}):"resetPassword"===e?l.a.createElement(fe,{title:this.state.title,passReset:this.passResetFn}):l.a.createElement(me,{forgotPassword:this.forgotPassword,login:this.loginAction,update:this.update,createUserBioToggle:this.createUserBioToggle,createUser:this.createUser,failed:this.state.failed,title:this.state.title})}},{key:"update",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"loginAction",value:function(){var e=this;this.setState({failed:null}),ye.signInWithEmailAndPassword(this.state.email,this.state.password).then(function(t){fetch("https://toolbbe.herokuapp.com/api/allusers").then(function(e){return e.json()}).then(function(a){if(a.length>0){var n=a.find(function(e){return e.email.toLowerCase()===t.email.toLowerCase()});I(n),sessionStorage.setItem("userId",n._id),e.setState({validEmail:t.email,password:null})}else e.setState({failed:"login database error"})})}).catch(function(t){e.setState({failed:t.code})})}},{key:"resendPassword",value:function(){var e=this;ye.sendPasswordResetEmail(this.state.email).then(function(){}).catch(function(t){e.setState({failed:t.message})})}},{key:"passResetFn",value:function(e){var t=new URLSearchParams(window.location.search).get("oobCode");ye.verifyPasswordResetCode(t).then(function(a){ye.confirmPasswordReset(t,e).then(function(e){console.log(e),window.location.href="http://www.toolboxproject.io"}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}},{key:"addUser",value:function(){var e=this;this.setState({failed:null});var t=this.state.userInfo;t.displayName&&(t.companyId||this.state.newCompanyName)&&t.email&&t.password?this.state.newCompanyName?this.addCompany():ye.createUserWithEmailAndPassword(t.email,t.password).then(function(a){var n=ye.currentUser;n.updateProfile({displayName:t.displayName}).then(function(t){n.sendEmailVerification().then(function(){e.post(),e.setState({finished:!0})}).catch(function(t){e.setState({failed:"invalid email"})})}).catch(function(t){e.setState({failed:t.code})})}).catch(function(t){e.setState({failed:t.code})}):this.setState({failed:"required fields must be filled in"})}},{key:"logoutAction",value:function(){var e=this;ye.signOut().then(function(){sessionStorage.clear(),e.setState({validEmail:null})})}},{key:"render",value:function(){var e=this.login();return l.a.createElement("div",{className:"App",id:"App"},e)}}]),t}(n.Component)),ke=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Oe(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(54);s.a.render(l.a.createElement(_e,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");ke?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Oe(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):Oe(e)})}}()}},[[26,2,1]]]);
//# sourceMappingURL=main.6e7d26f4.chunk.js.map