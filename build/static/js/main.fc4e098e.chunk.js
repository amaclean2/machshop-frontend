(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/Endmill.5e47b16f.png"},26:function(e,t,a){e.exports=a.p+"static/media/CornerRadius.3bc3ec84.png"},27:function(e,t,a){e.exports=a.p+"static/media/ToolLength.5002b063.png"},28:function(e,t,a){e.exports=a.p+"static/media/FluteLength.8a58947b.png"},29:function(e,t,a){e.exports=a.p+"static/media/Flutes.af130c71.png"},30:function(e,t,a){e.exports=a.p+"static/media/ReliefLength.40ce55e8.png"},31:function(e,t,a){e.exports=a.p+"static/media/ReliefWidth.f85c060e.png"},32:function(e,t,a){e.exports=a.p+"static/media/Diameter.87cc8bbb.png"},34:function(e,t,a){e.exports=a(65)},62:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(22),l=a.n(s),i=a(2),r=a(3),c=a(5),d=a(4),h=a(6),u=a(1),m=a(66),p=a(68),g=a(10),b=a(23),f=new(a(24).Dispatcher),v=new(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).store={form:{}},e.setMaxListeners(30),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"setUrl",value:function(){var e;e=-1!==window.location.href.indexOf("localhost")?"http://localhost:3001/api":"https://toolbbe.herokuapp.com/api",this.store=Object(g.a)({},this.store,{url:e})}},{key:"setUserInfo",value:function(e){var t=this;"object"===typeof e?(this.store=Object(g.a)({},this.store,{user:e}),this.populateOrdering(),this.populateUsers(),this.populateCompanies()):fetch("https://toolbbe.herokuapp.com/api/allusers").then(function(e){return e.json()}).then(function(e){t.store=Object(g.a)({},t.store,{user:e.find(function(e){return e._id===sessionStorage.getItem("userId")})}),t.populateOrdering(),t.populateUsers(),t.populateCompanies()})}},{key:"setPasswordReset",value:function(){this.store.limited=!0}},{key:"getPasswordReset",value:function(){return this.store.limited}},{key:"unsetPasswordReset",value:function(){this.store.limited=!1}},{key:"getUserInfo",value:function(){return this.store.user}},{key:"getReady",value:function(e){return this.store[e]}},{key:"getCompanyId",value:function(){return this.store.user.company_id}},{key:"checkFullUpdated",value:function(){this.fullUpdated.push(!0),this.fullUpdated.length>4&&(this.emit("allUpdated"),this.fullUpdated=[])}},{key:"populateOrdering",value:function(){var e=this,t=this.getCompanyId();this.store=Object(g.a)({},this.store,{ordering:this.store.ordering?this.store.ordering:[]}),this.store.t=!1,this.fullUpdated=[],fetch(this.store.url+"/shopping/mill?company_id="+t).then(function(e){return e.json()}).then(function(t){e.store.ordering=Object(g.a)({},e.store.ordering,{mill:t}),e.emit("millUpdated"),e.checkFullUpdated()}),fetch(this.store.url+"/shopping/lathe?company_id="+t).then(function(e){return e.json()}).then(function(t){e.store.ordering=Object(g.a)({},e.store.ordering,{lathe:t}),e.checkFullUpdated()}),fetch(this.store.url+"/shopping/other?company_id="+t).then(function(e){return e.json()}).then(function(t){e.store.ordering=Object(g.a)({},e.store.ordering,{other:t}),e.checkFullUpdated()}),fetch(this.store.url+"/setup?company_id="+t).then(function(e){return e.json()}).then(function(t){e.store=Object(g.a)({},e.store,{setupSheets:t}),e.store.t=!0,e.checkFullUpdated()}),fetch(this.store.url+"/jobs?company_id="+t).then(function(e){return e.json()}).then(function(t){e.store=Object(g.a)({},e.store,{jobs:t}),e.store.t=!0,e.checkFullUpdated()})}},{key:"populateUsers",value:function(){var e=this,t=this.getCompanyId(),a=this.store.url.replace("http://localhost:3001","https://toolbbe.herokuapp.com");a=a+"/users?company_id="+t,this.store.u=!1,fetch(a).then(function(e){return e.json()}).then(function(t){e.store=Object(g.a)({},e.store,{users:t}),e.store.u=!0,e.emit("change")})}},{key:"populateCompanies",value:function(){var e=this,t=this.getCompanyId(),a=this.store.url.replace("http://localhost:3001","https://toolbbe.herokuapp.com");a=a+"/companies/"+t,this.store.c=!1,fetch(a).then(function(e){return e.json()}).then(function(t){Array.isArray(t)||(t=[t]),e.store=Object(g.a)({},e.store,{companies:t}),e.store.c=!0,e.emit("updatedCompanies")})}},{key:"getForm",value:function(e,t,a){var n=JSON.parse(JSON.stringify(this.store[e])),o=(n=a?n[a]:n).find(function(e){return e._id===t});if(a||"setupSheets"===e){for(var s in o.tool_data)o[s]=o.tool_data[s];for(s in o.setup_data)o[s]=o.setup_data[s];delete o.tool_data,delete o.setup_data}return this.store.form=o,o}},{key:"viewForm",value:function(){return this.store.form}},{key:"getFormValue",value:function(e,t){return t?this.store.form[t.subClass]?(this.store.form[t.subClass].length===t.index&&this.store.form[t.subClass].push({}),this.store.form[t.subClass][t.index][e]):"":this.store.form[e]}},{key:"updateFormItem",value:function(e,t){for(var a in e)t&&t.subClass?(this.store.form[t.subClass]||(this.store.form[t.subClass]=[{}]),this.store.form[t.subClass][t.index][a]=e[a]):this.store.form[a]=e[a];this.emit("changeForm")}},{key:"resetForm",value:function(){this.store.form={}}},{key:"getOrdering",value:function(e){if(!this.store.ordering)return[];var t=JSON.parse(JSON.stringify(this.store.ordering))[e];return(t=t.filter(function(e){return e.tool_data&&!0===e.tool_data.shopping})).forEach(function(e){for(var t in e.tool_data)e[t]=e.tool_data[t];delete e.tool_data}),t}},{key:"getSetupSheets",value:function(){if(!this.store.setupSheets)return[];var e=JSON.parse(JSON.stringify(this.store.setupSheets));return e.forEach(function(e){for(var t in e.setup_data)e[t]=e.setup_data[t];delete e.setup_data}),e}},{key:"getJobs",value:function(){if(!this.store.jobs)return[];var e=JSON.parse(JSON.stringify(this.store.jobs));return e.forEach(function(e){for(var t in e.setup_data)e[t]=e.job_data[t];delete e.job_data}),e}},{key:"getAllToolsInCat",value:function(e){if(!this.store.ordering)return[];var t=JSON.parse(JSON.stringify(this.store.ordering));return t=t[e]}},{key:"getUsers",value:function(){return this.store.users}},{key:"getCompanies",value:function(){return this.store.companies}},{key:"getPurchased",value:function(e){if(!this.store.ordering)return[];var t=JSON.parse(JSON.stringify(this.store.ordering))[e];return(t=t.filter(function(e){return e.tool_data&&!e.tool_data.shopping&&e.tool_data.purchased})).forEach(function(e){for(var t in e.tool_data)e[t]=e.tool_data[t];delete e.tool_data}),t}},{key:"getShipped",value:function(e){if(!this.store.ordering)return[];var t=JSON.parse(JSON.stringify(this.store.ordering))[e];return(t=t.filter(function(e){return e.tool_data&&!e.tool_data.shopping&&!e.tool_data.purchased})).forEach(function(e){for(var t in e.tool_data)e[t]=e.tool_data[t];delete e.tool_data}),t}},{key:"sendOrder",value:function(e,t){var a=this;e.company_id=this.getCompanyId(),e.created_at=(new Date).getTime(),fetch(this.store.url+"/shopping/"+t,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){a.populateOrdering()})}},{key:"addSetup",value:function(e,t){var a=this;e.company_id=this.getCompanyId(),e.created_at=(new Date).getTime(),fetch(this.store.url+t,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){a.populateOrdering()})}},{key:"editSetup",value:function(e,t){var a=this;e.company_id=e.setup_data.company_id,delete e.setup_data.company_id,e._id=e.setup_data._id,delete e.setup_data._id,e.updated_at=(new Date).getTime(),delete e.setup_data.updated_at,e.user=e.setup_data.user,delete e.setup_data.user,e.created_at=e.setup_data.created_at,delete e.setup_data.created_at,fetch(this.store.url+t+"/"+e._id,{method:"PUT",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){a.populateOrdering()})}},{key:"editOrder",value:function(e,t){var a=this;e.company_id=e.tool_data.company_id,delete e.tool_data.company_id,e._id=e.tool_data._id,delete e.tool_data._id,e.updated_at=(new Date).getTime(),delete e.tool_data.updated_at,e.user=e.tool_data.user,delete e.tool_data.user,e.created_at=e.tool_data.created_at,delete e.tool_data.created_at;var n=this.store.url+"/shopping/"+t+"/"+e._id,o=new Request(n,{method:"PUT",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});fetch(o).then(function(e){return e.json()}).then(function(e){a.populateOrdering()})}},{key:"putUser",value:function(e){var t=this,a=this.store.url+"/users/"+e._id;a=a.replace("http://localhost:3001","https://toolbbe.herokuapp.com");var n=new Request(a,{method:"PUT",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});fetch(n).then(function(e){return e.json()}).then(function(e){t.populateUsers()})}},{key:"postUser",value:function(e){var t=this,a=this.store.url+"/users";a=a.replace("http://localhost:3001","https://toolbbe.herokuapp.com");var n=new Request(a,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});fetch(n).then(function(e){return e.json()}).then(function(e){t.populateUsers()})}},{key:"putCompany",value:function(e){var t=this,a=this.store.url+"/companies/"+e._id;a=a.replace("http://localhost:3001","https://toolbbe.herokuapp.com");var n=new Request(a,{method:"PUT",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});fetch(n).then(function(e){return e.json()}).then(function(e){t.populateCompanies()})}},{key:"postCompany",value:function(e){var t=this,a=this.store.url+"/companies";a=a.replace("http://localhost:3001","https://toolbbe.herokuapp.com");var n=new Request(a,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});fetch(n).then(function(e){return e.json()}).then(function(e){t.populateCompanies()})}},{key:"deleteOrder",value:function(e,t){var a=this;fetch(this.store.url+"/shopping/"+t+"/"+e,{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){a.populateOrdering()})}},{key:"handleActions",value:function(e){switch(e.type){case"SET_INFO":this.setUserInfo(e.position);break;case"SET_PASS_RESET":this.setPasswordReset();break;case"SET_URL":this.setUrl();break;case"NEW_ORDER":this.sendOrder(e.body,e.category);break;case"NEW_SETUP":this.addSetup(e.body,e.url);break;case"EDIT_SETUP":this.editSetup(e.body,e.url);break;case"EDIT_ORDER":this.editOrder(e.body,e.category);break;case"DELETE_ORDER":this.deleteOrder(e.id,e.category);break;case"UPDATE_FORM":this.updateFormItem(e.property,e.additionalData);break;case"RESET_FORM":this.resetForm();break;case"EDIT_USER":this.putUser(e.body);break;case"CREATE_USER":this.postUser(e.body);break;case"EDIT_COMPANY":this.putCompany(e.body);break;case"CREATE_COMPANY":this.postCompany(e.body)}}}]),t}(b.EventEmitter));f.register(v.handleActions.bind(v)),window.fluxStore=v,window.dispatcher=f;var y=v,E=a(69),O=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"contentList",value:function(){var e=this;return this.props.tabs.map(function(t,a){return o.a.createElement("li",{key:a},o.a.createElement(E.a,{to:"/"+t.value,onClick:e.props.toggleHideSideNav},t.name))})}},{key:"render",value:function(){var e=this.contentList();return o.a.createElement("div",null,o.a.createElement("div",{className:"sidenav-background "+(this.props.gone?"gone ":"")+(this.props.hidden?"fade-out ":"fade-in "),onClick:this.props.toggleHideSideNav}),o.a.createElement("div",{className:"sidenav-view "+(this.props.hidden?"hide ":"")},o.a.createElement("div",{className:"sidenav-header"},o.a.createElement("button",{className:"button white-button",onClick:this.props.logout},"Logout")),o.a.createElement("div",{className:"sidenav-content"},o.a.createElement("ul",null,e))))}}]),t}(n.Component),_=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={hidden:!0,gone:!0,data:[{value:"default",children:"Select User"},{value:"andrew_maclean",children:"Andrew Maclean"}],title:""},e.toggleHideSideNav=e.toggleHideSideNav.bind(Object(u.a)(Object(u.a)(e))),e.selectOutput=e.selectOutput.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"selectOutput",value:function(e,t){return[e,t]}},{key:"toggleHideSideNav",value:function(){var e=this;this.setState({hidden:!this.state.hidden}),setTimeout(function(){e.setState({gone:e.state.hidden})},300)}},{key:"componentWillMount",value:function(){var e=this;y.on("millUpdated",function(){var t=y.getUserInfo();e.setState({title:t.company_name})})}},{key:"showFullHeader",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"header-wrapper"},o.a.createElement("h2",null,this.props.title),o.a.createElement("div",{className:"flex-spacer"}),o.a.createElement(E.a,{className:"company-title",to:"/companies"},this.state.title),o.a.createElement("div",{className:"right-content"},o.a.createElement("i",{className:"fa fa-bars hoverable","aria-hidden":"true",onClick:this.toggleHideSideNav}))),o.a.createElement(O,{hidden:this.state.hidden,gone:this.state.gone,toggleHideSideNav:this.toggleHideSideNav,tabs:this.props.tabs,logout:this.props.logout}))}},{key:"render",value:function(){var e=this.showFullHeader();return o.a.createElement("div",null,e)}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={queryText:"",data:e.data,headers:a.props.headers.columns,filterDirection:"forewards"},a.columnNames=a.columnNames.bind(Object(u.a)(Object(u.a)(a))),a.rows=a.rows.bind(Object(u.a)(Object(u.a)(a))),a.updateQuery=a.updateQuery.bind(Object(u.a)(Object(u.a)(a))),a.filterByColumn=a.filterByColumn.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"filterByColumn",value:function(e){var t=this,a=this.state.data;a=a.sort(function(a,n){return"forewards"===t.state.filterDirection?(t.setState({filterDirection:"reverse"}),a[e]<n[e]?-1:a[e]>n[e]?1:0):(t.setState({filterDirection:"forewards"}),n[e]<a[e]?-1:n[e]>a[e]?1:0)}),this.setState({data:a})}},{key:"rows",value:function(){var e=this,t=this.state.data.map(function(t,a){var n=[],s=t,l=e.state.headers.map(function(e){return e.dataPoint});if(e.state.headers.forEach(function(e){e.searchable&&(n+=t[e.dataPoint]?String(t[e.dataPoint]).toLowerCase()+" ":"")}),-1!==n.indexOf(e.state.queryText)){var i=l.map(function(a,n){var l=s[a];if("object"===typeof l&&(l=l[1]),e.state.headers[n].link)return o.a.createElement("td",{key:n,"data-label":e.state.headers[n].title},o.a.createElement("a",{href:"#",className:"large-table-link",onClick:function(){e.props.toggleModal(t._id)}},l),o.a.createElement("span",{className:"small-table-link"},l));var i=e.state.headers[n].formatted?e.state.headers[n].formatted(l):l;return o.a.createElement("td",{key:n,"data-label":e.state.headers[n].title},i)});return o.a.createElement("tr",{key:10*a},i,o.a.createElement("td",{className:"small-row-link",onClick:function(){e.props.toggleModal(t._id)}}))}return null});return t}},{key:"updateQuery",value:function(e){this.setState({queryText:e.target.value.toLowerCase()})}},{key:"columnNames",value:function(){var e=this;return this.state.headers.map(function(t,a){return t.sortable?o.a.createElement("th",{className:"clickable-headers",onClick:function(){return e.filterByColumn(t.dataPoint)},key:a},t.title," "):o.a.createElement("th",{key:a},t.title)})}},{key:"render",value:function(){var e=this,t=this.columnNames(),a=this.rows();return o.a.createElement("div",{id:"Main/Table"},o.a.createElement("div",{className:"table-top"},o.a.createElement("div",{className:this.props.noAdd?"gone":""},o.a.createElement("button",{onClick:function(){e.props.toggleModal("0")},className:"button table-button"},this.props.addText?this.props.addText:"add")),o.a.createElement("div",{className:"search-bar "+(this.props.noSearch?"gone":"")},o.a.createElement("input",{type:"text",placeholder:"Search",onChange:this.updateQuery}))),o.a.createElement("table",{className:"important-table"},o.a.createElement("thead",null,o.a.createElement("tr",null,t)),o.a.createElement("tbody",null,a)))}}]),t}(n.Component),j={Parts:[["Part Number","part_number","e"],["Revision","part_revision"],["Part Name","part_name"],["Customer","customer"]],Users:{columns:[{title:"Name",dataPoint:"name",link:!0,sortable:!0,searchable:!0},{title:"Company Name",dataPoint:"company_name",link:!1,sortable:!0,searchable:!0},{title:"Position",dataPoint:"user_position",link:!1,sortable:!0,searchable:!1},{title:"Email",dataPoint:"email",link:!1,sortable:!0,searchable:!0}]},SetupSheets:{columns:[{title:"Part Number",dataPoint:"part_number",link:!0,sortable:!0,searchable:!0},{title:"Part Name",dataPoint:"part_name",link:!1,sortable:!0,searchable:!0},{title:"Job Number",dataPoint:"job_number",link:!1,sortable:!0,searchable:!0},{title:"Revision",dataPoint:"revision",link:!1,sortable:!0,searchable:!0},{title:"Customer",dataPoint:"customer",link:!1,sortable:!0,searchable:!0}]},Jobs:{columns:[{title:"Job Number",dataPoint:"job_number",link:!0,sortable:!0,searchable:!0},{title:"Part Number",dataPoint:"part_number",link:!1,sortable:!0,searchable:!0},{title:"Part Name",dataPoint:"part_name",link:!1,sortable:!0,searchable:!0},{title:"Revision",dataPoint:"revision",link:!1,sortable:!0,searchable:!0},{title:"Customer",dataPoint:"customer",link:!1,sortable:!0,searchable:!0}]},Companies:{columns:[{title:"Name",dataPoint:"name",link:!0,sortable:!1,searchable:!0},{title:"Id",dataPoint:"_id",link:!1,sortable:!1,searchable:!0},{title:"Location",dataPoint:"street_address",link:!1,sortable:!1,searchable:!0}]},UsersWidget:[["Name","name","e"],["Hours","hours"]],MiniJobs:[["Job Number","job_number","e"],["Start Date","date_to_start"]],JobsWidget:[["Job Number","job_number","e"],["Part Number","part_number"],["Due Date","date_to_start"]],MillTools:{columns:[{title:"Type",dataPoint:"tool_type",link:!0,sortable:!0,searchable:!0},{title:"Diameter",dataPoint:"diameter",sortable:!0,link:!1,searchable:!0},{title:"Material",dataPoint:"material",sortable:!0,link:!1,searchable:!0},{title:"EDP Number",dataPoint:"edp",sortable:!0,link:!1,searchable:!0},{title:"Location",dataPoint:"location",sortable:!0,link:!1,searchable:!0},{title:"Quantity",dataPoint:"count",sortable:!0,searchable:!0,link:!1},{title:"Added",dataPoint:"created_at",sortable:!0,link:!1,formatted:function(e){if(e){var t=new Date(e),a=t.getFullYear();return t.getMonth()+1+"-"+t.getDate()+"-"+a}return"-"}}]},LatheTools:{columns:[{title:"Type",dataPoint:"tool_type",link:!0,sortable:!0,searchable:!0},{title:"Description",dataPoint:"description",sortable:!0,link:!1,searchable:!0},{title:"Material",dataPoint:"material",sortable:!0,link:!1,searchable:!0},{title:"Location",dataPoint:"location",sortable:!0,link:!1},{title:"Quantity",dataPoint:"count",sortable:!0,link:!1,searchable:!0},{title:"Added",dataPoint:"created_at",sortable:!0,link:!1,formatted:function(e){if(e){var t=new Date(e),a=t.getFullYear();return t.getMonth()+1+"-"+t.getDate()+"-"+a}return"-"}}]},OtherTools:{columns:[{title:"Name",dataPoint:"name",link:!0,sortable:!0,searchable:!0},{title:"Description",dataPoint:"description",sortable:!0,link:!1,searchable:!0},{title:"Location",dataPoint:"location",sortable:!0,link:!1,searchable:!0},{title:"Quantity",dataPoint:"count",sortable:!0,link:!1,searchable:!0},{title:"Added",dataPoint:"created_at",sortable:!0,link:!1,formatted:function(e){if(e){var t=new Date(e),a=t.getFullYear();return t.getMonth()+1+"-"+t.getDate()+"-"+a}return"-"}}]},OrderMill:{columns:[{title:"Type",dataPoint:"tool_type",link:!0,sortable:!0,searchable:!0},{title:"Diameter",dataPoint:"diameter",sortable:!0,link:!1,searchable:!0},{title:"Material",dataPoint:"material",sortable:!0,link:!1,searchable:!0},{title:"EDP Number",dataPoint:"edp",sortable:!0,link:!1,searchable:!0},{title:"Price per Tool",dataPoint:"price",sortable:!0,link:!1,searchable:!0,formatted:function(e){return"$ "+(e=e||"-")}},{title:"Quantity",dataPoint:"count",sortable:!0,link:!1,searchable:!0},{title:"Added",dataPoint:"created_at",sortable:!0,link:!1,formatted:function(e){if(e){var t=new Date(e),a=t.getFullYear();return t.getMonth()+1+"-"+t.getDate()+"-"+a}return"-"}}]},OrderLathe:{columns:[{title:"Type",dataPoint:"tool_type",link:!0,sortable:!0,searchable:!0},{title:"Description",dataPoint:"description",link:!1,sortable:!0,searchable:!0},{title:"Material",dataPoint:"material",link:!1,sortable:!0,searchable:!0},{title:"Price per Tool",dataPoint:"price",link:!1,sortable:!0,searchable:!0,formatted:function(e){return"$ "+(e=e||"-")}},{title:"Quantity",dataPoint:"count",link:!1,sortable:!0,searchable:!0},{title:"Added",dataPoint:"created_at",sortable:!0,link:!1,formatted:function(e){if(e){var t=new Date(e),a=t.getFullYear();return t.getMonth()+1+"-"+t.getDate()+"-"+a}return"-"}}]},OrderOther:{columns:[{title:"Name",dataPoint:"name",link:!0,sortable:!0,searchable:!0},{title:"Description",dataPoint:"description",link:!1,sortable:!0,searchable:!0},{title:"Price per Part",dataPoint:"price",link:!1,sortable:!0,searchable:!0,formatted:function(e){return"$ "+(e=e||"-")}},{title:"Quantity",dataPoint:"count",link:!1,sortable:!0,searchable:!0},{title:"Added",dataPoint:"created_at",sortable:!0,link:!1,formatted:function(e){if(e){var t=new Date(e),a=t.getFullYear();return t.getMonth()+1+"-"+t.getDate()+"-"+a}return"-"}}]}},w=a(15),C=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=y.getFormValue(this.props.value,this.props.additionalData);return e="string"===typeof e||void 0===e?e:e[1],o.a.createElement("span",{className:"line-item description "+this.props.classes},o.a.createElement("span",{className:"display "+(this.props.disabled?"disabled":"")},this.props.header),o.a.createElement("div",null,o.a.createElement("span",{className:this.props.classes&&-1!==this.props.classes.indexOf("price")?"":"gone"},"$"),o.a.createElement("span",{className:"value"},e),o.a.createElement("span",{className:"input-hard-text "+(this.props.value&&this.props.units?"units-space":"gone")},this.props.units)))}}]),t}(n.Component),N=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={shown:!1,data:[],chosen:{},classes:""},e.makeSelect=e.makeSelect.bind(Object(u.a)(Object(u.a)(e))),e.toggleShown=e.toggleShown.bind(Object(u.a)(Object(u.a)(e))),e.selectItem=e.selectItem.bind(Object(u.a)(Object(u.a)(e))),e.getClasses=e.getClasses.bind(Object(u.a)(Object(u.a)(e))),e.arrows=e.arrows.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"getClasses",value:function(){if(this.props.classes){var e=this.state.classes;e+=this.props.classes+" ",this.setState({classes:e})}}},{key:"makeSelect",value:function(e){var t;if(e.data&&(t=e.data),t.forEach(function(e){e.selected=!1}),t.length)if(e.value){var a=t.find(function(t){return t.value===e.value[0]});a?a.selected=!0:t[0].selected=!0}else t[0].selected=!0;this.setState({data:t,chosen:e.value?{value:e.value[0],children:e.value[1]}:t[0]})}},{key:"componentDidMount",value:function(){this.getClasses(),this.makeSelect(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.makeSelect(e)}},{key:"selectItem",value:function(e){this.props.output({target:{value:e.value,children:e.children,name:this.props.name}}),this.setState({chosen:e}),this.toggleShown()}},{key:"arrows",value:function(e){e.preventDefault();var t,a=this.state.data;if(38===e.which){for(t=0;t<a.length;t++)a[t].selected&&(a[t].selected=!1,a[t-1].selected=!0,t=a.length);this.setState({data:a})}else if(40===e.which){for(t=0;t<a.length;t++)a[t].selected&&(a[t].selected=!1,a[t+1].selected=!0,t=a.length);this.setState({data:a})}else if(13===e.which){var n=this.state.data.find(function(e){return!0===e.selected});this.selectItem(n)}}},{key:"showList",value:function(){var e=this;return this.state.data.map(function(t,a){var n=t.selected;return o.a.createElement("li",{autoFocus:!!n,className:n?"selected":"",key:a,tabIndex:"-1",onClick:function(){e.selectItem(t)},onKeyDown:e.arrows,value:t.value},t.children)})}},{key:"toggleShown",value:function(e){this.setState({shown:!this.state.shown})}},{key:"render",value:function(){var e=this.showList();return o.a.createElement("div",{className:"ms-select "+this.state.classes,id:"Select"},o.a.createElement("div",{className:"screen-cover "+(this.state.shown?"":"gone"),onClick:this.toggleShown}),o.a.createElement("div",{tabIndex:"0",className:"shown-box",onFocus:this.toggleShown,onKeyDown:this.arrows},o.a.createElement("span",{className:"view"},this.state.chosen.children),o.a.createElement("i",{className:"fa fa-caret-up select-icon "+(this.state.shown?"spun-back":"spun down"),"aria-hidden":"true"})),o.a.createElement("ul",{className:"drop-list "+(this.state.shown?"":"gone")},e))}}]),t}(n.Component),S=["January","February","March","April","May","June","July","August","September","October","November","December"],M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={date:e.value,shown:!1,monthArray:[],shownMonth:e.value,month:S[new Date(e.value).getMonth()]+" "+new Date(e.value).getFullYear()},a.formatDate=a.formatDate.bind(Object(u.a)(Object(u.a)(a))),a.toggleShown=a.toggleShown.bind(Object(u.a)(Object(u.a)(a))),a.showCalendar=a.showCalendar.bind(Object(u.a)(Object(u.a)(a))),a.calculateCalendar=a.calculateCalendar.bind(Object(u.a)(Object(u.a)(a))),a.selectDate=a.selectDate.bind(Object(u.a)(Object(u.a)(a))),a.monthBack=a.monthBack.bind(Object(u.a)(Object(u.a)(a))),a.monthForward=a.monthForward.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"toggleShown",value:function(){this.setState({shown:!this.state.shown})}},{key:"formatDate",value:function(){var e=new Date(this.state.date),t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate(),o=e.getHours(),s=e.getMinutes(),l=e.getSeconds();return this.props.time?a+"-"+n+"-"+t+" "+o+":"+s+":"+l:a+"-"+n+"-"+t}},{key:"calculateCalendar",value:function(){var e=[],t=[],a=new Date(this.state.shownMonth),n=new Date(a.setDate(0)),o=new Date(this.state.shownMonth);o.setDate(0),o.setDate(n.getDate()-n.getDay());for(var s=0;s<6;s++){for(var l=0;l<7;l++)t.push(o.getDate()),o.setDate(o.getDate()+1);e.push(t),t=[]}this.setState({monthArray:e})}},{key:"componentWillMount",value:function(){this.calculateCalendar()}},{key:"selectDate",value:function(e){this.setState({date:e.target.getAttribute("dateval")}),this.toggleShown()}},{key:"monthBack",value:function(){var e=this,t=new Date(this.state.shownMonth);t.setMonth(t.getMonth()-1),this.setState({shownMonth:t.getTime(),month:S[t.getMonth()]+" "+t.getFullYear()},function(){e.calculateCalendar()})}},{key:"monthForward",value:function(){var e=this,t=new Date(this.state.shownMonth);t.setMonth(t.getMonth()+1),this.setState({shownMonth:t.getTime(),month:S[t.getMonth()]+" "+t.getFullYear()},function(){e.calculateCalendar()})}},{key:"showCalendar",value:function(){var e=this,t=this.state.monthArray.map(function(t,a){var n=t.map(function(t){var n=new Date(e.state.shownMonth),s="";return a<1&&t>7?n.setDate(0):a>3&&t<15&&n.setMonth(n.getMonth()+1),n.setDate(t),n.getDate()===(new Date).getDate()&&n.getMonth()===(new Date).getMonth()&&n.getFullYear()===(new Date).getFullYear()&&(s="today"),o.a.createElement("li",{key:t,className:"day-elem "+s,dateval:n,onClick:e.selectDate},t)});return o.a.createElement("li",{key:"w"+a,className:"day-row"},o.a.createElement("ul",null,n))}),a=o.a.createElement("ul",null,t);return o.a.createElement("div",{className:"calendar-box"},o.a.createElement("div",{className:"cal-header"},o.a.createElement("i",{className:"fa fa-chevron-left",onClick:this.monthBack})," ",this.state.month," ",o.a.createElement("i",{className:"fa fa-chevron-right",onClick:this.monthForward})),o.a.createElement("div",{className:"cal-days"},o.a.createElement("span",null,"S"),o.a.createElement("span",null,"M"),o.a.createElement("span",null,"T"),o.a.createElement("span",null,"W"),o.a.createElement("span",null,"T"),o.a.createElement("span",null,"F"),o.a.createElement("span",null,"S")),a)}},{key:"render",value:function(){var e=this.formatDate(),t=this.showCalendar();return o.a.createElement("div",{id:"Main/Date",className:"date-selection form-select"},o.a.createElement("div",{className:"screen-cover "+(this.state.shown?"":"gone"),onClick:this.toggleShown}),o.a.createElement("div",{tabIndex:"0",className:"shown-box",onFocus:this.toggleShown},e),o.a.createElement("div",{className:"calendar "+(this.state.shown?"":"gone")},t))}}]),t}(n.Component),T=[{size:"107",diameter:"0.0019",flute_length:"",oal_length:""},{size:"106",diameter:"0.0023",flute_length:"",oal_length:""},{size:"105",diameter:"0.0027",flute_length:"",oal_length:""},{size:"104",diameter:"0.0031",flute_length:"",oal_length:""},{size:"103",diameter:"0.0035",flute_length:"",oal_length:""},{size:"102",diameter:"0.0039",flute_length:"",oal_length:""},{size:"101",diameter:"0.0043",flute_length:"",oal_length:""},{size:"100",diameter:"0.0047",flute_length:"",oal_length:""},{size:"99",diameter:"0.0051",flute_length:"",oal_length:""},{size:"98",diameter:"0.0055",flute_length:"",oal_length:""},{size:"97",diameter:"0.0059",flute_length:"",oal_length:""},{size:"96",diameter:"0.0063",flute_length:"",oal_length:""},{size:"95",diameter:"0.0067",flute_length:"",oal_length:""},{size:"94",diameter:"0.0071",flute_length:"",oal_length:""},{size:"93",diameter:"0.0075",flute_length:"",oal_length:""},{size:"92",diameter:"0.0079",flute_length:"",oal_length:""},{size:"91",diameter:"0.0083",flute_length:"",oal_length:""},{size:"90",diameter:"0.0087",flute_length:"",oal_length:""},{size:"89",diameter:"0.0091",flute_length:"",oal_length:""},{size:"88",diameter:"0.0095",flute_length:"",oal_length:""},{size:"87",diameter:"0.01",flute_length:"",oal_length:""},{size:"86",diameter:"0.0105",flute_length:"",oal_length:""},{size:"85",diameter:"0.011",flute_length:"",oal_length:""},{size:"84",diameter:"0.0115",flute_length:"",oal_length:""},{size:"83",diameter:"0.012",flute_length:"",oal_length:""},{size:"82",diameter:"0.0125",flute_length:"",oal_length:""},{size:"81",diameter:"0.013",flute_length:"",oal_length:""},{size:"1/64",diameter:".0156",flute_length:"0.1875",oal_length:"0.75"},{size:"80",diameter:"0.0135",flute_length:"0.125",oal_length:"0.75"},{size:"79",diameter:"0.0145",flute_length:"0.125",oal_length:"0.75"},{size:"78",diameter:"0.016",flute_length:"0.1875",oal_length:"0.875"},{size:"77",diameter:"0.018",flute_length:"0.1875",oal_length:"0.875"},{size:"76",diameter:"0.020",flute_length:"0.1875",oal_length:"0.875"},{size:"75",diameter:"0.021",flute_length:"0.25",oal_length:"1.0"},{size:"74",diameter:"0.0225",flute_length:"0.25",oal_length:"1.0"},{size:"73",diameter:"0.024",flute_length:"0.3125",oal_length:"1.125"},{size:"72",diameter:"0.025",flute_length:"0.3125",oal_length:"1.125"},{size:"71",diameter:"0.026",flute_length:"0.375",oal_length:"1.25"},{size:"70",diameter:"0.028",flute_length:"0.375",oal_length:"1.25"},{size:"69",diameter:"0.0292",flute_length:"0.5",oal_length:"1.375"},{size:"68",diameter:"0.031",flute_length:"0.5",oal_length:"1.375"},{size:"67",diameter:"0.032",flute_length:"0.5",oal_length:"1.375"},{size:"66",diameter:"0.033",flute_length:"0.5",oal_length:"1.375"},{size:"65",diameter:"0.035",flute_length:"0.625",oal_length:"1.5"},{size:"64",diameter:"0.036",flute_length:"0.625",oal_length:"1.5"},{size:"63",diameter:"0.037",flute_length:"0.625",oal_length:"1.5"},{size:"62",diameter:"0.038",flute_length:"0.625",oal_length:"1.5"},{size:"61",diameter:"0.039",flute_length:"0.6875",oal_length:"1.625"},{size:"60",diameter:"0.04",flute_length:"0.6875",oal_length:"1.625"},{size:"59",diameter:"0.041",flute_length:"0.6875",oal_length:"1.625"},{size:"58",diameter:"0.042",flute_length:"0.6875",oal_length:"1.625"},{size:"57",diameter:"0.043",flute_length:"0.75",oal_length:"1.75"},{size:"56",diameter:"0.0465",flute_length:"0.75",oal_length:"1.75"},{size:"55",diameter:"0.052",flute_length:"0.875",oal_length:"1.875"},{size:"54",diameter:"0.055",flute_length:"0.875",oal_length:"1.875"},{size:"53",diameter:"0.0595",flute_length:"0.875",oal_length:"1.875"},{size:"52",diameter:"0.0635",flute_length:"0.875",oal_length:"1.875"},{size:"51",diameter:"0.067",flute_length:"1.0",oal_length:"2.0"},{size:"50",diameter:"0.07",flute_length:"1.0",oal_length:"2.0"},{size:"49",diameter:"0.073",flute_length:"1.0",oal_length:"2.0"},{size:"48",diameter:"0.076",flute_length:"1.0",oal_length:"2.0"},{size:"47",diameter:"0.0785",flute_length:"1.0",oal_length:"2.0"},{size:"46",diameter:"0.081",flute_length:"1.125",oal_length:"2.125"},{size:"45",diameter:"0.082",flute_length:"1.125",oal_length:"2.125"},{size:"44",diameter:"0.086",flute_length:"1.125",oal_length:"2.125"},{size:"43",diameter:"0.089",flute_length:"1.25",oal_length:"2.25"},{size:"42",diameter:"0.0935",flute_length:"1.25",oal_length:"2.25"},{size:"41",diameter:"0.096",flute_length:"1.375",oal_length:"1.375"},{size:"40",diameter:"0.098",flute_length:"1.375",oal_length:"1.375"},{size:"39",diameter:"0.0995",flute_length:"1.375",oal_length:"1.375"},{size:"38",diameter:"0.1015",flute_length:"1.4375",oal_length:"2.5"},{size:"37",diameter:"0.104",flute_length:"1.4375",oal_length:"2.5"},{size:"36",diameter:"0.1065",flute_length:"1.4375",oal_length:"2.5"},{size:"35",diameter:"0.11",flute_length:"1.5",oal_length:"2.625"},{size:"34",diameter:"0.111",flute_length:"1.5",oal_length:"2.625"},{size:"33",diameter:"0.113",flute_length:"1.5",oal_length:"2.625"},{size:"32",diameter:"0.116",flute_length:"1.625",oal_length:"2.75"},{size:"31",diameter:"0.12",flute_length:"1.625",oal_length:"2.75"},{size:"30",diameter:"0.1285",flute_length:"1.625",oal_length:"2.75"},{size:"29",diameter:"0.136",flute_length:"1.75",oal_length:"2.875"},{size:"28",diameter:"0.1405",flute_length:"1.75",oal_length:"2.875"},{size:"27",diameter:"0.144",flute_length:"1.875",oal_length:"3.0"},{size:"26",diameter:"0.147",flute_length:"1.875",oal_length:"3.0"},{size:"25",diameter:"0.1495",flute_length:"1.875",oal_length:"3.0"},{size:"24",diameter:"0.152",flute_length:"2.0",oal_length:"3.125"},{size:"23",diameter:"0.154",flute_length:"2.0",oal_length:"3.125"},{size:"22",diameter:"0.157",flute_length:"2.0",oal_length:"3.125"},{size:"21",diameter:"0.159",flute_length:"2.125",oal_length:"3.25"},{size:"20",diameter:"0.161",flute_length:"2.125",oal_length:"3.25"},{size:"19",diameter:"0.166",flute_length:"2.125",oal_length:"3.25"},{size:"18",diameter:"0.1695",flute_length:"2.125",oal_length:"3.25"},{size:"17",diameter:"0.173",flute_length:"2.1875",oal_length:"3.375"},{size:"16",diameter:"0.177",flute_length:"2.1875",oal_length:"3.375"},{size:"15",diameter:"0.18",flute_length:"2.1875",oal_length:"3.375"},{size:"14",diameter:"0.182",flute_length:"2.1875",oal_length:"3.375"},{size:"13",diameter:"0.185",flute_length:"2.3125",oal_length:"3.5"},{size:"12",diameter:"0.189",flute_length:"2.3125",oal_length:"3.5"},{size:"11",diameter:"0.191",flute_length:"2.3125",oal_length:"3.5"},{size:"10",diameter:"0.1935",flute_length:"2.4375",oal_length:"3.625"},{size:"9",diameter:"0.196",flute_length:"2.4375",oal_length:"3.625"},{size:"8",diameter:"0.199",flute_length:"2.4375",oal_length:"3.625"},{size:"7",diameter:"0.201",flute_length:"2.4375",oal_length:"3.625"},{size:"6",diameter:"0.204",flute_length:"2.5",oal_length:"3.75"},{size:"5",diameter:"0.2055",flute_length:"2.5",oal_length:"3.75"},{size:"4",diameter:"0.209",flute_length:"2.5",oal_length:"3.75"},{size:"3",diameter:"0.213",flute_length:"2.5",oal_length:"3.75"},{size:"2",diameter:"0.221",flute_length:"2.625",oal_length:"3.875"},{size:"1",diameter:"0.228",flute_length:"2.625",oal_length:"3.875"},{size:"A",diameter:"0.234",flute_length:"2.625",oal_length:"3.875"},{size:"B",diameter:"0.238",flute_length:"2.75",oal_length:"4.0"},{size:"C",diameter:"0.242",flute_length:"2.75",oal_length:"4.0"},{size:"D",diameter:"0.246",flute_length:"2.75",oal_length:"4.0"},{size:"E",diameter:"0.25",flute_length:"2.875",oal_length:"4.125"},{size:"F",diameter:"0.257",flute_length:"2.875",oal_length:"4.125"},{size:"G",diameter:"0.261",flute_length:"2.875",oal_length:"4.125"},{size:"H",diameter:"0.266",flute_length:"2.875",oal_length:"4.125"},{size:"I",diameter:"0.272",flute_length:"2.875",oal_length:"4.125"},{size:"J",diameter:"0.277",flute_length:"2.875",oal_length:"4.125"},{size:"K",diameter:"0.281",flute_length:"2.9375",oal_length:"4.25"},{size:"L",diameter:"0.29",flute_length:"2.9375",oal_length:"4.25"},{size:"M",diameter:"0.295",flute_length:"3.0625",oal_length:"4.375"},{size:"N",diameter:"0.302",flute_length:"3.0625",oal_length:"4.375"},{size:"O",diameter:"0.316",flute_length:"3.1875",oal_length:"4.5"},{size:"P",diameter:"0.323",flute_length:"3.3125",oal_length:"4.625"},{size:"Q",diameter:"0.332",flute_length:"3.4375",oal_length:"4.75"},{size:"R",diameter:"0.339",flute_length:"3.4375",oal_length:"4.75"},{size:"S",diameter:"0.348",flute_length:"3.5",oal_length:"4.875"},{size:"T",diameter:"0.358",flute_length:"3.5",oal_length:"4.875"},{size:"U",diameter:"0.368",flute_length:"3.625",oal_length:"4.0"},{size:"V",diameter:"0.377",flute_length:"3.625",oal_length:"4.0"},{size:"W",diameter:"0.386",flute_length:"3.75",oal_length:"5.125"},{size:"X",diameter:"0.397",flute_length:"3.75",oal_length:"5.125"},{size:"Y",diameter:"0.404",flute_length:"3.875",oal_length:"5.25"},{size:"Z",diameter:"0.413",flute_length:"3.875",oal_length:"5.25"}],I=[{size:"8",diameter:"0.75",flute_length:"0.3125",oal_length:"3.500"},{size:"7",diameter:"0.625",flute_length:"0.250",oal_length:"3.250"},{size:"6",diameter:"0.500",flute_length:"0.219",oal_length:"3.000"},{size:"5",diameter:"0.438",flute_length:"0.188",oal_length:"2.750"},{size:"4",diameter:"0.313",flute_length:"0.125",oal_length:"2.125"},{size:"3",diameter:"0.250",flute_length:"0.109",oal_length:"2.000"},{size:"2",diameter:"0.188",flute_length:"0.078",oal_length:"1.875"},{size:"1",diameter:"0.125",flute_length:"0.047",oal_length:"1.125"},{size:"0",diameter:"0.125",flute_length:"0.038",oal_length:"1.125"},{size:"00",diameter:"0.125",flute_length:"0.030",oal_length:"1.125"}];function D(e){f.dispatch({type:"SET_INFO",position:e})}function P(e,t){f.dispatch({type:"NEW_ORDER",body:e,category:t})}function z(e,t){f.dispatch({type:"EDIT_ORDER",body:e,category:t})}function F(e,t){f.dispatch({type:"DELETE_ORDER",id:e,category:t})}function U(e,t){f.dispatch({type:"UPDATE_FORM",property:e,additionalData:t})}function R(){f.dispatch({type:"RESET_FORM"})}var x={number:{format:function(e,t){var a=e.target.value;(a=a.replace(/[^0-9.]/g,"")).split(".").length>2&&(a=a.substr(0,a.length-1)),e.target.value=a,L(e,t)}},math:{format:function(e,t){var a=e.target.value,n=(a=(a=a.toString()).replace(/[^0-9\/*+\-.^]/g,"")).split("+"),o="";n.forEach(function(e,t){e.split("-").forEach(function(t,a){t.split("*").forEach(function(e,a){e.split("/").forEach(function(t,a){t=Number(t),0===a?e=t:e/=t}),e=Number(e),0===a?t=e:t*=e}),t=Number(t),0===a?e=t:e-=t}),e=Number(e),0===t?o=e:o+=e}),o=(o=Math.round(1e5*o)/1e5).toString(),e.target.value=o,L(e,t)}},phone:{format:function(e,t){console.log("here");var a=e.target.value;(a=a.replace(/[^0-9()\- ]/g,""))&&3===a.match(/[0-9]/g).length?a="("+a+") ":a&&6===a.match(/[0-9]/g).length?a+="-":a&&a.match(/[0-9]/g).length>10&&(a=a.substr(0,a.length-1)),e.target.value=a,L(e,t)}},textOnly:{format:function(e,t){e.target.value=e.target.value.replace(/[^A-z`' ]/g,""),L(e,t)}},makeMoney:{format:function(e,t){var a=Number(e.target.value);e.target.value=a.toFixed(2),L(e,t)}},checkSize:{format:function(e,t){var a,n=e.target.value;"Center Drill"===y.getFormValue("tool_type")[0]?a=I:"Drill"===y.getFormValue("tool_type")[0]&&(a=T);var o=a.find(function(t){return t.diameter===e.target.value});e.target.value=o?o.size:n,L(e,t)}},fields:function(e,t){var a={};switch(a[e.target.name]="INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName?[e.target.value,e.target.children]:e.target.value,e.target.name){case"tool_type":switch(e.target.value){case"Groove Tool":case"Dove Mill":case"Inserts":a.material=["Coated Carbide","Coated Carbide"],a.corner_radius="0";break;case"Endmill":a.material=["Coated Carbide","Coated Carbide"],a.undercut_width="0",a.undercut_length="0",a.corner_radius="0",a.flutes="4";break;case"Drill":a.material=["Cobalt","Cobalt"],a.tip_angle="118",a.undercut_width="0",a.undercut_length="0";break;case"Center Drill":a.tip_angle="60",a.material=["High Speed Steel","High Speed Steel"];break;case"Spot Drill":a.flutes="2",a.material=["Carbide","Carbide"];break;case"Reamer":a.material=["High Speed Steel","High Speed Steel"],a.flutes="6";break;case"Cutoff Tool":case"Tap":a.material=["High Speed Steel","High Speed Steel"]}a.count="1";break;case"diameter":""!==y.getFormValue("diameter")&&(a.undercut_width=a.diameter);break;case"size":var n;"Center Drill"===y.getFormValue("tool_type")[0]?n=I:"Drill"===y.getFormValue("tool_type")[0]&&(n=T);var o=n.find(function(t){return t.size===e.target.value});o&&(a.diameter=o.diameter,a.flute_length=o.flute_length,a.tool_length=o.oal_length)}U(a,t)}},L=function(e,t){x.fields(e,t)},A=x,B=function(e){function t(e){var a;Object(i.a)(this,t),a=Object(c.a)(this,Object(d.a)(t).call(this,e));var n=void 0!==y.getFormValue(e.name,e.additionalData)?y.getFormValue(e.name,e.additionalData):"";return a.state={loaded:!1,value:n,thisValue:a.props.properties&&a.props.properties[a.props.name]},a.makeSelect=a.makeSelect.bind(Object(u.a)(Object(u.a)(a))),a.makeDate=a.makeDate.bind(Object(u.a)(Object(u.a)(a))),a.makeMath=a.makeMath.bind(Object(u.a)(Object(u.a)(a))),a.change=a.change.bind(Object(u.a)(Object(u.a)(a))),a.makeMoney=a.makeMoney.bind(Object(u.a)(Object(u.a)(a))),a.makePhone=a.makePhone.bind(Object(u.a)(Object(u.a)(a))),a.changeNumber=a.changeNumber.bind(Object(u.a)(Object(u.a)(a))),a.changeText=a.changeText.bind(Object(u.a)(Object(u.a)(a))),a.checkSize=a.checkSize.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"makeSelect",value:function(){if(this.props.properties){var e=this.props.properties;return o.a.createElement(N,{output:this.change,name:this.props.name,value:this.state.value,classes:"form-select",data:e})}return null}},{key:"makeDate",value:function(){return o.a.createElement(M,{classes:"date-picker",time:this.props.time,value:(new Date).getTime()})}},{key:"checkSize",value:function(e){e=A.checkSize.format(e,this.props.additionalData)}},{key:"changeText",value:function(e){e=A.textOnly.format(e,this.props.additionalData)}},{key:"changeNumber",value:function(e){e=A.number.format(e,this.props.additionalData)}},{key:"makePhone",value:function(e){e=A.phone.format(e,this.props.additionalData)}},{key:"makeMath",value:function(e){e=A.math.format(e,this.props.additionalData)}},{key:"makeMoney",value:function(e){e=A.makeMoney.format(e,this.props.additionalData)}},{key:"change",value:function(e){A.fields(e,this.props.additionalData),this.props.additionalFunction&&this.props.additionalFunction()}},{key:"componentWillMount",value:function(){var e=this;y.on("changeForm",function(){var t=y.getFormValue(e.props.name,e.props.additionalData);e.setState({value:void 0===t?"":t,loaded:!0})})}},{key:"showType",value:function(){switch(this.props.type){case"number":return o.a.createElement("div",{className:"math-box form-select"},o.a.createElement("input",{type:"text",className:"editable-input",onChange:this.change,onBlur:this.changeNumber,value:this.state.value,name:this.props.name}),o.a.createElement("span",{className:"input-hard-text"},this.props.units));case"math":return o.a.createElement("div",{className:"math-box form-select"},o.a.createElement("input",{type:"text",onBlur:this.makeMath,name:this.props.name,value:this.state.value,onChange:this.change}),o.a.createElement("span",{className:"input-hard-text"},this.props.units));case"phone":return o.a.createElement("input",{type:"text",onChange:this.makePhone,value:this.state.value,name:this.props.name});case"textOnly":return o.a.createElement("input",{type:"text",name:this.props.name,value:this.state.value,onChange:this.change});case"date":return this.makeDate();case"select":return this.makeSelect();case"price":return o.a.createElement("div",{className:"price-box form-select"},o.a.createElement("span",{className:"input-hard-text"},"$"),o.a.createElement("input",{type:"text",placeholder:"Price",onBlur:this.makeMoney,name:this.props.name,value:this.state.value,onChange:this.change}));case"size":return o.a.createElement("input",{type:"text",className:"editable-input",onChange:this.change,onBlur:this.checkSize,value:this.state.value,name:this.props.name});case"textArea":return o.a.createElement("textarea",{className:"editable-input",onChange:this.change,value:this.state.value,name:this.props.name});default:return o.a.createElement("input",{type:"text",className:"editable-input",onChange:this.change,value:this.state.value,name:this.props.name})}}},{key:"render",value:function(){var e=this.showType();return o.a.createElement("span",{className:"line-item editable "+this.props.classes,onClick:this.props.onClick,onFocus:this.props.onClick,id:"EditableItem"},o.a.createElement("span",{className:"display"},this.props.header),e)}}]),t}(n.Component),H=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"sidenav-background",onClick:this.props.reject}),o.a.createElement("div",{className:"modal-container"},o.a.createElement("div",{className:"modal-content delete-modal"},o.a.createElement("span",null,"Are you sure you want to delete this"),o.a.createElement("div",{className:"delete-modal-button-container"},o.a.createElement("button",{onClick:this.props.delete,className:"button delete-modal-button accept"},"Yes"),o.a.createElement("button",{onClick:this.props.reject,className:"button delete-modal-button reject"},"No")))))}}]),t}(n.Component),J=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.getOperations();return o.a.createElement("div",null,o.a.createElement("div",{className:"operations-header-row"},o.a.createElement("h4",null,"Operations"),o.a.createElement("button",{className:"button",onClick:this.props.addOperation},"Add operation")),e)}}]),t}(n.Component),W=function(e){function t(e){var a,n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).state=(a={jobId:n.props.id,editable:!1,loaded:!1,modalHide:!0,newJob:!1},Object(w.a)(a,"modalHide",!0),Object(w.a)(a,"operationCount",0),a),n.get=n.get.bind(Object(u.a)(Object(u.a)(n))),n.post=n.post.bind(Object(u.a)(Object(u.a)(n))),n.put=n.put.bind(Object(u.a)(Object(u.a)(n))),n.delete=n.delete.bind(Object(u.a)(Object(u.a)(n))),n.toggleEdit=n.toggleEdit.bind(Object(u.a)(Object(u.a)(n))),n.save=n.save.bind(Object(u.a)(Object(u.a)(n))),n.toggleModal=n.toggleModal.bind(Object(u.a)(Object(u.a)(n))),n.selectOutput=n.selectOutput.bind(Object(u.a)(Object(u.a)(n))),n.deleteOperation=n.deleteOperation.bind(Object(u.a)(Object(u.a)(n))),n.saveNewOperation=n.saveNewOperation.bind(Object(u.a)(Object(u.a)(n))),n.addOperation=n.addOperation.bind(Object(u.a)(Object(u.a)(n))),n}return Object(h.a)(t,e),Object(r.a)(t,[{key:"get",value:function(){var e=this,t=sessionStorage.getItem("user").split(",")[2],a=sessionStorage.getItem("user").split(",")[1],n=new Request(t+"/jobs/"+this.state.jobId+"?company_id="+a,{method:"GET",headers:new Headers({"Content-Type":"application/json"})});fetch(n).then(function(e){return e.json()}).then(function(t){e.setState({jobInfo:t,operationCount:t.operations.length})})}},{key:"post",value:function(e,t,a,n,o,s){var l=this,i=sessionStorage.getItem("user").split(",")[2],r=new Request(i+"/jobs",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({user:e,company_id:sessionStorage.getItem("user").split(",")[1],job_number:t,material:a,part_number:n,date_to_start:o,date_started:"-",description:s,operations:[]})});fetch(r).then(function(e){return e.json()}).then(function(e){l.setState({jobId:e._id})})}},{key:"put",value:function(e,t,a,n,o,s){var l=sessionStorage.getItem("user").split(",")[2],i=new Request(l+"/jobs/"+this.state.jobInfo._id,{method:"PUT",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({user:e,company_id:sessionStorage.getItem("user").split(",")[1],job_number:t,material:a,part_number:n,date_to_start:o,date_started:"-",description:s,operations:[]})});fetch(i).then(function(e){return e.json()}).then(function(e){})}},{key:"saveNewOperation",value:function(e,t){var a=this,n=this.state.jobInfo.operations;t>this.state.jobInfo.operations.length?n.push(e):n[t]=e;var o=sessionStorage.getItem("user").split(",")[2],s=new Request(o+"/jobs/"+this.state.jobInfo._id,{method:"PUT",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({user:this.state.jobInfo.user,company_id:this.state.jobInfo.company_id,job_number:this.state.jobInfo.job_number,material:this.state.jobInfo.material,part_number:this.state.jobInfo.part_number,date_to_start:this.state.jobInfo.date_to_start,date_started:this.state.jobInfo.date_started,description:this.state.jobInfo.description,operations:n})});fetch(s).then(function(e){return e.json()}).then(function(e){a.setState({jobInfo:e,operationCount:e.operations.length})})}},{key:"deleteOperation",value:function(e){var t=this,a=this.state.jobInfo.operations;a.splice(e,1);var n=sessionStorage.getItem("user").split(",")[2],o=new Request(n+"/jobs/"+this.state.jobInfo._id,{method:"PUT",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({user:this.state.jobInfo.user,company_id:this.state.jobInfo.company_id,job_number:this.state.jobInfo.job_number,material:this.state.jobInfo.material,part_number:this.state.jobInfo.part_number,date_to_start:this.state.jobInfo.date_to_start,date_started:this.state.jobInfo.date_started,description:this.state.jobInfo.description,operations:a})});fetch(o).then(function(e){return e.json()}).then(function(e){t.setState({jobInfo:e,operationCount:e.operations.length})})}},{key:"delete",value:function(e){var t=sessionStorage.getItem("user").split(",")[2],a=new Request(t+"/jobs/"+e,{method:"DELETE",headers:new Headers({"Content-Type":"application/json"})});fetch(a).then(function(e){return e.json()}).then(function(e){})}},{key:"toggleEdit",value:function(){this.setState({editable:!this.state.editable})}},{key:"toggleModal",value:function(){this.setState({modalHide:!this.state.modalHide})}},{key:"save",value:function(){this.toggleEdit()}},{key:"selectOutput",value:function(e,t){this.state.jobInfo[t]=e}},{key:"viewInfo",value:function(){return this.state.editable?o.a.createElement("div",null,o.a.createElement(B,{header:"Job Number",name:"job_number",type:"number"}),o.a.createElement(B,{header:"Material",name:"material"}),o.a.createElement(B,{header:"Part Number",name:"part_number"}),o.a.createElement(B,{header:"Revision",name:"revision"}),o.a.createElement(B,{header:"Description",name:"description"}),o.a.createElement(B,{header:"Date to Finish",name:"date_to_finish",time:!1,type:"date"}),o.a.createElement("div",{className:"button-bar"},o.a.createElement("button",{onClick:this.toggleEdit,className:"button white-button"},"Cancel"),o.a.createElement("button",{onClick:this.save,className:"button save-button"},"Save"))):o.a.createElement("div",{onClick:this.toggleEdit},o.a.createElement(C,{header:"Job Number",value:"job_number"}),o.a.createElement(C,{header:"Material",value:"material"}),o.a.createElement(C,{header:"Part Number",value:"part_number"}),o.a.createElement(C,{header:"Revision",value:"revision"}),o.a.createElement(C,{header:"Description",value:"description"}),o.a.createElement(C,{header:"Date to Finish",value:"date_to_finish"}))}},{key:"componentWillMount",value:function(){"0"!==this.state.jobId?this.get():this.setState({editable:!0,newJob:!0})}},{key:"renderOperations",value:function(){return this.state.jobInfo.operations?o.a.createElement(J,{data:this.state.jobInfo,saveNewOperation:this.saveNewOperation,operationCount:this.state.operationCount,addOperation:this.addOperation,deleteOperation:this.deleteOperation}):null}},{key:"addOperation",value:function(){this.setState({operationCount:this.state.operationCount+1})}},{key:"render",value:function(){var e=this,t=this.viewInfo();return o.a.createElement("div",{id:"Pages/Jobs/JobEditorModal",className:"job-modal"},o.a.createElement("div",{className:"sidenav-background",onClick:this.toggleModal}),o.a.createElement("div",{className:"modal-container"},o.a.createElement("div",{className:"modal-content editor"},o.a.createElement("div",{className:"modal-top"},o.a.createElement("h3",null,"Job Editor"),o.a.createElement("div",{className:this.state.modalHide?"gone":""},o.a.createElement(H,{delete:function(){e.delete(e.state.jobId)},reject:this.toggleModal,link:"/jobs"})),o.a.createElement("div",{className:"modal-corner-buttons"},o.a.createElement("button",{className:"button table-button delete-button "+("0"===this.state.jobId?"gone":""),onClick:this.toggleDeleteModal},o.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})),o.a.createElement("button",{onClick:function(){e.props.toggleModal("0")},className:"button table-button close-modal-button close-button "},o.a.createElement("span",{className:"close-small"},o.a.createElement("i",{className:"fa fa-times close-x"})),o.a.createElement("span",{className:"close-big"},"Return to Jobs List")))),o.a.createElement("div",{className:"edit-page"},t,o.a.createElement("div",{className:"work-flow-padding card no-fade"})))))}}]),t}(n.Component),V=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"loading-block",id:"Main/LoadingBlock"},o.a.createElement("div",{className:"loading-message"},this.props.loadingMessage),o.a.createElement("div",{className:"loading-bar-container"},o.a.createElement("div",{className:"loading-bar-movement slide-across"})))}}]),t}(n.Component),q=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={data:[],edit:!1,jobId:"0"},e.toggleModal=e.toggleModal.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"toggleModal",value:function(e){this.setState({edit:!this.state.edit,setupId:e})}},{key:"componentWillMount",value:function(){var e=this;y.getReady("t")&&this.setState({loaded:!0}),y.on("allUpdated",function(){e.setState({loaded:!0})})}},{key:"showTable",value:function(){return this.state.loaded?o.a.createElement(k,{addText:"add a new job",data:y.getJobs(),headers:j.Jobs,toggleModal:this.toggleModal}):o.a.createElement(V,{loadingMessage:"loading jobs"})}},{key:"showModal",value:function(){return this.state.edit?o.a.createElement(W,{id:this.state.jobId,toggleModal:this.toggleModal}):""}},{key:"render",value:function(){var e=this.showModal(),t=this.showTable();return o.a.createElement("div",{id:"Pages/Jobs/Jobs",className:"jobs"},e,o.a.createElement("h3",null,"Jobs"),t)}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={data:e.data},a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"render",value:function(){return o.a.createElement("div",{className:"order-mill",id:"Pages/Ordering/OrderMill"},o.a.createElement(k,{addText:"stock"===this.props.source?"add a new tool":"request a new tool",noAdd:this.props.noAdd,data:this.state.data,headers:"stock"===this.props.source?j.MillTools:j.OrderMill,toggleModal:this.props.toggleModal}))}}]),t}(n.Component),Q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={data:e.data},a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"render",value:function(){return o.a.createElement("div",{className:"order-lathe",id:"Pages/Ordering/OrderLathe"},o.a.createElement(k,{addText:"stock"===this.props.source?"add a new tool":"request a new tool",noAdd:this.props.noAdd,data:this.state.data,headers:"stock"===this.props.source?j.LatheTools:j.OrderLathe,toggleModal:this.props.toggleModal}))}}]),t}(n.Component),K=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={data:e.data},a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"render",value:function(){return o.a.createElement("div",{className:"other-tools",id:"Pages/Ordering/OrderOther"},o.a.createElement(k,{addText:"stock"===this.props.source?"add a new tool":"request a new tool",noAdd:this.props.noAdd,data:this.state.data,headers:"stock"===this.props.source?j.OtherTools:j.OrderOther,toggleModal:this.props.toggleModal}))}}]),t}(n.Component),G=a(26),Z=a.n(G),$=a(27),X=a.n($),ee=a(28),te=a.n(ee),ae=a(29),ne=a.n(ae),oe=a(30),se=a.n(oe),le=a(31),ie=a.n(le),re=a(32),ce=a.n(re),de=a(19),he=a.n(de),ue=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).toolChoices=[{value:"Tool Type",children:"Tool Type"},{value:"Endmill",children:"Endmill"},{value:"Drill",children:"Drill"},{value:"Spot Drill",children:"Spot Drill"},{value:"Chamfer Mill",children:"Chamfer Mill"},{value:"Center Drill",children:"Center Drill"},{value:"Reamer",children:"Reamer"},{value:"Key Cutter",children:"Key Cutter"},{value:"Face Mill",children:"Face Mill"},{value:"Dove Mill",children:"Dove Mill"},{value:"Tap",children:"Tap"},{value:"Inserts",children:"Inserts"},{value:"Other",children:"Other"}],e.materialChoices=[{value:"Tool Material",children:"Tool Material"},{value:"Carbide",children:"Carbide"},{value:"Cobalt",children:"Cobalt"},{value:"High Speed Steel",children:"High Speed Steel"},{value:"Coated Carbide",children:"Coated Carbide"},{value:"Other",children:"Other"}],e.state={editable:!1,cfmMsg:"Save",featureImage:he.a},e.toggleEdit=e.toggleEdit.bind(Object(u.a)(Object(u.a)(e))),e.showTool=e.showTool.bind(Object(u.a)(Object(u.a)(e))),e.save=e.save.bind(Object(u.a)(Object(u.a)(e))),e.toolProps=e.toolProps.bind(Object(u.a)(Object(u.a)(e))),e.cancel=e.cancel.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"cancel",value:function(){this.toggleEdit(),"Confirm"===this.state.cfmMsg&&this.props.cancel()}},{key:"save",value:function(){this.toggleEdit(),"Confirm"===this.state.cfmMsg?this.props.buyTool():this.props.save()}},{key:"componentWillReceiveProps",value:function(e){e.readyToBuy&&this.setState({editable:!0,cfmMsg:"Confirm"})}},{key:"toolProps",value:function(e){switch(e){case"material":return["Endmill","Drill","Spot Drill","Chamfer Mill","Reamer","Face Mill","Tap","Center Drill","Key Cutter","Dove Mill","Inserts"];case"tool_length":return["Endmill","Drill","Spot Drill","Chamfer Mill","Reamer","Tap","Center Drill","Key Cutter","Dove Mill"];case"diameter":return["Endmill","Drill","Spot Drill","Chamfer Mill","Reamer","Face Mill","Key Cutter","Dove Mill"];case"flutes":return["Endmill","Spot Drill","Chamfer Mill","Reamer","Face Mill","Tap","Key Cutter","Dove Mill"];case"tip_angle":return["Drill","Spot Drill","Chamfer Mill","Tap","Dove Mill","Center Drill","Inserts"];case"flute_length":return["Endmill","Drill","Spot Drill","Chamfer Mill","Reamer","Tap"];case"corner_radius":return["Endmill","Key Cutter","Dove Mill","Inserts"];case"relief_length":case"relief_width":return["Endmill","Key Cutter","Dove Mill"];case"size":return["Drill","Center Drill","Tap"];case"cutting_height":return["Key Cutter","Inserts"];case"description":return["Inserts","Other"];case"pitch":return["Tap"];default:return["Endmill","Drill","Spot Drill","Chamfer Mill","Reamer","Face Mill","Tap","Center Drill","Key Cutter","Dove Mill","Inserts"]}}},{key:"showFeature",value:function(){return o.a.createElement("img",{src:this.state.featureImage,alt:"123",className:"tool-image"})}},{key:"showTool",value:function(e){switch(console.log(e.target.name),e.target.name){case"diameter":this.setState({featureImage:ce.a});break;case"flutes":this.setState({featureImage:ne.a});break;case"corner_radius":this.setState({featureImage:Z.a});break;case"flute_length":this.setState({featureImage:te.a});break;case"undercut_length":this.setState({featureImage:se.a});break;case"undercut_width":this.setState({featureImage:ie.a});break;case"tool_length":this.setState({featureImage:X.a});break;default:this.setState({featureImage:he.a})}}},{key:"toggleEdit",value:function(){this.setState({editable:!this.state.editable})}},{key:"showItem",value:function(e){return-1!==this.toolProps(e).indexOf(y.getFormValue("tool_type")&&y.getFormValue("tool_type")[0])?"":"gone"}},{key:"viewInfo",value:function(){return this.state.editable?o.a.createElement("div",{className:"tool-data"},o.a.createElement(B,{header:"Tool Type: ",type:"select",name:"tool_type",properties:this.toolChoices,autoFocus:!0,onClick:this.showTool}),o.a.createElement(B,{header:"Description: ",classes:this.showItem("description"),name:"description"}),o.a.createElement(B,{header:"Size: ",classes:this.showItem("size"),name:"size",type:"size",onClick:this.showTool}),o.a.createElement(B,{type:"math",units:"inches",header:"Diameter: ",classes:this.showItem("diameter"),name:"diameter",onClick:this.showTool}),o.a.createElement(B,{header:"Material: ",type:"select",output:this.props.output,classes:this.showItem("material"),name:"material",properties:this.materialChoices,onClick:this.showTool}),o.a.createElement(B,{header:"Flutes: ",classes:this.showItem("flutes"),name:"flutes",type:"number",onClick:this.showTool}),o.a.createElement(B,{classes:this.showItem("tip_angle"),header:"Dove Mill"===this.props.toolData.tool_type?"Angle: ":"Tip Angle: ",name:"tip_angle",units:"degrees",type:"math",onClick:this.showTool}),o.a.createElement(B,{header:"Flute Length: ",classes:this.showItem("flute_length"),name:"flute_length",type:"math",units:"inches",onClick:this.showTool}),o.a.createElement(B,{header:"Corner Radius: ",classes:this.showItem("corner_radius"),name:"corner_radius",type:"math",units:"inches",onClick:this.showTool}),o.a.createElement(B,{header:"Tool Length: ",classes:this.showItem("tool_length"),name:"tool_length",type:"math",units:"inches",onClick:this.showTool}),o.a.createElement(B,{header:"Inserts"===this.props.toolData.tool_type?"Thickness: ":"Cutting Height: ",classes:this.showItem("cutting_height"),name:"cutting_height",type:"math",units:"inches"}),o.a.createElement(B,{header:"Relief Width: ",classes:this.showItem("relief_width"),name:"undercut_width",type:"math",units:"inches",onClick:this.showTool}),o.a.createElement(B,{header:"Relief Length: ",classes:this.showItem("relief_length"),name:"undercut_length",units:"inches",onClick:this.showTool,type:"math"}),o.a.createElement(B,{header:"EDP Number: ",name:"edp",onClick:this.showTool}),o.a.createElement(B,{header:"Quantity: ",name:"count",onClick:this.showTool,type:"number",classes:0!==this.props.count?"":"gone"}),o.a.createElement(B,{header:"Price: ",name:"price",onClick:this.showTool,type:"price",classes:this.props.order?"":"gone"}),o.a.createElement(B,{header:"Location: ",name:"location",onClick:this.showTool,classes:this.props.order?"gone":""}),o.a.createElement(B,{header:"Notes: ",name:"notes",onClick:this.showTool,type:"textArea"}),o.a.createElement("span",{className:"submit-button-line"},o.a.createElement("button",{onClick:this.cancel,className:"button white-button"},"Cancel"),o.a.createElement("button",{onClick:this.save,className:"button save-button"},this.state.cfmMsg))):o.a.createElement("div",{onClick:this.toggleEdit,className:"tool-data"},o.a.createElement(C,{header:"Tool Type: ",value:"tool_type"}),o.a.createElement(C,{header:"Description: ",value:"description",classes:this.showItem("description")}),o.a.createElement(C,{header:"Size: ",value:"size",classes:this.showItem("size")}),o.a.createElement(C,{header:"Diameter: ",value:"diameter",classes:this.showItem("diameter"),units:"inches"}),o.a.createElement(C,{header:"Material: ",classes:this.showItem("material"),value:"material"}),o.a.createElement(C,{header:"Flutes: ",value:"flutes",classes:this.showItem("flutes")}),o.a.createElement(C,{header:"Dove Mill"===this.props.toolData.tool_type?"Angle: ":"Tip Angle: ",value:"tip_angle",classes:this.showItem("tip_angle"),units:"degrees"}),o.a.createElement(C,{header:"Flute Length: ",value:"flute_length",classes:this.showItem("flute_length"),units:"inches"}),o.a.createElement(C,{header:"Corner Radius: ",value:"corner_radius",units:"inches",classes:this.showItem("corner_radius")}),o.a.createElement(C,{header:"Tool Length: ",value:"tool_length",classes:this.showItem("tool_length"),units:"inches"}),o.a.createElement(C,{header:"Inserts"===this.props.toolData.tool_type?"Thickness: ":"Cutting Height: ",value:"cutting_height",classes:this.showItem("cutting_height"),units:"inches"}),o.a.createElement(C,{header:"Relief Width: ",value:"undercut_width",units:"inches",classes:this.showItem("relief_width")}),o.a.createElement(C,{header:"Relief Length: ",value:"undercut_length",units:"inches",classes:this.showItem("relief_length")}),o.a.createElement(C,{header:"EDP Number: ",value:"edp"}),o.a.createElement(C,{header:"Quantity: ",value:"count",classes:this.props.order?"":"gone"}),o.a.createElement(C,{header:"Price: ",value:"price",classes:"price "+(this.props.order?"":"gone")}),o.a.createElement(C,{header:"Location: ",value:"location",classes:this.props.order?"gone":""}),o.a.createElement(C,{header:"Notes: ",value:"notes",classes:"notes"}))}},{key:"componentDidMount",value:function(){"0"===this.props.toolId&&this.setState({editable:!0})}},{key:"render",value:function(){var e=this.viewInfo(),t=this.showFeature();return o.a.createElement("div",{className:"editor-content",id:"Pages/Tools/MillToolEditor"},o.a.createElement("div",{className:"tool-image"},t),o.a.createElement("div",{className:"edit-page"},e))}}]),t}(n.Component),me=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).toolChoices=[{value:"Tool Type",children:"Tool Type"},{value:"Boring Bar",children:"Boring Bar"},{value:"Inserts",children:"Inserts"},{value:"Center Drill",children:"Center Drill"},{value:"OD Tool",children:"OD Tool"},{value:"Groove Tool",children:"Groove Tool"},{value:"Drill",children:"Drill"},{value:"Cutoff Tool",children:"Cutoff Tool"},{value:"Other",children:"Other"}],a.materialChoices=[{value:"Tool Material",children:"Tool Material"},{value:"Carbide",children:"Carbide"},{value:"Cobalt",children:"Cobalt"},{value:"High Speed Steel",children:"High Speed Steel"},{value:"Coated Carbide",children:"Coated Carbide"},{value:"Other",children:"Other"}],a.state={diameter:!1,editable:!1,fluteLength:!1,radius:!1,toolLength:!1,undercut:!1,cfmMsg:"Save"},a.toggleEdit=a.toggleEdit.bind(Object(u.a)(Object(u.a)(a))),a.showTool=a.showTool.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.cancel=a.cancel.bind(Object(u.a)(Object(u.a)(a))),a.toolProps=a.toolProps.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"cancel",value:function(){this.toggleEdit(),"Confirm"===this.state.cfmMsg&&this.props.cancel()}},{key:"save",value:function(){this.toggleEdit(),"Confirm"===this.state.cfmMsg?this.props.buyTool():this.props.save()}},{key:"toolProps",value:function(e){switch(e){case"size":return["Center Drill","Drill"];case"diameter":return["Boring Bar","Center Drill","Groove Tool","Drill"];case"material":return["Boring Bar","Inserts","Center Drill","OD Tool","Groove Tool","Drill","Cutoff Tool","Other"];case"tip_angle":return["Inserts","Center Drill","OD Tool","Groove Tool","Drill"];case"corner_radius":return["Inserts","Groove Tool"];case"flute_length":return["Center Drill","Drill"];case"tool_length":return["Boring Bar","Center Drill","OD Tool","Groove Tool","Drill","Cutoff Tool"];case"cutting_height":return["Inserts","Groove Tool"];case"insert":return["Inserts"];case"description":return["Inserts","Groove Tool","OD Tool","Other"];default:return["Boring Bar","Inserts","Center Drill","OD Tool","Groove Tool","Drill","Cutoff Tool","Other"]}}},{key:"componentWillReceiveProps",value:function(e){e.readyToBuy&&this.setState({editable:!0,cfmMsg:"Confirm"})}},{key:"showTool",value:function(e){switch(e.target.name){case"tip_angle":case"diameter":this.setState({diameter:!0,fluteLength:!1,radius:!1,toolLength:!1,undercut:!1});break;case"flute_length":this.setState({diameter:!1,fluteLength:!0,radius:!1,toolLength:!1,undercut:!1});break;case"corner_radius":this.setState({fluteLength:!1,diameter:!1,radius:!0,toolLength:!1,undercut:!1});break;case"tool_length":this.setState({fluteLength:!1,radius:!1,diameter:!1,toolLength:!0,undercut:!1});break;default:this.setState({fluteLength:!1,radius:!1,diameter:!1,toolLength:!1,undercut:!1})}}},{key:"toggleEdit",value:function(){this.setState({editable:!this.state.editable})}},{key:"millImage",value:function(){switch(this.props.toolData.tool_type){case"Drill":default:return""}}},{key:"showItem",value:function(e){return-1!==this.toolProps(e).indexOf(y.getFormValue("tool_type")&&y.getFormValue("tool_type")[0])?"":"gone"}},{key:"viewInfo",value:function(){return this.state.editable?o.a.createElement("div",{className:"tool-data"},o.a.createElement(B,{header:"Tool Type: ",type:"select",name:"tool_type",properties:this.toolChoices,onClick:this.showTool}),o.a.createElement(B,{header:"Size: ",type:"size",name:"size",classes:this.showItem("size"),onClick:this.showTool}),o.a.createElement(B,{classes:this.showItem("diameter"),type:"math",header:"Diameter: ",name:"diameter",units:"inches",onClick:this.showTool}),o.a.createElement(B,{header:"Material: ",type:"select",name:"material",properties:this.materialChoices,classes:this.showItem("material"),onClick:this.showTool}),o.a.createElement(B,{classes:this.showItem("tip_angle"),header:"Tip Angle: ",name:"tip_angle",units:"degrees",type:"math",onClick:this.showTool}),o.a.createElement(B,{header:"Corner Radius: ",classes:this.showItem("corner_radius"),name:"corner_radius",type:"math",units:"inches",onClick:this.showTool}),o.a.createElement(B,{classes:this.showItem("flute_length"),header:"Flute Length: ",name:"flute_length",units:"inches",type:"math",onClick:this.showTool}),o.a.createElement(B,{header:"Tool Length: ",name:"tool_length",units:"inches",type:"math",classes:this.showItem("tool_length"),onClick:this.showTool}),o.a.createElement(B,{header:"Thickness: ",classes:this.showItem("cutting_height"),name:"cutting_height",type:"math",units:"inches",onClick:this.showTool}),o.a.createElement(B,{header:"Description: ",name:"description",classes:this.showItem("description"),onClick:this.showTool}),o.a.createElement(B,{header:"Insert Code: ",name:"insert",classes:this.showItem("insert"),onClick:this.showTool}),o.a.createElement(B,{header:"Quantity: ",type:"number",name:"count",onClick:this.showTool,classes:0!==this.props.count?"":"gone"}),o.a.createElement(B,{header:"Price: ",name:"price",onClick:this.showTool,type:"price",classes:this.props.order?"":"gone"}),o.a.createElement(B,{header:"Location: ",name:"location",onClick:this.showTool,classes:this.props.order?"gone":""}),o.a.createElement(B,{header:"Notes: ",name:"notes",onClick:this.showTool,type:"textArea"}),o.a.createElement("span",{className:"submit-button-line"},o.a.createElement("button",{onClick:this.cancel,className:"button white-button"},"Cancel"),o.a.createElement("button",{onClick:this.save,className:"button save-button"},this.state.cfmMsg))):o.a.createElement("div",{onClick:this.toggleEdit,className:"tool-data"},o.a.createElement(C,{header:"Tool Type: ",value:"tool_type"}),o.a.createElement(C,{header:"Size: ",value:"size",classes:this.showItem("size")}),o.a.createElement(C,{header:"Diameter: ",value:"diameter",units:"inches",classes:this.showItem("diameter")}),o.a.createElement(C,{header:"Material: ",value:"material"}),o.a.createElement(C,{header:"Tip Angle: ",value:"tip_angle",units:"degrees",classes:this.showItem("tip_angle")}),o.a.createElement(C,{header:"Corner Radius: ",units:"inches",classes:this.showItem("corner_radius"),value:"corner_radius"}),o.a.createElement(C,{header:"Flute Length: ",value:"flute_length",units:"inches",classes:this.showItem("flute_length")}),o.a.createElement(C,{header:"Thickness: ",value:"cutting_height",classes:this.showItem("cutting_height"),units:"inches"}),o.a.createElement(C,{header:"Tool Length: ",units:"inches",value:"tool_length"}),o.a.createElement(C,{header:"Description: ",classes:this.showItem("description"),value:"description"}),o.a.createElement(C,{header:"Insert Code: ",classes:this.showItem("insert"),value:"insert"}),o.a.createElement(C,{header:"Quantity: ",value:"count",classes:this.props.order?"":"gone"}),o.a.createElement(C,{header:"Price: ",value:"price",classes:"price "+(this.props.order?"":"gone")}),o.a.createElement(C,{header:"Location: ",value:"location",classes:this.props.order?"gone":""}),o.a.createElement(C,{header:"Notes: ",value:"notes",classes:"notes"}))}},{key:"componentDidMount",value:function(){"0"===this.props.toolId&&this.setState({editable:!0})}},{key:"render",value:function(){var e=this.viewInfo(),t=this.millImage();return o.a.createElement("div",{className:"editor-content",id:"Pages/Tools/LatheToolEditor"},o.a.createElement("div",{className:"tool-image"},t),o.a.createElement("div",{className:"edit-page"},e))}}]),t}(n.Component),pe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={diameter:!1,editable:!1,fluteLength:!1,radius:!1,toolLength:!1,undercut:!1,cfmMsg:"Save"},a.toggleEdit=a.toggleEdit.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.cancel=a.cancel.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"cancel",value:function(){this.toggleEdit(),"Confirm"===this.state.cfmMsg&&this.props.cancel()}},{key:"save",value:function(){this.toggleEdit(),"Confirm"===this.state.cfmMsg?this.props.buyTool():this.props.save()}},{key:"componentWillReceiveProps",value:function(e){e.readyToBuy&&this.setState({editable:!0,cfmMsg:"Confirm"})}},{key:"toggleEdit",value:function(){this.setState({editable:!this.state.editable})}},{key:"viewInfo",value:function(){return this.state.editable?o.a.createElement("div",null,o.a.createElement(B,{header:"Name: ",value:this.props.toolData.name,change:this.props.change,name:"name",onClick:this.showTool}),o.a.createElement(B,{header:"Description: ",change:this.props.change,name:"description",onClick:this.showTool}),o.a.createElement(B,{header:"Quantity: ",change:this.props.change,type:"number",name:"count",onClick:this.showTool,classes:0!==this.props.count?"":"gone"}),o.a.createElement(B,{header:"Price: ",change:this.props.change,name:"price",onClick:this.showTool,type:"price",classes:this.props.order?"":"gone"}),o.a.createElement(B,{header:"Location: ",change:this.props.change,name:"location",onClick:this.showTool,classes:this.props.order?"gone":""}),o.a.createElement(B,{header:"Notes: ",change:this.props.change,name:"notes",onClick:this.showTool,type:"textArea"}),o.a.createElement("span",{className:"submit-button-line"},o.a.createElement("button",{onClick:this.cancel,className:"button white-button"},"Cancel"),o.a.createElement("button",{onClick:this.save,className:"button save-button"},this.state.cfmMsg))):o.a.createElement("div",{onClick:this.toggleEdit},o.a.createElement(C,{header:"Name: ",value:"name"}),o.a.createElement(C,{header:"Description: ",value:"description"}),o.a.createElement(C,{header:"Quantity: ",value:"count",classes:this.props.order?"":"gone"}),o.a.createElement(C,{header:"Price: ",value:"price",classes:"price "+(this.props.order?"":"gone")}),o.a.createElement(C,{header:"Location: ",value:"location",classes:this.props.order?"gone":""}),o.a.createElement(C,{header:"Notes: ",value:"notes",classes:"notes"}))}},{key:"componentDidMount",value:function(){"0"===this.props.toolId&&this.setState({editable:!0})}},{key:"render",value:function(){var e=this.viewInfo();return o.a.createElement("div",{className:"editor-content"},o.a.createElement("div",{className:"edit-page"},e))}}]),t}(n.Component),ge=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={data:{toolData:{}},viewerMode:"Endmill",toolId:a.props.id,machine:a.props.machine,loaded:!1,modalHide:!0,redirect:!1,readyToBuy:!1},a.delete=a.delete.bind(Object(u.a)(Object(u.a)(a))),a.get=a.get.bind(Object(u.a)(Object(u.a)(a))),a.put=a.put.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.setViewerMode=a.setViewerMode.bind(Object(u.a)(Object(u.a)(a))),a.stationSelector=a.stationSelector.bind(Object(u.a)(Object(u.a)(a))),a.toggleDeleteModal=a.toggleDeleteModal.bind(Object(u.a)(Object(u.a)(a))),a.receiveTool=a.receiveTool.bind(Object(u.a)(Object(u.a)(a))),a.confirmPurchase=a.confirmPurchase.bind(Object(u.a)(Object(u.a)(a))),a.cancelPurchase=a.cancelPurchase.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"confirmPurchase",value:function(){this.setState({readyToBuy:!0})}},{key:"cancelPurchase",value:function(){this.setState({readyToBuy:!1})}},{key:"get",value:function(){this.setState({data:y.getForm("ordering",this.props.id,this.props.machine),loaded:!0})}},{key:"receiveTool",value:function(){var e=y.viewForm();e.shopping=!1,e.purchased=!1,z({tool_data:e},this.state.machine),this.props.toggleModal(),this.props.toggleBig({target:{id:"shipped"}})}},{key:"componentWillMount",value:function(){R()}},{key:"delete",value:function(){F(this.props.id,this.props.machine),this.toggleDeleteModal(),this.props.toggleModal()}},{key:"put",value:function(){var e=y.viewForm();e.shopping=!1,e.purchased=!0,z({tool_data:e},this.state.machine)}},{key:"save",value:function(){this.put()}},{key:"setViewerMode",value:function(){if(this.state.data.tool_data.tool_type)switch(this.state.data.tool_data.tool_type){case"Endmill":this.setState({viewerMode:"Endmill"});break;case"Drill":case"Spot Drill":case"Center Drill":this.setState({viewerMode:"Drill"});break;default:this.setState({viewerMode:""})}}},{key:"stationSelector",value:function(){if(this.state.loaded){if("mill"===this.state.machine)return o.a.createElement(ue,{readyToBuy:this.state.readyToBuy,count:this.state.count,viewerMode:this.state.viewerMode,toolData:this.state.data,toolId:this.state.toolId,save:this.save,order:!0,buyTool:this.receiveTool,cancel:this.cancelPurchase});if("lathe"===this.state.machine)return o.a.createElement(me,{readyToBuy:this.state.readyToBuy,count:this.state.count,toolData:this.state.data,viewerMode:this.state.viewerMode,toolId:this.state.toolId,save:this.save,order:!0,buyTool:this.receiveTool,cancel:this.cancelPurchase});if("other"===this.state.machine)return o.a.createElement(pe,{readyToBuy:this.state.readyToBuy,count:this.state.count,toolData:this.state.data,viewerMode:this.state.viewerMode,toolId:this.state.toolId,save:this.save,order:!0,buyTool:this.receiveTool,cancel:this.cancelPurchase})}}},{key:"toggleDeleteModal",value:function(){this.setState({modalHide:!this.state.modalHide})}},{key:"componentDidMount",value:function(){"0"!==this.state.toolId?this.get():this.setState({loaded:!0})}},{key:"render",value:function(){var e=this,t=this.stationSelector();return o.a.createElement("div",null,o.a.createElement("div",{className:"sidenav-background",onClick:this.props.toggleModal}),o.a.createElement("div",{className:"modal-container"},o.a.createElement("div",{className:"modal-content editor"},o.a.createElement("div",{className:"modal-top"},o.a.createElement("h3",null,"Tool Editor"),o.a.createElement("div",{className:this.state.modalHide?"gone":""},o.a.createElement(H,{delete:this.delete,reject:this.toggleDeleteModal,link:""})),o.a.createElement("div",{className:"modal-corner-buttons"},o.a.createElement("button",{className:"button table-button delete-button "+("0"===this.state.toolId||this.state.readyToBuy?"gone":""),onClick:this.toggleDeleteModal},o.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})),o.a.createElement("button",{className:"button table-button close-modal-button "+("0"===this.state.toolId||this.state.readyToBuy?"gone":""),onClick:this.confirmPurchase},"receive"),o.a.createElement("button",{onClick:function(){e.props.toggleModal("0")},className:"button table-button close-modal-button close-button "+(this.state.readyToBuy?"gone":"")},o.a.createElement("span",{className:"close-small"},o.a.createElement("i",{className:"fa fa-times close-x"})),o.a.createElement("span",{className:"close-big"},"Return to Purchased List")))),o.a.createElement("div",{className:"purchase-command fade-in "+(this.state.readyToBuy?"":"gone")},"Check what you're receiving"),t)))}}]),t}(n.Component),be=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={editing:!1,toolId:null,data:{},loaded:!1,tool:a.props.category},a.toggle=a.toggle.bind(Object(u.a)(Object(u.a)(a))),a.generateEditorModal=a.generateEditorModal.bind(Object(u.a)(Object(u.a)(a))),a.toggleModal=a.toggleModal.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"toggle",value:function(e){this.props.toggleCat(e.target.id),this.setState({data:y.getOrdering(e.target.id),tool:e.target.id})}},{key:"componentWillMount",value:function(){var e=this;this.setState({data:y.getPurchased(this.props.category),loaded:!0}),y.on("allUpdated",function(){e.setState({loaded:!0})})}},{key:"toggleModal",value:function(e){this.setState({toolId:e,editing:!this.state.editing})}},{key:"generateEditorModal",value:function(){return this.state.editing?o.a.createElement(ge,{id:this.state.toolId,machine:this.props.category,toggleModal:this.toggleModal,toggleBig:this.props.toggleBig,triggerUpdate:this.get}):""}},{key:"showTools",value:function(){if(!this.state.loaded)return o.a.createElement(V,{loadingMessage:"Loading Purchased List"});switch(this.props.category){default:return o.a.createElement(Y,{toggleModal:this.toggleModal,data:y.getPurchased(this.props.category),noAdd:!0,source:"ordering"});case"lathe":return o.a.createElement(Q,{toggleModal:this.toggleModal,data:y.getPurchased(this.props.category),noAdd:!0,source:"ordering"});case"other":return o.a.createElement(K,{toggleModal:this.toggleModal,data:y.getPurchased(this.props.category),noAdd:!0,source:"ordering"})}}},{key:"render",value:function(){var e=this.showTools(),t=this.generateEditorModal();return o.a.createElement("div",{id:"Purchased"},t,o.a.createElement("div",{className:"toggle-pills inverted"},o.a.createElement("input",{type:"radio",name:"dept",id:"mill",onChange:this.toggle,checked:"mill"===this.state.tool}),o.a.createElement("label",{htmlFor:"mill"},"Mill"),o.a.createElement("input",{type:"radio",name:"dept",id:"lathe",onChange:this.toggle,checked:"lathe"===this.state.tool}),o.a.createElement("label",{htmlFor:"lathe"},"Lathe"),o.a.createElement("input",{type:"radio",name:"dept",id:"other",onChange:this.toggle,checked:"other"===this.state.tool}),o.a.createElement("label",{htmlFor:"other"},"Other")),o.a.createElement("div",null,e))}}]),t}(n.Component),fe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={data:{tool_data:{}},viewerMode:"Endmill",toolId:a.props.id,machine:a.props.machine,loaded:!1,modalHide:!0,redirect:!1,readyToBuy:!1},a.delete=a.delete.bind(Object(u.a)(Object(u.a)(a))),a.get=a.get.bind(Object(u.a)(Object(u.a)(a))),a.post=a.post.bind(Object(u.a)(Object(u.a)(a))),a.put=a.put.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.setViewerMode=a.setViewerMode.bind(Object(u.a)(Object(u.a)(a))),a.stationSelector=a.stationSelector.bind(Object(u.a)(Object(u.a)(a))),a.toggleDeleteModal=a.toggleDeleteModal.bind(Object(u.a)(Object(u.a)(a))),a.buyTool=a.buyTool.bind(Object(u.a)(Object(u.a)(a))),a.confirmPurchase=a.confirmPurchase.bind(Object(u.a)(Object(u.a)(a))),a.cancelPurchase=a.cancelPurchase.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"confirmPurchase",value:function(){this.setState({readyToBuy:!0})}},{key:"cancelPurchase",value:function(){this.setState({readyToBuy:!1})}},{key:"buyTool",value:function(){var e=y.viewForm();e.shopping=!1,e.purchased=!0,z({tool_data:e},this.state.machine),this.props.toggleModal(),this.props.toggleBig({target:{id:"purchased"}})}},{key:"delete",value:function(){F(this.props.id,this.props.machine),this.toggleDeleteModal(),this.props.toggleModal()}},{key:"componentWillMount",value:function(){R()}},{key:"get",value:function(){this.setState({data:y.getForm("ordering",this.props.id,this.props.machine),loaded:!0})}},{key:"post",value:function(){var e=y.viewForm();e.shopping=!0,e.purchased=!1,P({user:"Andrew",tool_data:e},this.state.machine),this.props.toggleModal()}},{key:"put",value:function(){var e=y.viewForm();e.shopping=!0,e.purchased=!1,z({tool_data:e},this.state.machine)}},{key:"save",value:function(){"0"===this.state.toolId?this.post():this.put()}},{key:"setViewerMode",value:function(){if(this.state.data.tool_data.tool_type)switch(this.state.data.tool_data.tool_type){case"Endmill":this.setState({viewerMode:"Endmill"});break;case"Drill":case"Spot Drill":case"Center Drill":this.setState({viewerMode:"Drill"});break;default:this.setState({viewerMode:""})}}},{key:"stationSelector",value:function(){if(this.state.loaded){if("mill"===this.state.machine)return o.a.createElement(ue,{viewerMode:this.state.viewerMode,toolData:this.state.data,toolId:this.state.toolId,readyToBuy:this.state.readyToBuy,cancel:this.cancelPurchase,save:this.save,order:!0,buyTool:this.buyTool});if("lathe"===this.state.machine)return o.a.createElement(me,{readyToBuy:this.state.readyToBuy,toolData:this.state.data,viewerMode:this.state.viewerMode,cancel:this.cancelPurchase,toolId:this.state.toolId,save:this.save,order:!0,buyTool:this.buyTool});if("other"===this.state.machine)return o.a.createElement(pe,{readyToBuy:this.state.readyToBuy,toolData:this.state.data,viewerMode:this.state.viewerMode,cancel:this.cancelPurchase,toolId:this.state.toolId,save:this.save,order:!0,buyTool:this.buyTool})}}},{key:"toggleDeleteModal",value:function(){this.setState({modalHide:!this.state.modalHide})}},{key:"componentDidMount",value:function(){"0"!==this.state.toolId?this.get():this.setState({loaded:!0})}},{key:"render",value:function(){var e=this,t=this.stationSelector();return o.a.createElement("div",{id:"OrderEditorModal"},o.a.createElement("div",{className:"sidenav-background",onClick:this.props.toggleModal}),o.a.createElement("div",{className:"modal-container"},o.a.createElement("div",{className:"modal-content editor"},o.a.createElement("div",{className:"modal-top"},o.a.createElement("h3",null,"Tool Editor"),o.a.createElement("div",{className:this.state.modalHide?"gone":""},o.a.createElement(H,{delete:this.delete,reject:this.toggleDeleteModal})),o.a.createElement("div",{className:"modal-corner-buttons"},o.a.createElement("button",{className:"button table-button delete-button "+("0"===this.state.toolId||this.state.readyToBuy?"gone":""),onClick:this.toggleDeleteModal},o.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})),o.a.createElement("button",{className:"button table-button close-modal-button "+("0"===this.state.toolId||this.state.readyToBuy?"gone":""),onClick:this.confirmPurchase},"purchase"),o.a.createElement("button",{onClick:function(){e.props.toggleModal("0")},className:"button table-button close-modal-button close-button "+(this.state.readyToBuy?"gone":"")},o.a.createElement("span",{className:"close-small"},o.a.createElement("i",{className:"fa fa-times close-x"})),o.a.createElement("span",{className:"close-big"},"Return to Shopping List")))),o.a.createElement("div",{className:"purchase-command fade-in "+(this.state.readyToBuy?"":"gone")},"Double check your order"),t)))}}]),t}(n.Component),ve=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={editing:!1,toolId:null,data:[],loaded:!1,tool:a.props.category},a.toggle=a.toggle.bind(Object(u.a)(Object(u.a)(a))),a.generateEditorModal=a.generateEditorModal.bind(Object(u.a)(Object(u.a)(a))),a.toggleModal=a.toggleModal.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"toggle",value:function(e){this.props.toggleCat(e.target.id),this.setState({data:y.getOrdering(e.target.id),tool:e.target.id})}},{key:"componentWillMount",value:function(){var e=this;y.getReady("t")&&this.setState({loaded:!0}),y.on("allUpdated",function(){e.setState({loaded:!0})})}},{key:"toggleModal",value:function(e){e?this.setState({toolId:e,editing:!this.state.editing}):this.setState({editing:!this.state.editing})}},{key:"generateEditorModal",value:function(){return this.state.editing?o.a.createElement(fe,{id:this.state.toolId,machine:this.props.category,toggleModal:this.toggleModal,toggleBig:this.props.toggleBig}):""}},{key:"showTools",value:function(){if(!this.state.loaded)return o.a.createElement(V,{loadingMessage:"Loading Shopping List"});switch(this.props.category){default:return o.a.createElement(Y,{toggleModal:this.toggleModal,data:y.getOrdering(this.props.category),source:"ordering"});case"lathe":return o.a.createElement(Q,{toggleModal:this.toggleModal,data:y.getOrdering(this.props.category),source:"ordering"});case"other":return o.a.createElement(K,{toggleModal:this.toggleModal,data:y.getOrdering(this.props.category),source:"ordering"})}}},{key:"render",value:function(){var e=this.showTools(),t=this.generateEditorModal();return o.a.createElement("div",{id:"Ordering/ToBuy"},t,o.a.createElement("div",{className:"toggle-pills inverted"},o.a.createElement("input",{type:"radio",name:"dept",id:"mill",onChange:this.toggle,checked:"mill"===this.state.tool}),o.a.createElement("label",{htmlFor:"mill"},"Mill"),o.a.createElement("input",{type:"radio",name:"dept",id:"lathe",onChange:this.toggle,checked:"lathe"===this.state.tool}),o.a.createElement("label",{htmlFor:"lathe"},"Lathe"),o.a.createElement("input",{type:"radio",name:"dept",id:"other",onChange:this.toggle,checked:"other"===this.state.tool}),o.a.createElement("label",{htmlFor:"other"},"Other")),o.a.createElement("div",null,e))}}]),t}(n.Component),ye=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={data:{toolData:{}},viewerMode:"Endmill",toolId:a.props.id,machine:a.props.machine,loaded:!1,modalHide:!0,redirect:!1},a.delete=a.delete.bind(Object(u.a)(Object(u.a)(a))),a.get=a.get.bind(Object(u.a)(Object(u.a)(a))),a.post=a.post.bind(Object(u.a)(Object(u.a)(a))),a.put=a.put.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.setViewerMode=a.setViewerMode.bind(Object(u.a)(Object(u.a)(a))),a.stationSelector=a.stationSelector.bind(Object(u.a)(Object(u.a)(a))),a.toggleDeleteModal=a.toggleDeleteModal.bind(Object(u.a)(Object(u.a)(a))),a.orderTool=a.orderTool.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"orderTool",value:function(){var e=y.viewForm();e.shopping=!0,e.purchased=!1,delete e.created_at,delete e.updated_at,delete e.user,delete e._id,delete e.company_id,P({user:"Andrew",tool_data:e},this.state.machine),this.props.toggleModal(),this.props.toggleBig({target:{id:"shopping"}})}},{key:"delete",value:function(){F(this.props.id,this.props.machine),this.toggleDeleteModal(),this.props.toggleModal()}},{key:"get",value:function(){this.setState({data:y.getForm("ordering",this.props.id,this.props.machine),loaded:!0})}},{key:"post",value:function(){var e=y.viewForm();e.shopping=!1,e.purchased=!1,P({user:"Andrew",tool_data:e},this.state.machine),this.props.toggleModal()}},{key:"put",value:function(){var e=y.viewForm();e.shopping=!1,e.purchased=!1,z({user:"Andrew",tool_data:e},this.state.machine)}},{key:"save",value:function(){"0"===this.state.toolId?this.post():this.put()}},{key:"componentWillMount",value:function(){R()}},{key:"setViewerMode",value:function(){if(this.state.data.tool_data.tool_type)switch(this.state.data.tool_data.tool_type){case"Endmill":this.setState({viewerMode:"Endmill"});break;case"Drill":case"Spot Drill":case"Center Drill":this.setState({viewerMode:"Drill"});break;default:this.setState({viewerMode:""})}}},{key:"stationSelector",value:function(){if(this.state.loaded){if("mill"===this.state.machine)return o.a.createElement(ue,{count:this.state.count,viewerMode:this.state.viewerMode,toolData:this.state.data,toolId:this.state.toolId,save:this.save,change:this.change,output:this.output});if("lathe"===this.state.machine)return o.a.createElement(me,{count:this.state.count,toolData:this.state.data,viewerMode:this.state.viewerMode,toolId:this.state.toolId,save:this.save,change:this.change,output:this.output});if("other"===this.state.machine)return o.a.createElement(pe,{count:this.state.count,toolData:this.state.data,viewerMode:this.state.viewerMode,toolId:this.state.toolId,save:this.save,change:this.change,output:this.output})}}},{key:"toggleDeleteModal",value:function(){this.setState({modalHide:!this.state.modalHide})}},{key:"componentDidMount",value:function(){"0"!==this.state.toolId?this.get():this.setState({loaded:!0})}},{key:"render",value:function(){var e=this,t=this.stationSelector();return o.a.createElement("div",null,o.a.createElement("div",{className:"sidenav-background",onClick:this.props.toggleModal}),o.a.createElement("div",{className:"modal-container"},o.a.createElement("div",{className:"modal-content editor"},o.a.createElement("div",{className:"modal-top"},o.a.createElement("h3",null,"Tool Editor"),o.a.createElement("div",{className:this.state.modalHide?"gone":""},o.a.createElement(H,{delete:this.delete,reject:this.toggleDeleteModal,link:""})),o.a.createElement("div",{className:"modal-corner-buttons"},o.a.createElement("button",{className:"button table-button delete-button",onClick:this.toggleDeleteModal},o.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})),o.a.createElement("button",{className:"button table-button close-modal-button "+("0"===this.state.toolId?"gone":""),onClick:this.orderTool},"order"),o.a.createElement("button",{onClick:function(){e.props.toggleModal("0")},className:"button table-button close-button close-modal-button"},o.a.createElement("span",{className:"close-small"},o.a.createElement("i",{className:"fa fa-times close-x"})),o.a.createElement("span",{className:"close-big"},"Return to Stock List")))),t)))}}]),t}(n.Component),Ee=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={editing:!1,toolId:null,data:{},loaded:!1,tool:a.props.category},a.toggle=a.toggle.bind(Object(u.a)(Object(u.a)(a))),a.generateEditorModal=a.generateEditorModal.bind(Object(u.a)(Object(u.a)(a))),a.toggleModal=a.toggleModal.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"toggle",value:function(e){this.props.toggleCat(e.target.id),this.setState({data:y.getOrdering(e.target.id),tool:e.target.id})}},{key:"toggleModal",value:function(e){this.setState({toolId:e,editing:!this.state.editing})}},{key:"componentWillMount",value:function(){var e=this;this.setState({data:y.getShipped(this.props.category),loaded:!0}),y.on("allUpdated",function(){e.setState({loaded:!0})})}},{key:"generateEditorModal",value:function(){return this.state.editing?o.a.createElement(ye,{id:this.state.toolId,machine:this.props.category,toggleModal:this.toggleModal,toggleBig:this.props.toggleBig,triggerUpdate:this.get}):""}},{key:"showTools",value:function(){if(!this.state.loaded)return o.a.createElement(V,{loadingMessage:"Loading Inventory List"});switch(this.props.category){default:return o.a.createElement(Y,{toggleModal:this.toggleModal,data:y.getShipped(this.props.category),source:"stock"});case"lathe":return o.a.createElement(Q,{toggleModal:this.toggleModal,data:y.getShipped(this.props.category),source:"stock"});case"other":return o.a.createElement(K,{toggleModal:this.toggleModal,data:y.getShipped(this.props.category),source:"stock"})}}},{key:"render",value:function(){var e=this.showTools(),t=this.generateEditorModal();return o.a.createElement("div",{id:"Pages/Purchased/Shipped"},t,o.a.createElement("div",{className:"toggle-pills inverted"},o.a.createElement("input",{type:"radio",name:"dept",id:"mill",onChange:this.toggle,checked:"mill"===this.state.tool}),o.a.createElement("label",{htmlFor:"mill"},"Mill"),o.a.createElement("input",{type:"radio",name:"dept",id:"lathe",onChange:this.toggle,checked:"lathe"===this.state.tool}),o.a.createElement("label",{htmlFor:"lathe"},"Lathe"),o.a.createElement("input",{type:"radio",name:"dept",id:"other",onChange:this.toggle,checked:"other"===this.state.tool}),o.a.createElement("label",{htmlFor:"other"},"Other")),o.a.createElement("div",null,e))}}]),t}(n.Component),Oe=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={purchased:0,subCat:"mill"},e.togglePurchase=e.togglePurchase.bind(Object(u.a)(Object(u.a)(e))),e.toggleSubCat=e.toggleSubCat.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"toggleSubCat",value:function(e){this.setState({subCat:e})}},{key:"togglePurchase",value:function(e){"shopping"===e.target.id?this.setState({purchased:0}):"purchased"===e.target.id?this.setState({purchased:1}):"shipped"===e.target.id&&this.setState({purchased:2})}},{key:"showPurchaseState",value:function(){return 1===this.state.purchased?o.a.createElement(be,{category:this.state.subCat,toggleCat:this.toggleSubCat,toggleBig:this.togglePurchase}):0===this.state.purchased?o.a.createElement(ve,{category:this.state.subCat,toggleCat:this.toggleSubCat,toggleBig:this.togglePurchase}):2===this.state.purchased?o.a.createElement(Ee,{category:this.state.subCat,toggleCat:this.toggleSubCat,toggleBig:this.togglePurchase}):void 0}},{key:"render",value:function(){var e=this.showPurchaseState();return o.a.createElement("div",{id:"Pages/Ordering/Ordering"},o.a.createElement("div",{className:"toggle-pills under-inverted"},o.a.createElement("input",{name:"ordering",id:"shopping",type:"radio",onChange:this.togglePurchase,checked:0===this.state.purchased}),o.a.createElement("label",{htmlFor:"shopping"},"Shopping"),o.a.createElement("input",{name:"ordering",id:"purchased",type:"radio",onChange:this.togglePurchase,checked:1===this.state.purchased}),o.a.createElement("label",{htmlFor:"purchased"},"Purchased"),o.a.createElement("input",{name:"ordering",id:"shipped",type:"radio",onChange:this.togglePurchase,checked:2===this.state.purchased}),o.a.createElement("label",{htmlFor:"shipped"},"Stock")),o.a.createElement("div",null,e))}}]),t}(n.Component),_e=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).toolChoices=[{value:"Tool Type",children:"Tool Type"},{value:"Endmill",children:"Endmill"},{value:"Drill",children:"Drill"},{value:"Spot Drill",children:"Spot Drill"},{value:"Chamfer Mill",children:"Chamfer Mill"},{value:"Center Drill",children:"Center Drill"},{value:"Reamer",children:"Reamer"},{value:"Key Cutter",children:"Key Cutter"},{value:"Face Mill",children:"Face Mill"},{value:"Dove Mill",children:"Dove Mill"},{value:"Tap",children:"Tap"},{value:"Inserts",children:"Inserts"},{value:"Other",children:"Other"}],a.state={data:a.props.data,edit:e.editView,tools:[{}]},a.addTool=a.addTool.bind(Object(u.a)(Object(u.a)(a))),a.toolsList=a.toolsList.bind(Object(u.a)(Object(u.a)(a))),a.parseTools=a.parseTools.bind(Object(u.a)(Object(u.a)(a))),a.showMaterial=a.showMaterial.bind(Object(u.a)(Object(u.a)(a))),a.showFluteLength=a.showFluteLength.bind(Object(u.a)(Object(u.a)(a))),a.getAdditionalParameters=a.getAdditionalParameters.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"save",value:function(){this.props.save(),this.props.toggleEdit()}},{key:"componentWillReceiveProps",value:function(e){this.setState({edit:e.editView})}},{key:"showForms",value:function(){if(this.state.edit){var e=this.toolsList();return o.a.createElement("div",null,o.a.createElement("h4",null,"Part Information"),o.a.createElement("div",{className:"setup-header"},o.a.createElement(B,{header:"Part Number",name:"part_number"}),o.a.createElement(B,{header:"Part Name",name:"part_name"}),o.a.createElement(B,{header:"Customer",name:"customer"}),o.a.createElement(B,{header:"Job Number",name:"job_number"}),o.a.createElement(B,{header:"Revision",name:"revision"}),o.a.createElement(B,{header:"Operation",name:"operation"})),o.a.createElement("h4",null,"Material Information"),o.a.createElement("div",{className:"material-info"},o.a.createElement(B,{header:"Material",name:"material"}),o.a.createElement(B,{header:"Material Dimensions",name:"material_dimensions"})),o.a.createElement("h4",null,"Work Holding"),o.a.createElement("div",{className:"work-holding"},o.a.createElement("div",{className:"column-group"},o.a.createElement(B,{header:"X-Zero",name:"x_zero"}),o.a.createElement(B,{header:"Y-Zero",name:"y_zero"}),o.a.createElement(B,{header:"Z-Zero",name:"z_zero"}),o.a.createElement(B,{header:"A-Zero",name:"A_zero"}),o.a.createElement(B,{header:"B-Zero",name:"B_zero"})),o.a.createElement("div",{className:"column-group"},o.a.createElement(B,{header:"Machine Requirements",type:"textArea",name:"machine_requirements"}),o.a.createElement(B,{header:"Parts per Cycle",name:"parts_per_cycle"}),o.a.createElement(B,{header:"Work Holding",name:"work_holding",type:"textArea"}))),o.a.createElement("h4",null,"Tools"),e,o.a.createElement("button",{onClick:this.props.toggleEdit,className:"button white-button"},"Cancel"),o.a.createElement("button",{onClick:this.save,className:"button save-button"},"Save"))}var t=this.descriptionToolsList();return o.a.createElement("div",{onClick:this.props.toggleEdit},o.a.createElement("div",{className:"part-data"},o.a.createElement("div",{className:"meta-block"},o.a.createElement("div",{className:"name-block"},o.a.createElement(C,{classes:"part-number-heading",header:"Part Number: ",value:"part_number"}),o.a.createElement("span",{className:"part-name-dash"},"-"),o.a.createElement(C,{header:"Part Name: ",classes:"part-name-heading",value:"part_name"})),o.a.createElement("h4",{className:"desc-header"},"Part Information"),o.a.createElement(C,{header:"Revision: ",classes:"revision-heading",value:"revision"}),o.a.createElement(C,{header:"Operation: ",classes:"operation-heading",value:"operation"}),o.a.createElement(C,{header:"Job Number: ",classes:"job-number-heading",value:"job_number"}),o.a.createElement(C,{header:"Customer: ",classes:"customer-heading",value:"customer"})),o.a.createElement("div",{className:"setup-info"},o.a.createElement("h4",{className:"desc-header"},"Material Information"),o.a.createElement("div",{className:"material-info"},o.a.createElement(C,{header:"Material: ",value:"material"}),o.a.createElement(C,{header:"Material Dimensions: ",value:"material_dimensions"})),o.a.createElement("h4",{className:"desc-header"},"Work Holding"),o.a.createElement("div",{className:"work-holding"},o.a.createElement("div",{className:"column-group"},o.a.createElement(C,{header:"X-Zero: ",value:"x_zero"}),o.a.createElement(C,{header:"Y-Zero: ",value:"y_zero"}),o.a.createElement(C,{header:"Z-Zero: ",value:"z_zero"}),o.a.createElement(C,{header:"A-Zero: ",value:"A_zero"}),o.a.createElement(C,{header:"B-Zero: ",value:"B_zero"})),o.a.createElement("div",{className:"column-group"},o.a.createElement(C,{header:"Machine Requirements: ",value:"machine_requirements"}),o.a.createElement(C,{header:"Parts per Cycle: ",value:"parts_per_cycle"}),o.a.createElement(C,{header:"Work Holding: ",value:"work_holding"}))))),o.a.createElement("h4",{className:"desc-header"},"Tools"),t)}},{key:"addTool",value:function(){var e=this.state.tools;e.push({}),this.setState({tools:e})}},{key:"parseTools",value:function(){var e=y.getAllToolsInCat("mill");return(e=e.map(function(e){var t=e.tool_data.diameter+'" '+("string"!==typeof e.tool_data.tool_type?e.tool_data.tool_type[0]:e.tool_data.tool_type);return{value:e._id,children:t}})).unshift({value:0,children:"Select a Tool"}),e}},{key:"showMaterial",value:function(e){var t=y.getFormValue("material",{subClass:"tools",index:e});return t&&t[0]}},{key:"showFluteLength",value:function(e){return y.getFormValue("flute_length",{subClass:"tools",index:e})}},{key:"getAdditionalParameters",value:function(e){var t=y.getFormValue("tool",{subClass:"tools",index:e})[0],a=y.getAllToolsInCat("mill").find(function(e){return e._id===t});U({material:a.tool_data.material,flute_length:a.tool_data.flute_length},{subClass:"tools",index:e}),this.setState({data:y.viewForm()})}},{key:"descriptionToolsList",value:function(){var e=this,t=o.a.createElement("thead",{className:"tool-row"},o.a.createElement("tr",null,o.a.createElement("th",null,"Tool"),o.a.createElement("th",null,"Material"),o.a.createElement("th",null,"Flute Length"),o.a.createElement("th",null,"Tool Clearance"),o.a.createElement("th",null,"Tool Life"))),a=o.a.createElement("tr",null);return y.viewForm().tools&&(a=y.viewForm().tools.map(function(t,a){var n=e.showMaterial(a),s=e.showFluteLength(a);return o.a.createElement("tr",{key:a,className:"tool-row"},o.a.createElement("td",null,o.a.createElement("a",{href:"https://facebook.com"},o.a.createElement(C,{classes:"select-tool",header:"Tool: ",additionalData:{subClass:"tools",index:a,fillWithData:!0},value:"tool"}))),o.a.createElement("td",null,o.a.createElement("div",{className:"line-item"},o.a.createElement("span",{className:"display"},"Material: "),o.a.createElement("span",{className:"fixed-value"},n))),o.a.createElement("td",null,o.a.createElement("div",{className:"line-item"},o.a.createElement("span",{className:"display"},"Flute Length: "),o.a.createElement("span",{className:"fixed-value"},s,'"'))),o.a.createElement("td",null,o.a.createElement(C,{classes:"tool-clearance",header:"Tool Clearance: ",units:"inches",additionalData:{subClass:"tools",index:a},value:"tool_clearance"})),o.a.createElement("td",null,o.a.createElement(C,{classes:"tool-life",header:"Tool Life: ",units:"pieces",additionalData:{subClass:"tools",index:a},value:"tool_life"})))})),o.a.createElement("table",{className:"setup-tools"},t,o.a.createElement("tbody",null,a))}},{key:"toolsList",value:function(){var e=this,t=this.parseTools(),a=o.a.createElement("thead",{className:"tool-row"},o.a.createElement("tr",null,o.a.createElement("th",null,"Tool"),o.a.createElement("th",null,"Material"),o.a.createElement("th",null,"Flute Length"),o.a.createElement("th",null,"Tool Clearance"),o.a.createElement("th",null,"Tool Life"))),n=this.state.tools.map(function(a,n){var s=e.showMaterial(n),l=e.showFluteLength(n);return o.a.createElement("tr",{key:n,className:"tool-row"},o.a.createElement("td",null,o.a.createElement(B,{classes:"select-tool",header:"Tool: ",type:"select",additionalFunction:function(){e.getAdditionalParameters(n)},additionalData:{subClass:"tools",index:n,fillWithData:!0},name:"tool",properties:t})),o.a.createElement("td",null,o.a.createElement("div",{className:"line-item"},o.a.createElement("span",{className:"display"},"Material: "),o.a.createElement("span",{className:"fixed-value"},s))),o.a.createElement("td",null,o.a.createElement("div",{className:"line-item"},o.a.createElement("span",{className:"display"},"Flute Length: "),o.a.createElement("span",{className:"fixed-value"},l,'"'))),o.a.createElement("td",null,o.a.createElement(B,{classes:"tool-clearance",header:" Tool Clearance: ",units:"inches",type:"math",additionalData:{subClass:"tools",index:n},name:"tool_clearance"})),o.a.createElement("td",null,o.a.createElement(B,{classes:"tool-life",header:"Tool Life: ",units:"pieces",type:"number",additionalData:{subClass:"tools",index:n},name:"tool_life"})))});return o.a.createElement("div",null,o.a.createElement("table",{className:"setup-tools"},a,o.a.createElement("tbody",null,n)),o.a.createElement("button",{onClick:this.addTool,className:"button small-button white-button"},"Add Tool"))}},{key:"render",value:function(){var e=this.showForms();return o.a.createElement("div",{id:"Pages/SetupSheets/MillSetupTemplate"},e)}}]),t}(n.Component),ke=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={data:{},setupId:a.props.id,loaded:!1,modalHide:!0,redirect:!1,station:0,editView:!1},a.delete=a.delete.bind(Object(u.a)(Object(u.a)(a))),a.get=a.get.bind(Object(u.a)(Object(u.a)(a))),a.post=a.post.bind(Object(u.a)(Object(u.a)(a))),a.put=a.put.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.toggleDeleteModal=a.toggleDeleteModal.bind(Object(u.a)(Object(u.a)(a))),a.toggleEdit=a.toggleEdit.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"toggleEdit",value:function(){this.setState({editView:!this.state.editView})}},{key:"delete",value:function(){F(this.props.id,this.props.machine),this.toggleDeleteModal(),this.props.toggleModal()}},{key:"componentWillMount",value:function(){R()}},{key:"toggleStation",value:function(e){var t;switch(e.target.id){case"mill":t=0;break;case"lathe":t=1;break;case"other":t=2}this.setState({station:t})}},{key:"get",value:function(){this.setState({data:y.getForm("setupSheets",this.props.id),loaded:!0})}},{key:"post",value:function(){var e=y.viewForm();e.shopping=!0,e.purchased=!1;!function(e,t){f.dispatch({type:"NEW_SETUP",body:e,url:t})}({user:"Andrew",setup_data:e},"/setup"),this.props.toggleModal()}},{key:"put",value:function(){var e=y.viewForm();e.shopping=!0,e.purchased=!1;!function(e,t){f.dispatch({type:"EDIT_SETUP",body:e,url:t})}({user:"Andrew",setup_data:e},"/setup"),this.props.toggleModal()}},{key:"save",value:function(){"0"===this.state.setupId?this.post():this.put()}},{key:"toggleDeleteModal",value:function(){this.setState({modalHide:!this.state.modalHide})}},{key:"componentDidMount",value:function(){"0"!==this.state.setupId?this.get():this.setState({loaded:!0,editView:!0})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"Pages/SetupSheets/SetupEditorModal",className:"setup-modal"},o.a.createElement("div",{className:"sidenav-background",onClick:this.props.toggleModal}),o.a.createElement("div",{className:"modal-container"},o.a.createElement("div",{className:"modal-content editor"},o.a.createElement("div",{className:"modal-top"},o.a.createElement("h3",{className:this.state.editView?"":"gone"},"Setup Sheet Editor"),o.a.createElement("div",{className:this.state.modalHide?"gone":""},o.a.createElement(H,{delete:this.delete,reject:this.toggleDeleteModal})),o.a.createElement("div",{className:"modal-corner-buttons"},o.a.createElement("button",{className:"button table-button delete-button "+("0"===this.state.setupId?"gone":""),onClick:this.toggleDeleteModal},o.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})),o.a.createElement("button",{onClick:function(){e.props.toggleModal("0")},className:"button table-button close-modal-button close-button "},o.a.createElement("span",{className:"close-small"},o.a.createElement("i",{className:"fa fa-times close-x"})),o.a.createElement("span",{className:"close-big"},"Return to Shopping List")))),o.a.createElement(_e,{save:this.save,editView:this.state.editView,toggleEdit:this.toggleEdit,data:this.state.data}))))}}]),t}(n.Component),je=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={data:[],edit:!1,setupId:"0"},e.toggleModal=e.toggleModal.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"toggleModal",value:function(e){this.setState({edit:!this.state.edit,setupId:e})}},{key:"componentWillMount",value:function(){var e=this;y.getReady("t")&&this.setState({loaded:!0}),y.on("allUpdated",function(){e.setState({loaded:!0})})}},{key:"showTable",value:function(){return this.state.loaded?o.a.createElement(k,{addText:"add a new setup sheet",data:y.getSetupSheets(),headers:j.SetupSheets,toggleModal:this.toggleModal}):o.a.createElement(V,{loadingMessage:"loading setup sheets"})}},{key:"showModal",value:function(){return this.state.edit?o.a.createElement(ke,{id:this.state.setupId,toggleModal:this.toggleModal}):""}},{key:"render",value:function(){var e=this.showModal(),t=this.showTable();return o.a.createElement("div",{id:"Pages/SetupSheets/SetupSheets",className:"setup"},e,o.a.createElement("h3",null,"Setup Sheets"),t)}}]),t}(n.Component),we=a(33),Ce=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],Ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).userPositions=[{value:"Admin",children:"Admin"},{value:"Manager",children:"Manager"},{value:"Inspection Manager",children:"Inspection Manager"},{value:"Inspector",children:"Inspectior"},{value:"Operator",children:"Operator"},{value:"Setup Machinist",children:"Setup Machinist"},{value:"Programmer",children:"Programmer"},{value:"Purchaser",children:"Purchaser"},{value:"Accounting",children:"Accounting"}],a.state={userInfo:{},userId:a.props.id,editable:!1,newUser:!1,modalHide:!0,loaded:!1,redirect:!1},a.get=a.get.bind(Object(u.a)(Object(u.a)(a))),a.post=a.post.bind(Object(u.a)(Object(u.a)(a))),a.put=a.put.bind(Object(u.a)(Object(u.a)(a))),a.delete=a.delete.bind(Object(u.a)(Object(u.a)(a))),a.toggleEdit=a.toggleEdit.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.toggleModal=a.toggleModal.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"get",value:function(){this.setState({userInfo:y.getForm("users",this.props.id),loaded:!0})}},{key:"post",value:function(){var e,t=y.viewForm();e=t,f.dispatch({type:"CREATE_USER",body:e})}},{key:"createStates",value:function(){return Ce.map(function(e){return{value:e,children:e}})}},{key:"put",value:function(){var e,t=y.viewForm();e=t,f.dispatch({type:"EDIT_USER",body:e})}},{key:"delete",value:function(){var e=this,t=sessionStorage.getItem("user").split(",")[2].replace("http://localhost:3001","https://toolbbe.herokuapp.com"),a=new Request(t+"/users/"+this.state.userId,{method:"DELETE",headers:new Headers({"Content-Type":"application/json"})});fetch(a).then(function(e){return e.json()}).then(function(t){e.setState({redirect:!0})})}},{key:"toggleEdit",value:function(){this.setState({editable:!this.state.editable})}},{key:"toggleModal",value:function(){this.setState({modalHide:!this.state.modalHide})}},{key:"save",value:function(){this.state.newUser?this.post():this.put(),this.toggleEdit()}},{key:"viewInfo",value:function(){return this.state.loaded?this.state.editable?o.a.createElement("div",{className:"editor-content"},o.a.createElement("div",{className:"edit-page"},o.a.createElement(B,{header:"Name: ",name:"name",type:"textOnly"}),o.a.createElement(B,{header:"User Position: ",type:"select",name:"user_position",properties:this.userPositions}),o.a.createElement(B,{header:"Street Address: ",name:"street_address"}),o.a.createElement(B,{header:"City: ",name:"city",type:"textOnly"}),o.a.createElement(B,{header:"State: ",type:"select",name:"state",properties:this.createStates()}),o.a.createElement(B,{header:"Phone Number: ",name:"phone_number",type:"phone"}),o.a.createElement(C,{header:"Email: ",value:"email"}),o.a.createElement(C,{header:"Company Name: ",value:"company_name"}),o.a.createElement(C,{header:"Company Id: ",value:"company_id"}),o.a.createElement("span",{className:"submit-button-line"},o.a.createElement("button",{onClick:this.toggleEdit,className:"button white-button"},"Cancel"),o.a.createElement("button",{onClick:this.save,className:"button save-button"},"Save")))):o.a.createElement("div",{onClick:this.toggleEdit,className:"edit-page"},o.a.createElement(C,{header:"Name: ",value:"name"}),o.a.createElement(C,{header:"User Position: ",value:"user_position"}),o.a.createElement(C,{header:"Street Address: ",value:"street_address"}),o.a.createElement(C,{header:"City: ",value:"city"}),o.a.createElement(C,{header:"State: ",value:"state"}),o.a.createElement(C,{header:"Phone Number: ",value:"phone_number"}),o.a.createElement(C,{header:"Email: ",value:"email"}),o.a.createElement(C,{header:"Company Name: ",value:"company_name"}),o.a.createElement(C,{header:"Company Id: ",value:"company_id"})):o.a.createElement("span",{className:"loading-screen"},"Beaming all the satelites...")}},{key:"componentWillMount",value:function(){"0"!==this.state.userId?this.get():this.setState({loaded:!0})}},{key:"render",value:function(){var e=this.viewInfo();return o.a.createElement("div",null,o.a.createElement("div",{className:"sidenav-background",onClick:this.props.toggleModal}),o.a.createElement("div",{className:"modal-container"},o.a.createElement("div",{className:"modal-content editor"},o.a.createElement("div",{className:"modal-top"},o.a.createElement("h3",null,"User Profile"),o.a.createElement("div",{className:this.state.modalHide?"gone":""},o.a.createElement(H,{delete:this.delete,reject:this.toggleModal,link:"#"})),o.a.createElement("div",{className:"modal-corner-buttons"},o.a.createElement("button",{className:"button table-button delete-button",onClick:this.toggleModal},o.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})),o.a.createElement("button",{onClick:this.props.toggleModal,className:"button table-button close-button close-modal-button"},o.a.createElement("span",{className:"close-small"},o.a.createElement("i",{className:"fa fa-times close-x"})),o.a.createElement("span",{className:"close-big"},"Return to Users")))),e)))}}]),t}(n.Component),Se=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={users:[],companies:[],editing:!1,loaded:!1,companyId:"",userId:""},e.copyButton=e.copyButton.bind(Object(u.a)(Object(u.a)(e))),e.toggleModal=e.toggleModal.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"copyButton",value:function(e){e.target.children[0].select(),document.execCommand("Copy")}},{key:"toggleModal",value:function(e){e?this.setState({userId:e,editing:!this.state.editing}):this.setState({editing:!this.state.editing})}},{key:"generateEditorModal",value:function(){return this.state.editing?o.a.createElement(Ne,{id:this.state.userId,toggleModal:this.toggleModal}):""}},{key:"drawTable",value:function(){return this.state.loaded?o.a.createElement(k,{data:this.state.users,headers:j.Users,noAdd:!0,toggleModal:this.toggleModal}):o.a.createElement("span",{className:"loading-screen"},"It's a lot of work to assemble a table")}},{key:"componentWillMount",value:function(){var e=this;y.getReady("u")&&this.setState({users:y.getUsers(),loaded:!0,companyId:y.getCompanyId()}),y.on("change",function(){e.setState({loaded:!1}),e.setState({users:y.getUsers(),loaded:!0,companyId:y.getCompanyId()})})}},{key:"render",value:function(){var e=this.generateEditorModal(),t=this.drawTable();return o.a.createElement("div",{id:"Pages/Users"},e,o.a.createElement("h3",null,"Users"),o.a.createElement("div",{className:"company-id"},o.a.createElement("span",{className:"label"},"Company Id: "),o.a.createElement("span",null,this.state.companyId),o.a.createElement(we.CopyToClipboard,{text:this.state.companyId},o.a.createElement("span",{className:"button small-button"},"Copy id"))),t)}}]),t}(n.Component),Me=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={companyInfo:{},companyId:a.props.id,editable:!1,newCompany:!1,modalHide:!0,loaded:!1,redirect:!1},a.get=a.get.bind(Object(u.a)(Object(u.a)(a))),a.post=a.post.bind(Object(u.a)(Object(u.a)(a))),a.put=a.put.bind(Object(u.a)(Object(u.a)(a))),a.toggleEdit=a.toggleEdit.bind(Object(u.a)(Object(u.a)(a))),a.change=a.change.bind(Object(u.a)(Object(u.a)(a))),a.save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.toggleDelete=a.toggleDelete.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"get",value:function(){this.setState({companyInfo:y.getForm("companies",this.props.id),loaded:!0})}},{key:"post",value:function(){!function(e){f.dispatch({type:"CREATE_COMPANY",body:e})}(y.viewForm())}},{key:"createStates",value:function(){return Ce.map(function(e){return{value:e,children:e}})}},{key:"put",value:function(){!function(e){f.dispatch({type:"EDIT_COMPANY",body:e})}(y.viewForm())}},{key:"change",value:function(e){this.state.companyInfo[e.target.name]=e.target.value}},{key:"toggleEdit",value:function(){this.setState({editable:!this.state.editable})}},{key:"toggleDelete",value:function(){this.setState({modalHide:!this.state.modalHide})}},{key:"save",value:function(){this.state.newCompany?this.post():this.put(),this.toggleEdit()}},{key:"viewInfo",value:function(){return this.state.loaded?this.state.editable?o.a.createElement("div",{className:"edit-page"},o.a.createElement(B,{header:"Company Name: ",name:"name"}),o.a.createElement(B,{header:"Street Address: ",name:"street_address"}),o.a.createElement(B,{header:"City: ",name:"city"}),o.a.createElement(B,{header:"State: ",type:"select",name:"state",properties:this.createStates()}),o.a.createElement(B,{header:"Email: ",name:"email"}),o.a.createElement(B,{header:"Phone Number: ",name:"phone_number",type:"phone"}),o.a.createElement("span",{className:"submit-button-line"},o.a.createElement("button",{onClick:this.toggleEdit,className:"button white-button"},"Cancel"),o.a.createElement("button",{onClick:this.save,className:"button"},"Save"))):o.a.createElement("div",{onClick:this.toggleEdit,className:"edit-page"},o.a.createElement(C,{header:"Company Id: ",value:"_id"}),o.a.createElement(C,{header:"Company Name: ",value:"name"}),o.a.createElement(C,{header:"Street Addresss: ",value:"street_address"}),o.a.createElement(C,{header:"City: ",value:"city"}),o.a.createElement(C,{header:"State: ",value:"state"}),o.a.createElement(C,{header:"Email: ",value:"email"}),o.a.createElement(C,{header:"Phone Number: ",value:"phone_number"})):o.a.createElement("span",{className:"loading-screen"},"Beaming all the satelites...")}},{key:"componentWillMount",value:function(){"0"!==this.state.companyId?this.get():this.setState({loaded:!0})}},{key:"render",value:function(){var e=this.viewInfo();return o.a.createElement("div",{id:"Pages/CompanyEditor"},o.a.createElement("div",{className:"sidenav-background",onClick:this.props.toggleModal}),o.a.createElement("div",{className:"modal-container"},o.a.createElement("div",{className:"modal-content editor"},o.a.createElement("div",{className:"modal-top"},o.a.createElement("h3",null,"Company Editor"),o.a.createElement("div",{className:"modal-corner-buttons"},o.a.createElement("button",{onClick:this.props.toggleModal,className:"button table-button close-button close-modal-button"},o.a.createElement("span",{className:"close-small"},o.a.createElement("i",{className:"fa fa-times close-x"})),o.a.createElement("span",{className:"close-big"},"Return to Company")))),o.a.createElement("div",{className:"edit-page"},e))))}}]),t}(n.Component),Te=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={companies:[],editing:!1,loaded:!1,companyId:""},e.toggleModal=e.toggleModal.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"toggleModal",value:function(e){e?this.setState({toolId:e,editing:!this.state.editing}):this.setState({editing:!this.state.editing})}},{key:"generateEditorModal",value:function(){return this.state.editing?o.a.createElement(Me,{id:this.state.toolId,toggleModal:this.toggleModal}):""}},{key:"drawTable",value:function(){return this.state.loaded?o.a.createElement(k,{data:this.state.companies,headers:j.Companies,noAdd:!0,noSearch:!0,toggleModal:this.toggleModal}):o.a.createElement("span",{className:"loading-screen"},"It's a lot of work to assemble a table")}},{key:"componentWillMount",value:function(){var e=this;y.getReady("c")&&this.setState({companies:y.getCompanies(),loaded:!0,companyId:y.getCompanyId()}),y.on("updatedCompanies",function(){e.setState({loaded:!1}),e.setState({companies:y.getCompanies(),loaded:!0,companyId:y.getCompanyId()})})}},{key:"render",value:function(){var e=this.generateEditorModal(),t=this.drawTable();return o.a.createElement("div",{className:"companies",id:"Pages/Companies"},e,o.a.createElement("h3",null,"My Company"),t)}}]),t}(n.Component),Ie=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={tabs:[{name:"Jobs",value:"jobs"},{name:"Tooling",value:"ordering"},{name:"Setup Sheets",value:"setup"},{name:"Users",value:"users"},{name:"My Company",value:"companies"}]},e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"primaryContent",value:function(){return o.a.createElement("div",{id:"Main/HomePage"},o.a.createElement(_,{tabs:this.state.tabs,logout:this.props.logout,title:this.props.title}),o.a.createElement("div",{className:"page-content"},o.a.createElement(m.a,{exact:!0,path:"/",component:Oe}),o.a.createElement(m.a,{path:"/ordering",component:Oe}),o.a.createElement(m.a,{path:"/jobs",component:q}),o.a.createElement(m.a,{path:"/setup",component:je}),o.a.createElement(m.a,{exact:!0,path:"/companies",component:Te}),o.a.createElement(m.a,{exact:!0,path:"/users",component:Se})))}},{key:"render",value:function(){var e=this.primaryContent();return o.a.createElement(p.a,null,e)}}]),t}(n.Component),De=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"progress"},o.a.createElement("div",{className:"progress-slide "+(this.props.activated?"grow ":"")}))}}]),t}(n.Component),Pe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={progress:!1},a.login=a.login.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"login",value:function(){var e=this;this.props.login(),setTimeout(function(){e.props.failed||e.setState({progress:!0})},100)}},{key:"render",value:function(){return o.a.createElement("div",{className:"login-screen"},o.a.createElement("div",{className:"modal-container login-container"},o.a.createElement("div",{className:"modal-content login-modal"},o.a.createElement("span",{className:"big-title"},this.props.title),o.a.createElement("div",{className:"title-box"},o.a.createElement("h1",null,this.props.title),o.a.createElement("div",{className:"login-description"},"A purchasing tool for machine shops")),o.a.createElement("div",{className:"login"},o.a.createElement("div",{className:"login-title"},"Login to your account"),o.a.createElement("div",{className:"interactions"},o.a.createElement("span",{className:"error-message fade-in "+(this.props.failed?"":"gone")},"Your email or password wasn't recognized"),o.a.createElement("input",{type:"email",onChange:this.props.update,className:"create-name "+(this.props.failed?"bad-input":""),name:"email",placeholder:"email"}),o.a.createElement("input",{type:"password",onChange:this.props.update,className:"create-name "+(this.props.failed?"bad-input":""),name:"password",placeholder:"password"}),o.a.createElement("div",{className:"finish-buttons"},o.a.createElement("button",{className:"button login-button",onClick:this.login},"Login"),o.a.createElement("button",{className:"button white-button",onClick:this.props.forgotPassword},"Forgot password"),o.a.createElement(De,{activated:this.state.progress})))),o.a.createElement("div",{className:"register"},o.a.createElement("div",{className:"register-desc"},o.a.createElement("button",{className:"button toggle-bio",onClick:this.props.createUserBioToggle},"Find out about ToolBox"),o.a.createElement("button",{className:"button login-button white-button",onClick:this.props.createUser},"Create an Account"))))))}}]),t}(n.Component),ze=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={companyList:[],company:"new company",progress:!1,newCompany:!1},e.get=e.get.bind(Object(u.a)(Object(u.a)(e))),e.getCompany=e.getCompany.bind(Object(u.a)(Object(u.a)(e))),e.addUser=e.addUser.bind(Object(u.a)(Object(u.a)(e))),e.toggleNewCompany=e.toggleNewCompany.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"toggleNewCompany",value:function(){var e=this;this.setState({newCompany:!this.state.newCompany},function(){e.state.newCompany||e.props.resetNewToNull()})}},{key:"addUser",value:function(){var e=this;this.props.addUser(),setTimeout(function(){e.props.failed||e.setState({progress:!0})},100)}},{key:"get",value:function(){var e=this;fetch("https://toolbbe.herokuapp.com/api/companies").then(function(e){return e.json()}).then(function(t){e.setState({companyList:t})})}},{key:"componentDidMount",value:function(){this.get()}},{key:"getCompany",value:function(e){var t=this;"test"===e.target.value.toLowerCase()&&(e.target.value="5a43011d6ceec000140f63dd"),this.state.companyList.forEach(function(a){e.target.value===a._id&&(t.setState({company:a.name}),t.props.createUserInfo(e))})}},{key:"finished",value:function(){return this.props.finished?o.a.createElement("div",null,o.a.createElement("div",{className:"final-message fade-in"},"View your email for final steps to confirm your account. Thanks for joining"),o.a.createElement("button",{className:"button fade-in",onClick:this.props.createUser},"back to Login")):o.a.createElement("div",{className:"interactions"},o.a.createElement("span",{className:"error-message fade-in "+(this.props.failed?"":"gone")},this.props.failed),o.a.createElement("input",{type:"text",onChange:this.props.createUserInfo,className:"create-name required "+(this.props.failed?"bad-input":""),name:"name",placeholder:"first and last name"}),o.a.createElement("span",{className:"create-name"},o.a.createElement("input",{type:"checkbox",id:"newCompany",onChange:this.toggleNewCompany,onBlur:this.toggleNewCompany,name:"newCompany"}),o.a.createElement("label",{htmlFor:"newCompany"},"New Company")),o.a.createElement("input",{type:"text",className:"create-name "+(this.state.newCompany?"":"gone"),name:"newCompanyName",onChange:this.props.createUserInfo,placeholder:"company name"}),o.a.createElement("input",{type:"text",onChange:this.getCompany,className:"create-name required "+(this.props.failed?"bad-input ":"")+(this.state.newCompany?"gone ":""),name:"cid",placeholder:"company id"}),o.a.createElement("div",{className:"company-instructions"},"To get the company id, someone that already is associated with the company needs to login to their accound, go to the companies page, and copy the company id. Then you can enter it when you create a new user."),o.a.createElement("div",{className:"create-name "+(this.state.newCompany?"gone ":"")},this.state.company),o.a.createElement("input",{type:"email",onChange:this.props.createUserInfo,className:"create-name required "+(this.props.failed?"bad-input":""),name:"email",placeholder:"email"}),o.a.createElement("input",{type:"password",onChange:this.props.createUserInfo,className:"create-name required "+(this.props.failed?"bad-input":""),name:"pass",placeholder:"password"}),o.a.createElement("div",{className:"finish-buttons"},o.a.createElement("button",{className:"button create-button",onClick:this.addUser},"Create user"),o.a.createElement("button",{className:"button white-button",onClick:this.props.createUser},"back to Login"),o.a.createElement(De,{activated:this.state.progress})))}},{key:"render",value:function(){var e=this.finished();return o.a.createElement("div",{className:"login-screen",id:"Main/CreateUser"},o.a.createElement("div",{className:"modal-container login-container"},o.a.createElement("div",{className:"modal-content login-modal"},o.a.createElement("span",{className:"big-title"},this.props.title),o.a.createElement("div",{className:"title-box"},o.a.createElement("h1",null,this.props.title),o.a.createElement("div",{className:"login-description"},"A purchasing tool for machine shops")),o.a.createElement("div",{className:"create-user"},o.a.createElement("span",{className:"login-title"},"Set up a new account"),e))))}}]),t}(n.Component),Fe=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={},e.createUserToggle=e.createUserToggle.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"createUserToggle",value:function(){this.props.createUserBioToggle(),this.props.createUser()}},{key:"render",value:function(){return o.a.createElement("div",{className:"login-screen",id:"Main/CreateUserBio"},o.a.createElement("div",{className:"modal-container login-container"},o.a.createElement("div",{className:"modal-content login-modal"},o.a.createElement("span",{className:"big-title"},this.props.title),o.a.createElement("div",{className:"title-box bio-box"},o.a.createElement("h1",null,this.props.title),o.a.createElement("div",{className:"login-description"},"A purchasing tool for machine shops"),o.a.createElement("p",{className:"toolbox-bio"},"Taking a new approach to shop management, ToolBox creates an environment that lets you run your business easily and effectiently. Now you can get access to all of your data anywhere you have an internet connection. ",o.a.createElement("br",null),o.a.createElement("br",null),"With an online interface, whether you're out running errands, or in front of your computer, you can quickly see the state of the inventory in your shop. Ordering machines, tools, material, and anything else you need can be done with one button, and you can track the progress of your inventory as it goes from a vendor through your shop's jobs. ",o.a.createElement("br",null),o.a.createElement("br",null),"Click Get Started to create a free account for your company"),o.a.createElement("div",{className:"bio-button-area"},o.a.createElement("button",{className:"button login-button save-button",onClick:this.createUserToggle},"Get started"),o.a.createElement("button",{className:"button white-button",onClick:this.props.createUserBioToggle},"Back to Login"))))))}}]),t}(n.Component),Ue=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"login-screen",id:"Main/ResetPassword"},o.a.createElement("div",{className:"modal-container login-container"},o.a.createElement("div",{className:"modal-content login-modal"},o.a.createElement("span",{className:"big-title"},this.props.title),o.a.createElement("div",{className:"title-box"},o.a.createElement("h1",null,this.props.title),o.a.createElement("div",{className:"login-description"},"A purchasing tool for machine shops")),o.a.createElement("div",{className:"create-user"},o.a.createElement("div",{className:"login-title"},"Enter an email to reset password"),o.a.createElement("div",{className:"interactions"},o.a.createElement("span",{className:"error-message fade-in "+(this.props.failed?"":"gone")},this.props.failed),o.a.createElement("input",{type:"email",onChange:this.props.update,className:"create-name "+(this.props.failed?"bad-input":""),name:"email",placeholder:"email"}),o.a.createElement("div",{className:"finish-buttons"},o.a.createElement("button",{className:"button login-button",onClick:this.props.resendPassword},"Reset Password"),o.a.createElement("button",{className:"button white-button",onClick:this.props.forgotPassword},"Back to Login")))))))}}]),t}(n.Component),Re=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={password:"",password2:"",error:!1,passShow:!1},e.testPassword=e.testPassword.bind(Object(u.a)(Object(u.a)(e))),e.enterPassword=e.enterPassword.bind(Object(u.a)(Object(u.a)(e))),e.changePassview=e.changePassview.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"testPassword",value:function(){var e=this.state.password===this.state.password2;(e=e&&this.state.password.length>6)?this.props.passReset(this.state.password):this.setState({error:!0})}},{key:"changePassview",value:function(){this.setState({passShow:!this.state.passShow})}},{key:"returnToHome",value:function(){window.location.href="http://toolboxproject.io"}},{key:"enterPassword",value:function(e){var t={};t[e.target.name]=e.target.value,this.state.error&&this.setState({error:!1}),this.setState(t)}},{key:"componentWillMount",value:function(){f.dispatch({type:"SET_PASS_RESET"})}},{key:"render",value:function(){return o.a.createElement("div",{className:"login-screen"},o.a.createElement("div",{className:"modal-container login-container"},o.a.createElement("div",{className:"modal-content login-modal"},o.a.createElement("span",{className:"big-title"},this.props.title),o.a.createElement("div",{className:"title-box"},o.a.createElement("h1",null,this.props.title),o.a.createElement("div",{className:"login-description"},"A purchasing tool for machine shops")),o.a.createElement("div",{className:"create-user"},o.a.createElement("div",{className:"interactions"},o.a.createElement("div",{className:"login-title"},"Enter your new password"),o.a.createElement("br",null),o.a.createElement("span",{className:"error-message fade-in "+(this.state.error?"":"gone")},"Your password must be at least 7 characters and match both times"),o.a.createElement("input",{type:this.state.passShow?"text":"password",onChange:this.enterPassword,className:"create-name",name:"password",placeholder:"new password",autoFocus:!0}),o.a.createElement("input",{type:this.state.passShow?"text":"password",onChange:this.enterPassword,className:"create-name",name:"password2",placeholder:"re-enter your password"}),o.a.createElement("div",null,o.a.createElement("input",{type:"checkbox",onChange:this.changePassview,id:"passCheck"}),o.a.createElement("label",{htmlFor:"passCheck"},"Show password")),o.a.createElement("div",{className:"finish-buttons"},o.a.createElement("button",{className:"button login-button",onClick:this.testPassword},"Reset Password"),o.a.createElement("button",{className:"button white-button",onClick:this.returnToHome},"Cancel")))))))}}]),t}(n.Component),xe=a(17),Le=a.n(xe);Le.a.initializeApp({apiKey:"AIzaSyBBJsF28NkuwTww0VP9iXgGJyNsvQyTPLQ",authDomain:"machshop-2876a.firebaseapp.com",databaseURL:"https://machshop-2876a.firebaseio.com",projectId:"machshop-2876a",storageBucket:"machshop-2876a.appspot.com",messagingSenderId:"358130993280"});var Ae=Le.a.auth(),Be=(Le.a,function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={user:null,email:"",password:"",validEmail:null,failed:null,createUser:!1,userInfo:[],finished:!1,resetPassword:!1,newCompanyName:null,title:"ToolBox",createUserBio:!1},e.loginAction=e.loginAction.bind(Object(u.a)(Object(u.a)(e))),e.logoutAction=e.logoutAction.bind(Object(u.a)(Object(u.a)(e))),e.update=e.update.bind(Object(u.a)(Object(u.a)(e))),e.createUser=e.createUser.bind(Object(u.a)(Object(u.a)(e))),e.createUserBioToggle=e.createUserBioToggle.bind(Object(u.a)(Object(u.a)(e))),e.createUserInfo=e.createUserInfo.bind(Object(u.a)(Object(u.a)(e))),e.addUser=e.addUser.bind(Object(u.a)(Object(u.a)(e))),e.post=e.post.bind(Object(u.a)(Object(u.a)(e))),e.addCompany=e.addCompany.bind(Object(u.a)(Object(u.a)(e))),e.resetNewToNull=e.resetNewToNull.bind(Object(u.a)(Object(u.a)(e))),e.forgotPassword=e.forgotPassword.bind(Object(u.a)(Object(u.a)(e))),e.resendPassword=e.resendPassword.bind(Object(u.a)(Object(u.a)(e))),e.passResetFn=e.passResetFn.bind(Object(u.a)(Object(u.a)(e))),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"resetNewToNull",value:function(){this.setState({newCompanyName:null})}},{key:"post",value:function(){var e=new Request("https://toolbbe.herokuapp.com/api/users",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({name:this.state.userInfo.displayName,company_name:this.state.userInfo.companyName?this.state.userInfo.companyName:"",company_id:this.state.userInfo.companyId,email:this.state.userInfo.email})});fetch(e).then(function(e){return e.json()}).catch(function(e){console.log(e)}).then(function(e){})}},{key:"addCompany",value:function(){var e=this,t=new Request("https://toolbbe.herokuapp.com/api/companies",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({name:this.state.newCompanyName,street_address:"",city:"",state:"",country:"",email:"",phone_number:""})});fetch(t).then(function(e){return e.json()}).then(function(t){var a=e.state.userInfo;a.companyId=t._id,a.companyName=t.name,Ae.createUserWithEmailAndPassword(a.email,a.password).then(function(t){var n=Ae.currentUser;n.updateProfile({displayName:a.displayName}).then(function(t){n.sendEmailVerification().then(function(){e.post(),e.setState({finished:!0})}).catch(function(t){e.setState({failed:"invalid email"})})}).catch(function(t){e.setState({failed:t.code})})}).catch(function(t){e.setState({failed:t.code})})})}},{key:"forgotPassword",value:function(){this.setState({resetPassword:!this.state.resetPassword})}},{key:"createUserInfo",value:function(e){this.setState({failed:!1});var t=this.state.userInfo;switch(e.target.name){case"name":t.displayName=e.target.value;break;case"cid":t.companyId=e.target.value;break;case"email":t.email=e.target.value;break;case"verifyEmail":t.vmail=e.target.value;break;case"pass":t.password=e.target.value;break;case"verifyPass":t.vword=e.target.value;break;case"newCompanyName":this.setState({newCompanyName:e.target.value});break;default:return}}},{key:"createUser",value:function(){this.setState({createUser:!this.state.createUser,failed:!1})}},{key:"createUserBioToggle",value:function(){this.setState({createUserBio:!this.state.createUserBio,failed:!1})}},{key:"componentWillMount",value:function(){f.dispatch({type:"SET_URL"}),sessionStorage.getItem("userId")&&(this.setState({validEmail:!0}),D())}},{key:"login",value:function(){var e=new URLSearchParams(window.location.search).get("mode");return this.state.validEmail?o.a.createElement(Ie,{logout:this.logoutAction,title:this.state.title}):this.state.createUser?o.a.createElement(ze,{addUser:this.addUser,createUser:this.createUser,createUserInfo:this.createUserInfo,finished:this.state.finished,resetNewToNull:this.resetNewToNull,failed:this.state.failed,title:this.state.title}):this.state.createUserBio?o.a.createElement(Fe,{createUser:this.createUser,createUserBioToggle:this.createUserBioToggle,title:this.state.title}):this.state.resetPassword?o.a.createElement(Ue,{forgotPassword:this.forgotPassword,resendPassword:this.resendPassword,failed:this.state.failed,message:this.state.message,update:this.update,title:this.state.title}):"resetPassword"===e?o.a.createElement(Re,{title:this.state.title,passReset:this.passResetFn}):o.a.createElement(Pe,{forgotPassword:this.forgotPassword,login:this.loginAction,update:this.update,createUserBioToggle:this.createUserBioToggle,createUser:this.createUser,failed:this.state.failed,title:this.state.title})}},{key:"update",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"loginAction",value:function(){var e=this;this.setState({failed:null}),Ae.signInWithEmailAndPassword(this.state.email,this.state.password).then(function(t){fetch("https://toolbbe.herokuapp.com/api/allusers").then(function(e){return e.json()}).then(function(a){if(a.length>0){var n=a.find(function(e){return e.email.toLowerCase()===t.email.toLowerCase()});D(n),sessionStorage.setItem("userId",n._id),e.setState({validEmail:t.email,password:null})}else e.setState({failed:"login database error"})})}).catch(function(t){e.setState({failed:t.code})})}},{key:"resendPassword",value:function(){var e=this;Ae.sendPasswordResetEmail(this.state.email).then(function(){}).catch(function(t){e.setState({failed:t.message})})}},{key:"passResetFn",value:function(e){var t=new URLSearchParams(window.location.search).get("oobCode");Ae.verifyPasswordResetCode(t).then(function(a){Ae.confirmPasswordReset(t,e).then(function(e){console.log(e),window.location.href="http://www.toolboxproject.io"}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}},{key:"addUser",value:function(){var e=this;this.setState({failed:null});var t=this.state.userInfo;t.displayName&&(t.companyId||this.state.newCompanyName)&&t.email&&t.password?this.state.newCompanyName?this.addCompany():Ae.createUserWithEmailAndPassword(t.email,t.password).then(function(a){var n=Ae.currentUser;n.updateProfile({displayName:t.displayName}).then(function(t){n.sendEmailVerification().then(function(){e.post(),e.setState({finished:!0})}).catch(function(t){e.setState({failed:"invalid email"})})}).catch(function(t){e.setState({failed:t.code})})}).catch(function(t){e.setState({failed:t.code})}):this.setState({failed:"required fields must be filled in"})}},{key:"logoutAction",value:function(){var e=this;Ae.signOut().then(function(){sessionStorage.clear(),e.setState({validEmail:null})})}},{key:"render",value:function(){var e=this.login();return o.a.createElement("div",{className:"App",id:"App"},e)}}]),t}(n.Component)),He=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Je(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(62);l.a.render(o.a.createElement(Be,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");He?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Je(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):Je(e)})}}()}},[[34,2,1]]]);
//# sourceMappingURL=main.fc4e098e.chunk.js.map